(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(a){if(a.ep)return;a.ep=!0;const u=s(a);fetch(a.href,u)}})();function r0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Xu={exports:{}},Co={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function Xx(){if(Zp)return Co;Zp=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(o,a,u){var d=null;if(u!==void 0&&(d=""+u),a.key!==void 0&&(d=""+a.key),"key"in a){u={};for(var h in a)h!=="key"&&(u[h]=a[h])}else u=a;return a=u.ref,{$$typeof:n,type:o,key:d,ref:a!==void 0?a:null,props:u}}return Co.Fragment=e,Co.jsx=s,Co.jsxs=s,Co}var Wp;function Qx(){return Wp||(Wp=1,Xu.exports=Xx()),Xu.exports}var g=Qx(),Qu={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function Zx(){if(em)return ye;em=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),b=Symbol.iterator;function E(C){return C===null||typeof C!="object"?null:(C=b&&C[b]||C["@@iterator"],typeof C=="function"?C:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,A={};function V(C,z,ee){this.props=C,this.context=z,this.refs=A,this.updater=ee||M}V.prototype.isReactComponent={},V.prototype.setState=function(C,z){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,z,"setState")},V.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Y(){}Y.prototype=V.prototype;function B(C,z,ee){this.props=C,this.context=z,this.refs=A,this.updater=ee||M}var P=B.prototype=new Y;P.constructor=B,R(P,V.prototype),P.isPureReactComponent=!0;var Z=Array.isArray;function Q(){}var w={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function k(C,z,ee){var se=ee.ref;return{$$typeof:n,type:C,key:z,ref:se!==void 0?se:null,props:ee}}function X(C,z){return k(C.type,z,C.props)}function ne(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function ue(C){var z={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ee){return z[ee]})}var ie=/\/+/g;function Ge(C,z){return typeof C=="object"&&C!==null&&C.key!=null?ue(""+C.key):z.toString(36)}function W(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Q,Q):(C.status="pending",C.then(function(z){C.status==="pending"&&(C.status="fulfilled",C.value=z)},function(z){C.status==="pending"&&(C.status="rejected",C.reason=z)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function D(C,z,ee,se,pe){var me=typeof C;(me==="undefined"||me==="boolean")&&(C=null);var _e=!1;if(C===null)_e=!0;else switch(me){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(C.$$typeof){case n:case e:_e=!0;break;case x:return _e=C._init,D(_e(C._payload),z,ee,se,pe)}}if(_e)return pe=pe(C),_e=se===""?"."+Ge(C,0):se,Z(pe)?(ee="",_e!=null&&(ee=_e.replace(ie,"$&/")+"/"),D(pe,z,ee,"",function(Ds){return Ds})):pe!=null&&(ne(pe)&&(pe=X(pe,ee+(pe.key==null||C&&C.key===pe.key?"":(""+pe.key).replace(ie,"$&/")+"/")+_e)),z.push(pe)),1;_e=0;var ze=se===""?".":se+":";if(Z(C))for(var $e=0;$e<C.length;$e++)se=C[$e],me=ze+Ge(se,$e),_e+=D(se,z,ee,me,pe);else if($e=E(C),typeof $e=="function")for(C=$e.call(C),$e=0;!(se=C.next()).done;)se=se.value,me=ze+Ge(se,$e++),_e+=D(se,z,ee,me,pe);else if(me==="object"){if(typeof C.then=="function")return D(W(C),z,ee,se,pe);throw z=String(C),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return _e}function K(C,z,ee){if(C==null)return C;var se=[],pe=0;return D(C,se,"","",function(me){return z.call(ee,me,pe++)}),se}function re(C){if(C._status===-1){var z=C._result;z=z(),z.then(function(ee){(C._status===0||C._status===-1)&&(C._status=1,C._result=ee)},function(ee){(C._status===0||C._status===-1)&&(C._status=2,C._result=ee)}),C._status===-1&&(C._status=0,C._result=z)}if(C._status===1)return C._result.default;throw C._result}var L=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},ae={map:K,forEach:function(C,z,ee){K(C,function(){z.apply(this,arguments)},ee)},count:function(C){var z=0;return K(C,function(){z++}),z},toArray:function(C){return K(C,function(z){return z})||[]},only:function(C){if(!ne(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return ye.Activity=_,ye.Children=ae,ye.Component=V,ye.Fragment=s,ye.Profiler=a,ye.PureComponent=B,ye.StrictMode=o,ye.Suspense=y,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,ye.__COMPILER_RUNTIME={__proto__:null,c:function(C){return w.H.useMemoCache(C)}},ye.cache=function(C){return function(){return C.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(C,z,ee){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var se=R({},C.props),pe=C.key;if(z!=null)for(me in z.key!==void 0&&(pe=""+z.key),z)!G.call(z,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&z.ref===void 0||(se[me]=z[me]);var me=arguments.length-2;if(me===1)se.children=ee;else if(1<me){for(var _e=Array(me),ze=0;ze<me;ze++)_e[ze]=arguments[ze+2];se.children=_e}return k(C.type,pe,se)},ye.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},ye.createElement=function(C,z,ee){var se,pe={},me=null;if(z!=null)for(se in z.key!==void 0&&(me=""+z.key),z)G.call(z,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(pe[se]=z[se]);var _e=arguments.length-2;if(_e===1)pe.children=ee;else if(1<_e){for(var ze=Array(_e),$e=0;$e<_e;$e++)ze[$e]=arguments[$e+2];pe.children=ze}if(C&&C.defaultProps)for(se in _e=C.defaultProps,_e)pe[se]===void 0&&(pe[se]=_e[se]);return k(C,me,pe)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(C){return{$$typeof:h,render:C}},ye.isValidElement=ne,ye.lazy=function(C){return{$$typeof:x,_payload:{_status:-1,_result:C},_init:re}},ye.memo=function(C,z){return{$$typeof:m,type:C,compare:z===void 0?null:z}},ye.startTransition=function(C){var z=w.T,ee={};w.T=ee;try{var se=C(),pe=w.S;pe!==null&&pe(ee,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Q,L)}catch(me){L(me)}finally{z!==null&&ee.types!==null&&(z.types=ee.types),w.T=z}},ye.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},ye.use=function(C){return w.H.use(C)},ye.useActionState=function(C,z,ee){return w.H.useActionState(C,z,ee)},ye.useCallback=function(C,z){return w.H.useCallback(C,z)},ye.useContext=function(C){return w.H.useContext(C)},ye.useDebugValue=function(){},ye.useDeferredValue=function(C,z){return w.H.useDeferredValue(C,z)},ye.useEffect=function(C,z){return w.H.useEffect(C,z)},ye.useEffectEvent=function(C){return w.H.useEffectEvent(C)},ye.useId=function(){return w.H.useId()},ye.useImperativeHandle=function(C,z,ee){return w.H.useImperativeHandle(C,z,ee)},ye.useInsertionEffect=function(C,z){return w.H.useInsertionEffect(C,z)},ye.useLayoutEffect=function(C,z){return w.H.useLayoutEffect(C,z)},ye.useMemo=function(C,z){return w.H.useMemo(C,z)},ye.useOptimistic=function(C,z){return w.H.useOptimistic(C,z)},ye.useReducer=function(C,z,ee){return w.H.useReducer(C,z,ee)},ye.useRef=function(C){return w.H.useRef(C)},ye.useState=function(C){return w.H.useState(C)},ye.useSyncExternalStore=function(C,z,ee){return w.H.useSyncExternalStore(C,z,ee)},ye.useTransition=function(){return w.H.useTransition()},ye.version="19.2.3",ye}var tm;function Rc(){return tm||(tm=1,Qu.exports=Zx()),Qu.exports}var oe=Rc();const Wx=r0(oe);var Zu={exports:{}},Ao={},Wu={exports:{}},ec={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function e_(){return nm||(nm=1,(function(n){function e(D,K){var re=D.length;D.push(K);e:for(;0<re;){var L=re-1>>>1,ae=D[L];if(0<a(ae,K))D[L]=K,D[re]=ae,re=L;else break e}}function s(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var K=D[0],re=D.pop();if(re!==K){D[0]=re;e:for(var L=0,ae=D.length,C=ae>>>1;L<C;){var z=2*(L+1)-1,ee=D[z],se=z+1,pe=D[se];if(0>a(ee,re))se<ae&&0>a(pe,ee)?(D[L]=pe,D[se]=re,L=se):(D[L]=ee,D[z]=re,L=z);else if(se<ae&&0>a(pe,re))D[L]=pe,D[se]=re,L=se;else break e}}return K}function a(D,K){var re=D.sortIndex-K.sortIndex;return re!==0?re:D.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var y=[],m=[],x=1,_=null,b=3,E=!1,M=!1,R=!1,A=!1,V=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function P(D){for(var K=s(m);K!==null;){if(K.callback===null)o(m);else if(K.startTime<=D)o(m),K.sortIndex=K.expirationTime,e(y,K);else break;K=s(m)}}function Z(D){if(R=!1,P(D),!M)if(s(y)!==null)M=!0,Q||(Q=!0,ue());else{var K=s(m);K!==null&&W(Z,K.startTime-D)}}var Q=!1,w=-1,G=5,k=-1;function X(){return A?!0:!(n.unstable_now()-k<G)}function ne(){if(A=!1,Q){var D=n.unstable_now();k=D;var K=!0;try{e:{M=!1,R&&(R=!1,Y(w),w=-1),E=!0;var re=b;try{t:{for(P(D),_=s(y);_!==null&&!(_.expirationTime>D&&X());){var L=_.callback;if(typeof L=="function"){_.callback=null,b=_.priorityLevel;var ae=L(_.expirationTime<=D);if(D=n.unstable_now(),typeof ae=="function"){_.callback=ae,P(D),K=!0;break t}_===s(y)&&o(y),P(D)}else o(y);_=s(y)}if(_!==null)K=!0;else{var C=s(m);C!==null&&W(Z,C.startTime-D),K=!1}}break e}finally{_=null,b=re,E=!1}K=void 0}}finally{K?ue():Q=!1}}}var ue;if(typeof B=="function")ue=function(){B(ne)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,Ge=ie.port2;ie.port1.onmessage=ne,ue=function(){Ge.postMessage(null)}}else ue=function(){V(ne,0)};function W(D,K){w=V(function(){D(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(D){switch(b){case 1:case 2:case 3:var K=3;break;default:K=b}var re=b;b=K;try{return D()}finally{b=re}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(D,K){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var re=b;b=D;try{return K()}finally{b=re}},n.unstable_scheduleCallback=function(D,K,re){var L=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?L+re:L):re=L,D){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=re+ae,D={id:x++,callback:K,priorityLevel:D,startTime:re,expirationTime:ae,sortIndex:-1},re>L?(D.sortIndex=re,e(m,D),s(y)===null&&D===s(m)&&(R?(Y(w),w=-1):R=!0,W(Z,re-L))):(D.sortIndex=ae,e(y,D),M||E||(M=!0,Q||(Q=!0,ue()))),D},n.unstable_shouldYield=X,n.unstable_wrapCallback=function(D){var K=b;return function(){var re=b;b=K;try{return D.apply(this,arguments)}finally{b=re}}}})(ec)),ec}var im;function t_(){return im||(im=1,Wu.exports=e_()),Wu.exports}var tc={exports:{}},rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function n_(){if(sm)return rt;sm=1;var n=Rc();function e(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(y,m,x){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:y,containerInfo:m,implementation:x}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,rt.createPortal=function(y,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(y,m,null,x)},rt.flushSync=function(y){var m=d.T,x=o.p;try{if(d.T=null,o.p=2,y)return y()}finally{d.T=m,o.p=x,o.d.f()}},rt.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(y,m))},rt.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},rt.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var x=m.as,_=h(x,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?o.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:E}):x==="script"&&o.d.X(y,{crossOrigin:_,integrity:b,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},rt.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=h(m.as,m.crossOrigin);o.d.M(y,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(y)},rt.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,_=h(x,m.crossOrigin);o.d.L(y,x,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},rt.preloadModule=function(y,m){if(typeof y=="string")if(m){var x=h(m.as,m.crossOrigin);o.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(y)},rt.requestFormReset=function(y){o.d.r(y)},rt.unstable_batchedUpdates=function(y,m){return y(m)},rt.useFormState=function(y,m,x){return d.H.useFormState(y,m,x)},rt.useFormStatus=function(){return d.H.useHostTransitionStatus()},rt.version="19.2.3",rt}var om;function i_(){if(om)return tc.exports;om=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),tc.exports=n_(),tc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm;function s_(){if(lm)return Ao;lm=1;var n=t_(),e=Rc(),s=i_();function o(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,l=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(l=i.return),t=i.return;while(t)}return i.tag===3?l:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(o(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(o(188));return i!==t?null:t}for(var l=t,r=i;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(r=p.return,r!==null){l=r;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return y(p),t;if(v===r)return y(p),i;v=v.sibling}throw Error(o(188))}if(l.return!==r.return)l=p,r=v;else{for(var S=!1,T=p.child;T;){if(T===l){S=!0,l=p,r=v;break}if(T===r){S=!0,r=p,l=v;break}T=T.sibling}if(!S){for(T=v.child;T;){if(T===l){S=!0,l=v,r=p;break}if(T===r){S=!0,r=v,l=p;break}T=T.sibling}if(!S)throw Error(o(189))}}if(l.alternate!==r)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?t:i}function x(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=x(t),i!==null)return i;t=t.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),B=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function ue(t){return t===null||typeof t!="object"?null:(t=ne&&t[ne]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Symbol.for("react.client.reference");function Ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ie?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case R:return"Fragment";case V:return"Profiler";case A:return"StrictMode";case Z:return"Suspense";case Q:return"SuspenseList";case k:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case B:return t.displayName||"Context";case Y:return(t._context.displayName||"Context")+".Consumer";case P:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return i=t.displayName||null,i!==null?i:Ge(t.type)||"Memo";case G:i=t._payload,t=t._init;try{return Ge(t(i))}catch{}}return null}var W=Array.isArray,D=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},L=[],ae=-1;function C(t){return{current:t}}function z(t){0>ae||(t.current=L[ae],L[ae]=null,ae--)}function ee(t,i){ae++,L[ae]=t.current,t.current=i}var se=C(null),pe=C(null),me=C(null),_e=C(null);function ze(t,i){switch(ee(me,i),ee(pe,t),ee(se,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?bp(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=bp(i),t=Sp(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}z(se),ee(se,t)}function $e(){z(se),z(pe),z(me)}function Ds(t){t.memoizedState!==null&&ee(_e,t);var i=se.current,l=Sp(i,t.type);i!==l&&(ee(pe,t),ee(se,l))}function Oo(t){pe.current===t&&(z(se),z(pe)),_e.current===t&&(z(_e),To._currentValue=re)}var Ia,Xc;function ni(t){if(Ia===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Ia=i&&i[1]||"",Xc=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ia+t+Xc}var Da=!1;function Ua(t,i){if(!t||Da)return"";Da=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(j){var q=j}Reflect.construct(t,[],J)}else{try{J.call()}catch(j){q=j}t.call(J.prototype)}}else{try{throw Error()}catch(j){q=j}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(j){if(j&&q&&typeof j.stack=="string")return[j.stack,q.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=r.DetermineComponentFrameRoot(),S=v[0],T=v[1];if(S&&T){var N=S.split(`
`),H=T.split(`
`);for(p=r=0;r<N.length&&!N[r].includes("DetermineComponentFrameRoot");)r++;for(;p<H.length&&!H[p].includes("DetermineComponentFrameRoot");)p++;if(r===N.length||p===H.length)for(r=N.length-1,p=H.length-1;1<=r&&0<=p&&N[r]!==H[p];)p--;for(;1<=r&&0<=p;r--,p--)if(N[r]!==H[p]){if(r!==1||p!==1)do if(r--,p--,0>p||N[r]!==H[p]){var F=`
`+N[r].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=r&&0<=p);break}}}finally{Da=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?ni(l):""}function Cy(t,i){switch(t.tag){case 26:case 27:case 5:return ni(t.type);case 16:return ni("Lazy");case 13:return t.child!==i&&i!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return Ua(t.type,!1);case 11:return Ua(t.type.render,!1);case 1:return Ua(t.type,!0);case 31:return ni("Activity");default:return""}}function Qc(t){try{var i="",l=null;do i+=Cy(t,l),l=t,t=t.return;while(t);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var La=Object.prototype.hasOwnProperty,Pa=n.unstable_scheduleCallback,Ga=n.unstable_cancelCallback,Ay=n.unstable_shouldYield,ky=n.unstable_requestPaint,St=n.unstable_now,Ry=n.unstable_getCurrentPriorityLevel,Zc=n.unstable_ImmediatePriority,Wc=n.unstable_UserBlockingPriority,Ho=n.unstable_NormalPriority,My=n.unstable_LowPriority,ed=n.unstable_IdlePriority,Iy=n.log,Dy=n.unstable_setDisableYieldValue,Us=null,Tt=null;function Nn(t){if(typeof Iy=="function"&&Dy(t),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(Us,t)}catch{}}var Et=Math.clz32?Math.clz32:Py,Uy=Math.log,Ly=Math.LN2;function Py(t){return t>>>=0,t===0?32:31-(Uy(t)/Ly|0)|0}var qo=256,Vo=262144,Bo=4194304;function ii(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function zo(t,i,l){var r=t.pendingLanes;if(r===0)return 0;var p=0,v=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var T=r&134217727;return T!==0?(r=T&~v,r!==0?p=ii(r):(S&=T,S!==0?p=ii(S):l||(l=T&~t,l!==0&&(p=ii(l))))):(T=r&~v,T!==0?p=ii(T):S!==0?p=ii(S):l||(l=r&~t,l!==0&&(p=ii(l)))),p===0?0:i!==0&&i!==p&&(i&v)===0&&(v=p&-p,l=i&-i,v>=l||v===32&&(l&4194048)!==0)?i:p}function Ls(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Gy(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function td(){var t=Bo;return Bo<<=1,(Bo&62914560)===0&&(Bo=4194304),t}function Oa(t){for(var i=[],l=0;31>l;l++)i.push(t);return i}function Ps(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Oy(t,i,l,r,p,v){var S=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,H=t.hiddenUpdates;for(l=S&~l;0<l;){var F=31-Et(l),J=1<<F;T[F]=0,N[F]=-1;var q=H[F];if(q!==null)for(H[F]=null,F=0;F<q.length;F++){var j=q[F];j!==null&&(j.lane&=-536870913)}l&=~J}r!==0&&nd(t,r,0),v!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=v&~(S&~i))}function nd(t,i,l){t.pendingLanes|=i,t.suspendedLanes&=~i;var r=31-Et(i);t.entangledLanes|=i,t.entanglements[r]=t.entanglements[r]|1073741824|l&261930}function id(t,i){var l=t.entangledLanes|=i;for(t=t.entanglements;l;){var r=31-Et(l),p=1<<r;p&i|t[r]&i&&(t[r]|=i),l&=~p}}function sd(t,i){var l=i&-i;return l=(l&42)!==0?1:Ha(l),(l&(t.suspendedLanes|i))!==0?0:l}function Ha(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function od(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:Fp(t.type))}function ld(t,i){var l=K.p;try{return K.p=t,i()}finally{K.p=l}}var Cn=Math.random().toString(36).slice(2),it="__reactFiber$"+Cn,pt="__reactProps$"+Cn,Ri="__reactContainer$"+Cn,Va="__reactEvents$"+Cn,Hy="__reactListeners$"+Cn,qy="__reactHandles$"+Cn,ad="__reactResources$"+Cn,Gs="__reactMarker$"+Cn;function Ba(t){delete t[it],delete t[pt],delete t[Va],delete t[Hy],delete t[qy]}function Mi(t){var i=t[it];if(i)return i;for(var l=t.parentNode;l;){if(i=l[Ri]||l[it]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(t=kp(t);t!==null;){if(l=t[it])return l;t=kp(t)}return i}t=l,l=t.parentNode}return null}function Ii(t){if(t=t[it]||t[Ri]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Os(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(o(33))}function Di(t){var i=t[ad];return i||(i=t[ad]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function et(t){t[Gs]=!0}var rd=new Set,ud={};function si(t,i){Ui(t,i),Ui(t+"Capture",i)}function Ui(t,i){for(ud[t]=i,t=0;t<i.length;t++)rd.add(i[t])}var Vy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cd={},dd={};function By(t){return La.call(dd,t)?!0:La.call(cd,t)?!1:Vy.test(t)?dd[t]=!0:(cd[t]=!0,!1)}function jo(t,i,l){if(By(i))if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+l)}}function Fo(t,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+l)}}function on(t,i,l,r){if(r===null)t.removeAttribute(l);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(i,l,""+r)}}function Dt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fd(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function zy(t,i,l){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var p=r.get,v=r.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return p.call(this)},set:function(S){l=""+S,v.call(this,S)}}),Object.defineProperty(t,i,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function za(t){if(!t._valueTracker){var i=fd(t)?"checked":"value";t._valueTracker=zy(t,i,""+t[i])}}function hd(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var l=i.getValue(),r="";return t&&(r=fd(t)?t.checked?"true":"false":t.value),t=r,t!==l?(i.setValue(t),!0):!1}function $o(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jy=/[\n"\\]/g;function Ut(t){return t.replace(jy,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ja(t,i,l,r,p,v,S,T){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),i!=null?S==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Dt(i)):t.value!==""+Dt(i)&&(t.value=""+Dt(i)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),i!=null?Fa(t,S,Dt(i)):l!=null?Fa(t,S,Dt(l)):r!=null&&t.removeAttribute("value"),p==null&&v!=null&&(t.defaultChecked=!!v),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Dt(T):t.removeAttribute("name")}function pd(t,i,l,r,p,v,S,T){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.type=v),i!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||i!=null)){za(t);return}l=l!=null?""+Dt(l):"",i=i!=null?""+Dt(i):l,T||i===t.value||(t.value=i),t.defaultValue=i}r=r??p,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=T?t.checked:!!r,t.defaultChecked=!!r,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S),za(t)}function Fa(t,i,l){i==="number"&&$o(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function Li(t,i,l,r){if(t=t.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<t.length;l++)p=i.hasOwnProperty("$"+t[l].value),t[l].selected!==p&&(t[l].selected=p),p&&r&&(t[l].defaultSelected=!0)}else{for(l=""+Dt(l),i=null,p=0;p<t.length;p++){if(t[p].value===l){t[p].selected=!0,r&&(t[p].defaultSelected=!0);return}i!==null||t[p].disabled||(i=t[p])}i!==null&&(i.selected=!0)}}function md(t,i,l){if(i!=null&&(i=""+Dt(i),i!==t.value&&(t.value=i),l==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=l!=null?""+Dt(l):""}function gd(t,i,l,r){if(i==null){if(r!=null){if(l!=null)throw Error(o(92));if(W(r)){if(1<r.length)throw Error(o(93));r=r[0]}l=r}l==null&&(l=""),i=l}l=Dt(i),t.defaultValue=l,r=t.textContent,r===l&&r!==""&&r!==null&&(t.value=r),za(t)}function Pi(t,i){if(i){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=i;return}}t.textContent=i}var Fy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yd(t,i,l){var r=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?r?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":r?t.setProperty(i,l):typeof l!="number"||l===0||Fy.has(i)?i==="float"?t.cssFloat=l:t[i]=(""+l).trim():t[i]=l+"px"}function vd(t,i,l){if(i!=null&&typeof i!="object")throw Error(o(62));if(t=t.style,l!=null){for(var r in l)!l.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var p in i)r=i[p],i.hasOwnProperty(p)&&l[p]!==r&&yd(t,p,r)}else for(var v in i)i.hasOwnProperty(v)&&yd(t,v,i[v])}function $a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $y=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jo(t){return Jy.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ln(){}var Ja=null;function Ya(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gi=null,Oi=null;function xd(t){var i=Ii(t);if(i&&(t=i.stateNode)){var l=t[pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ja(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ut(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var r=l[i];if(r!==t&&r.form===t.form){var p=r[pt]||null;if(!p)throw Error(o(90));ja(r,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<l.length;i++)r=l[i],r.form===t.form&&hd(r)}break e;case"textarea":md(t,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&Li(t,!!l.multiple,i,!1)}}}var Ka=!1;function _d(t,i,l){if(Ka)return t(i,l);Ka=!0;try{var r=t(i);return r}finally{if(Ka=!1,(Gi!==null||Oi!==null)&&(Ul(),Gi&&(i=Gi,t=Oi,Oi=Gi=null,xd(i),t)))for(i=0;i<t.length;i++)xd(t[i])}}function Hs(t,i){var l=t.stateNode;if(l===null)return null;var r=l[pt]||null;if(r===null)return null;l=r[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(o(231,i,typeof l));return l}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xa=!1;if(an)try{var qs={};Object.defineProperty(qs,"passive",{get:function(){Xa=!0}}),window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{Xa=!1}var An=null,Qa=null,Yo=null;function bd(){if(Yo)return Yo;var t,i=Qa,l=i.length,r,p="value"in An?An.value:An.textContent,v=p.length;for(t=0;t<l&&i[t]===p[t];t++);var S=l-t;for(r=1;r<=S&&i[l-r]===p[v-r];r++);return Yo=p.slice(t,1<r?1-r:void 0)}function Ko(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Xo(){return!0}function Sd(){return!1}function mt(t){function i(l,r,p,v,S){this._reactName=l,this._targetInst=p,this.type=r,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(l=t[T],this[T]=l?l(v):v[T]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Xo:Sd,this.isPropagationStopped=Sd,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Xo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Xo)},persist:function(){},isPersistent:Xo}),i}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qo=mt(oi),Vs=_({},oi,{view:0,detail:0}),Yy=mt(Vs),Za,Wa,Bs,Zo=_({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bs&&(Bs&&t.type==="mousemove"?(Za=t.screenX-Bs.screenX,Wa=t.screenY-Bs.screenY):Wa=Za=0,Bs=t),Za)},movementY:function(t){return"movementY"in t?t.movementY:Wa}}),Td=mt(Zo),Ky=_({},Zo,{dataTransfer:0}),Xy=mt(Ky),Qy=_({},Vs,{relatedTarget:0}),er=mt(Qy),Zy=_({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Wy=mt(Zy),ev=_({},oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tv=mt(ev),nv=_({},oi,{data:0}),Ed=mt(nv),iv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ov={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lv(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ov[t])?!!i[t]:!1}function tr(){return lv}var av=_({},Vs,{key:function(t){if(t.key){var i=iv[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ko(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(t){return t.type==="keypress"?Ko(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ko(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rv=mt(av),uv=_({},Zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wd=mt(uv),cv=_({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),dv=mt(cv),fv=_({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),hv=mt(fv),pv=_({},Zo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mv=mt(pv),gv=_({},oi,{newState:0,oldState:0}),yv=mt(gv),vv=[9,13,27,32],nr=an&&"CompositionEvent"in window,zs=null;an&&"documentMode"in document&&(zs=document.documentMode);var xv=an&&"TextEvent"in window&&!zs,Nd=an&&(!nr||zs&&8<zs&&11>=zs),Cd=" ",Ad=!1;function kd(t,i){switch(t){case"keyup":return vv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hi=!1;function _v(t,i){switch(t){case"compositionend":return Rd(i);case"keypress":return i.which!==32?null:(Ad=!0,Cd);case"textInput":return t=i.data,t===Cd&&Ad?null:t;default:return null}}function bv(t,i){if(Hi)return t==="compositionend"||!nr&&kd(t,i)?(t=bd(),Yo=Qa=An=null,Hi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Nd&&i.locale!=="ko"?null:i.data;default:return null}}var Sv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Md(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Sv[t.type]:i==="textarea"}function Id(t,i,l,r){Gi?Oi?Oi.push(r):Oi=[r]:Gi=r,i=Vl(i,"onChange"),0<i.length&&(l=new Qo("onChange","change",null,l,r),t.push({event:l,listeners:i}))}var js=null,Fs=null;function Tv(t){mp(t,0)}function Wo(t){var i=Os(t);if(hd(i))return t}function Dd(t,i){if(t==="change")return i}var Ud=!1;if(an){var ir;if(an){var sr="oninput"in document;if(!sr){var Ld=document.createElement("div");Ld.setAttribute("oninput","return;"),sr=typeof Ld.oninput=="function"}ir=sr}else ir=!1;Ud=ir&&(!document.documentMode||9<document.documentMode)}function Pd(){js&&(js.detachEvent("onpropertychange",Gd),Fs=js=null)}function Gd(t){if(t.propertyName==="value"&&Wo(Fs)){var i=[];Id(i,Fs,t,Ya(t)),_d(Tv,i)}}function Ev(t,i,l){t==="focusin"?(Pd(),js=i,Fs=l,js.attachEvent("onpropertychange",Gd)):t==="focusout"&&Pd()}function wv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wo(Fs)}function Nv(t,i){if(t==="click")return Wo(i)}function Cv(t,i){if(t==="input"||t==="change")return Wo(i)}function Av(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var wt=typeof Object.is=="function"?Object.is:Av;function $s(t,i){if(wt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var l=Object.keys(t),r=Object.keys(i);if(l.length!==r.length)return!1;for(r=0;r<l.length;r++){var p=l[r];if(!La.call(i,p)||!wt(t[p],i[p]))return!1}return!0}function Od(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hd(t,i){var l=Od(t);t=0;for(var r;l;){if(l.nodeType===3){if(r=t+l.textContent.length,t<=i&&r>=i)return{node:l,offset:i-t};t=r}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Od(l)}}function qd(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?qd(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Vd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=$o(t.document);i instanceof t.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)t=i.contentWindow;else break;i=$o(t.document)}return i}function or(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var kv=an&&"documentMode"in document&&11>=document.documentMode,qi=null,lr=null,Js=null,ar=!1;function Bd(t,i,l){var r=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ar||qi==null||qi!==$o(r)||(r=qi,"selectionStart"in r&&or(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Js&&$s(Js,r)||(Js=r,r=Vl(lr,"onSelect"),0<r.length&&(i=new Qo("onSelect","select",null,i,l),t.push({event:i,listeners:r}),i.target=qi)))}function li(t,i){var l={};return l[t.toLowerCase()]=i.toLowerCase(),l["Webkit"+t]="webkit"+i,l["Moz"+t]="moz"+i,l}var Vi={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},rr={},zd={};an&&(zd=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function ai(t){if(rr[t])return rr[t];if(!Vi[t])return t;var i=Vi[t],l;for(l in i)if(i.hasOwnProperty(l)&&l in zd)return rr[t]=i[l];return t}var jd=ai("animationend"),Fd=ai("animationiteration"),$d=ai("animationstart"),Rv=ai("transitionrun"),Mv=ai("transitionstart"),Iv=ai("transitioncancel"),Jd=ai("transitionend"),Yd=new Map,ur="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ur.push("scrollEnd");function $t(t,i){Yd.set(t,i),si(i,[t])}var el=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Lt=[],Bi=0,cr=0;function tl(){for(var t=Bi,i=cr=Bi=0;i<t;){var l=Lt[i];Lt[i++]=null;var r=Lt[i];Lt[i++]=null;var p=Lt[i];Lt[i++]=null;var v=Lt[i];if(Lt[i++]=null,r!==null&&p!==null){var S=r.pending;S===null?p.next=p:(p.next=S.next,S.next=p),r.pending=p}v!==0&&Kd(l,p,v)}}function nl(t,i,l,r){Lt[Bi++]=t,Lt[Bi++]=i,Lt[Bi++]=l,Lt[Bi++]=r,cr|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function dr(t,i,l,r){return nl(t,i,l,r),il(t)}function ri(t,i){return nl(t,null,null,i),il(t)}function Kd(t,i,l){t.lanes|=l;var r=t.alternate;r!==null&&(r.lanes|=l);for(var p=!1,v=t.return;v!==null;)v.childLanes|=l,r=v.alternate,r!==null&&(r.childLanes|=l),v.tag===22&&(t=v.stateNode,t===null||t._visibility&1||(p=!0)),t=v,v=v.return;return t.tag===3?(v=t.stateNode,p&&i!==null&&(p=31-Et(l),t=v.hiddenUpdates,r=t[p],r===null?t[p]=[i]:r.push(i),i.lane=l|536870912),v):null}function il(t){if(50<go)throw go=0,_u=null,Error(o(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var zi={};function Dv(t,i,l,r){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(t,i,l,r){return new Dv(t,i,l,r)}function fr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rn(t,i){var l=t.alternate;return l===null?(l=Nt(t.tag,i,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=i,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,i=t.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function Xd(t,i){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,i=l.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function sl(t,i,l,r,p,v){var S=0;if(r=t,typeof t=="function")fr(t)&&(S=1);else if(typeof t=="string")S=Ox(t,l,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case k:return t=Nt(31,l,i,p),t.elementType=k,t.lanes=v,t;case R:return ui(l.children,p,v,i);case A:S=8,p|=24;break;case V:return t=Nt(12,l,i,p|2),t.elementType=V,t.lanes=v,t;case Z:return t=Nt(13,l,i,p),t.elementType=Z,t.lanes=v,t;case Q:return t=Nt(19,l,i,p),t.elementType=Q,t.lanes=v,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B:S=10;break e;case Y:S=9;break e;case P:S=11;break e;case w:S=14;break e;case G:S=16,r=null;break e}S=29,l=Error(o(130,t===null?"null":typeof t,"")),r=null}return i=Nt(S,l,i,p),i.elementType=t,i.type=r,i.lanes=v,i}function ui(t,i,l,r){return t=Nt(7,t,r,i),t.lanes=l,t}function hr(t,i,l){return t=Nt(6,t,null,i),t.lanes=l,t}function Qd(t){var i=Nt(18,null,null,0);return i.stateNode=t,i}function pr(t,i,l){return i=Nt(4,t.children!==null?t.children:[],t.key,i),i.lanes=l,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Zd=new WeakMap;function Pt(t,i){if(typeof t=="object"&&t!==null){var l=Zd.get(t);return l!==void 0?l:(i={value:t,source:i,stack:Qc(i)},Zd.set(t,i),i)}return{value:t,source:i,stack:Qc(i)}}var ji=[],Fi=0,ol=null,Ys=0,Gt=[],Ot=0,kn=null,en=1,tn="";function un(t,i){ji[Fi++]=Ys,ji[Fi++]=ol,ol=t,Ys=i}function Wd(t,i,l){Gt[Ot++]=en,Gt[Ot++]=tn,Gt[Ot++]=kn,kn=t;var r=en;t=tn;var p=32-Et(r)-1;r&=~(1<<p),l+=1;var v=32-Et(i)+p;if(30<v){var S=p-p%5;v=(r&(1<<S)-1).toString(32),r>>=S,p-=S,en=1<<32-Et(i)+p|l<<p|r,tn=v+t}else en=1<<v|l<<p|r,tn=t}function mr(t){t.return!==null&&(un(t,1),Wd(t,1,0))}function gr(t){for(;t===ol;)ol=ji[--Fi],ji[Fi]=null,Ys=ji[--Fi],ji[Fi]=null;for(;t===kn;)kn=Gt[--Ot],Gt[Ot]=null,tn=Gt[--Ot],Gt[Ot]=null,en=Gt[--Ot],Gt[Ot]=null}function ef(t,i){Gt[Ot++]=en,Gt[Ot++]=tn,Gt[Ot++]=kn,en=i.id,tn=i.overflow,kn=t}var st=null,qe=null,Ne=!1,Rn=null,Ht=!1,yr=Error(o(519));function Mn(t){var i=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ks(Pt(i,t)),yr}function tf(t){var i=t.stateNode,l=t.type,r=t.memoizedProps;switch(i[it]=t,i[pt]=r,l){case"dialog":Se("cancel",i),Se("close",i);break;case"iframe":case"object":case"embed":Se("load",i);break;case"video":case"audio":for(l=0;l<vo.length;l++)Se(vo[l],i);break;case"source":Se("error",i);break;case"img":case"image":case"link":Se("error",i),Se("load",i);break;case"details":Se("toggle",i);break;case"input":Se("invalid",i),pd(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Se("invalid",i);break;case"textarea":Se("invalid",i),gd(i,r.value,r.defaultValue,r.children)}l=r.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||r.suppressHydrationWarning===!0||xp(i.textContent,l)?(r.popover!=null&&(Se("beforetoggle",i),Se("toggle",i)),r.onScroll!=null&&Se("scroll",i),r.onScrollEnd!=null&&Se("scrollend",i),r.onClick!=null&&(i.onclick=ln),i=!0):i=!1,i||Mn(t,!0)}function nf(t){for(st=t.return;st;)switch(st.tag){case 5:case 31:case 13:Ht=!1;return;case 27:case 3:Ht=!0;return;default:st=st.return}}function $i(t){if(t!==st)return!1;if(!Ne)return nf(t),Ne=!0,!1;var i=t.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||Lu(t.type,t.memoizedProps)),l=!l),l&&qe&&Mn(t),nf(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));qe=Ap(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));qe=Ap(t)}else i===27?(i=qe,Fn(t.type)?(t=qu,qu=null,qe=t):qe=i):qe=st?Vt(t.stateNode.nextSibling):null;return!0}function ci(){qe=st=null,Ne=!1}function vr(){var t=Rn;return t!==null&&(xt===null?xt=t:xt.push.apply(xt,t),Rn=null),t}function Ks(t){Rn===null?Rn=[t]:Rn.push(t)}var xr=C(null),di=null,cn=null;function In(t,i,l){ee(xr,i._currentValue),i._currentValue=l}function dn(t){t._currentValue=xr.current,z(xr)}function _r(t,i,l){for(;t!==null;){var r=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),t===l)break;t=t.return}}function br(t,i,l,r){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var v=p.dependencies;if(v!==null){var S=p.child;v=v.firstContext;e:for(;v!==null;){var T=v;v=p;for(var N=0;N<i.length;N++)if(T.context===i[N]){v.lanes|=l,T=v.alternate,T!==null&&(T.lanes|=l),_r(v.return,l,t),r||(S=null);break e}v=T.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(o(341));S.lanes|=l,v=S.alternate,v!==null&&(v.lanes|=l),_r(S,l,t),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===t){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function Ji(t,i,l,r){t=null;for(var p=i,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(o(387));if(S=S.memoizedProps,S!==null){var T=p.type;wt(p.pendingProps.value,S.value)||(t!==null?t.push(T):t=[T])}}else if(p===_e.current){if(S=p.alternate,S===null)throw Error(o(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(To):t=[To])}p=p.return}t!==null&&br(i,t,l,r),i.flags|=262144}function ll(t){for(t=t.firstContext;t!==null;){if(!wt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function fi(t){di=t,cn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ot(t){return sf(di,t)}function al(t,i){return di===null&&fi(t),sf(t,i)}function sf(t,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},cn===null){if(t===null)throw Error(o(308));cn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else cn=cn.next=i;return l}var Uv=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(l,r){t.push(r)}};this.abort=function(){i.aborted=!0,t.forEach(function(l){return l()})}},Lv=n.unstable_scheduleCallback,Pv=n.unstable_NormalPriority,Ke={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sr(){return{controller:new Uv,data:new Map,refCount:0}}function Xs(t){t.refCount--,t.refCount===0&&Lv(Pv,function(){t.controller.abort()})}var Qs=null,Tr=0,Yi=0,Ki=null;function Gv(t,i){if(Qs===null){var l=Qs=[];Tr=0,Yi=Nu(),Ki={status:"pending",value:void 0,then:function(r){l.push(r)}}}return Tr++,i.then(of,of),i}function of(){if(--Tr===0&&Qs!==null){Ki!==null&&(Ki.status="fulfilled");var t=Qs;Qs=null,Yi=0,Ki=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Ov(t,i){var l=[],r={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return t.then(function(){r.status="fulfilled",r.value=i;for(var p=0;p<l.length;p++)(0,l[p])(i)},function(p){for(r.status="rejected",r.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),r}var lf=D.S;D.S=function(t,i){zh=St(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Gv(t,i),lf!==null&&lf(t,i)};var hi=C(null);function Er(){var t=hi.current;return t!==null?t:Oe.pooledCache}function rl(t,i){i===null?ee(hi,hi.current):ee(hi,i.pool)}function af(){var t=Er();return t===null?null:{parent:Ke._currentValue,pool:t}}var Xi=Error(o(460)),wr=Error(o(474)),ul=Error(o(542)),cl={then:function(){}};function rf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function uf(t,i,l){switch(l=t[l],l===void 0?t.push(i):l!==i&&(i.then(ln,ln),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,df(t),t;default:if(typeof i.status=="string")i.then(ln,ln);else{if(t=Oe,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=i,t.status="pending",t.then(function(r){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=r}},function(r){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,df(t),t}throw mi=i,Xi}}function pi(t){try{var i=t._init;return i(t._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(mi=l,Xi):l}}var mi=null;function cf(){if(mi===null)throw Error(o(459));var t=mi;return mi=null,t}function df(t){if(t===Xi||t===ul)throw Error(o(483))}var Qi=null,Zs=0;function dl(t){var i=Zs;return Zs+=1,Qi===null&&(Qi=[]),uf(Qi,t,i)}function Ws(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function fl(t,i){throw i.$$typeof===b?Error(o(525)):(t=Object.prototype.toString.call(i),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ff(t){function i(U,I){if(t){var O=U.deletions;O===null?(U.deletions=[I],U.flags|=16):O.push(I)}}function l(U,I){if(!t)return null;for(;I!==null;)i(U,I),I=I.sibling;return null}function r(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function p(U,I){return U=rn(U,I),U.index=0,U.sibling=null,U}function v(U,I,O){return U.index=O,t?(O=U.alternate,O!==null?(O=O.index,O<I?(U.flags|=67108866,I):O):(U.flags|=67108866,I)):(U.flags|=1048576,I)}function S(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,I,O,$){return I===null||I.tag!==6?(I=hr(O,U.mode,$),I.return=U,I):(I=p(I,O),I.return=U,I)}function N(U,I,O,$){var fe=O.type;return fe===R?F(U,I,O.props.children,$,O.key):I!==null&&(I.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===G&&pi(fe)===I.type)?(I=p(I,O.props),Ws(I,O),I.return=U,I):(I=sl(O.type,O.key,O.props,null,U.mode,$),Ws(I,O),I.return=U,I)}function H(U,I,O,$){return I===null||I.tag!==4||I.stateNode.containerInfo!==O.containerInfo||I.stateNode.implementation!==O.implementation?(I=pr(O,U.mode,$),I.return=U,I):(I=p(I,O.children||[]),I.return=U,I)}function F(U,I,O,$,fe){return I===null||I.tag!==7?(I=ui(O,U.mode,$,fe),I.return=U,I):(I=p(I,O),I.return=U,I)}function J(U,I,O){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=hr(""+I,U.mode,O),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case E:return O=sl(I.type,I.key,I.props,null,U.mode,O),Ws(O,I),O.return=U,O;case M:return I=pr(I,U.mode,O),I.return=U,I;case G:return I=pi(I),J(U,I,O)}if(W(I)||ue(I))return I=ui(I,U.mode,O,null),I.return=U,I;if(typeof I.then=="function")return J(U,dl(I),O);if(I.$$typeof===B)return J(U,al(U,I),O);fl(U,I)}return null}function q(U,I,O,$){var fe=I!==null?I.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return fe!==null?null:T(U,I,""+O,$);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case E:return O.key===fe?N(U,I,O,$):null;case M:return O.key===fe?H(U,I,O,$):null;case G:return O=pi(O),q(U,I,O,$)}if(W(O)||ue(O))return fe!==null?null:F(U,I,O,$,null);if(typeof O.then=="function")return q(U,I,dl(O),$);if(O.$$typeof===B)return q(U,I,al(U,O),$);fl(U,O)}return null}function j(U,I,O,$,fe){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return U=U.get(O)||null,T(I,U,""+$,fe);if(typeof $=="object"&&$!==null){switch($.$$typeof){case E:return U=U.get($.key===null?O:$.key)||null,N(I,U,$,fe);case M:return U=U.get($.key===null?O:$.key)||null,H(I,U,$,fe);case G:return $=pi($),j(U,I,O,$,fe)}if(W($)||ue($))return U=U.get(O)||null,F(I,U,$,fe,null);if(typeof $.then=="function")return j(U,I,O,dl($),fe);if($.$$typeof===B)return j(U,I,O,al(I,$),fe);fl(I,$)}return null}function le(U,I,O,$){for(var fe=null,Ae=null,ce=I,xe=I=0,Ee=null;ce!==null&&xe<O.length;xe++){ce.index>xe?(Ee=ce,ce=null):Ee=ce.sibling;var ke=q(U,ce,O[xe],$);if(ke===null){ce===null&&(ce=Ee);break}t&&ce&&ke.alternate===null&&i(U,ce),I=v(ke,I,xe),Ae===null?fe=ke:Ae.sibling=ke,Ae=ke,ce=Ee}if(xe===O.length)return l(U,ce),Ne&&un(U,xe),fe;if(ce===null){for(;xe<O.length;xe++)ce=J(U,O[xe],$),ce!==null&&(I=v(ce,I,xe),Ae===null?fe=ce:Ae.sibling=ce,Ae=ce);return Ne&&un(U,xe),fe}for(ce=r(ce);xe<O.length;xe++)Ee=j(ce,U,xe,O[xe],$),Ee!==null&&(t&&Ee.alternate!==null&&ce.delete(Ee.key===null?xe:Ee.key),I=v(Ee,I,xe),Ae===null?fe=Ee:Ae.sibling=Ee,Ae=Ee);return t&&ce.forEach(function(Xn){return i(U,Xn)}),Ne&&un(U,xe),fe}function he(U,I,O,$){if(O==null)throw Error(o(151));for(var fe=null,Ae=null,ce=I,xe=I=0,Ee=null,ke=O.next();ce!==null&&!ke.done;xe++,ke=O.next()){ce.index>xe?(Ee=ce,ce=null):Ee=ce.sibling;var Xn=q(U,ce,ke.value,$);if(Xn===null){ce===null&&(ce=Ee);break}t&&ce&&Xn.alternate===null&&i(U,ce),I=v(Xn,I,xe),Ae===null?fe=Xn:Ae.sibling=Xn,Ae=Xn,ce=Ee}if(ke.done)return l(U,ce),Ne&&un(U,xe),fe;if(ce===null){for(;!ke.done;xe++,ke=O.next())ke=J(U,ke.value,$),ke!==null&&(I=v(ke,I,xe),Ae===null?fe=ke:Ae.sibling=ke,Ae=ke);return Ne&&un(U,xe),fe}for(ce=r(ce);!ke.done;xe++,ke=O.next())ke=j(ce,U,xe,ke.value,$),ke!==null&&(t&&ke.alternate!==null&&ce.delete(ke.key===null?xe:ke.key),I=v(ke,I,xe),Ae===null?fe=ke:Ae.sibling=ke,Ae=ke);return t&&ce.forEach(function(Kx){return i(U,Kx)}),Ne&&un(U,xe),fe}function Pe(U,I,O,$){if(typeof O=="object"&&O!==null&&O.type===R&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case E:e:{for(var fe=O.key;I!==null;){if(I.key===fe){if(fe=O.type,fe===R){if(I.tag===7){l(U,I.sibling),$=p(I,O.props.children),$.return=U,U=$;break e}}else if(I.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===G&&pi(fe)===I.type){l(U,I.sibling),$=p(I,O.props),Ws($,O),$.return=U,U=$;break e}l(U,I);break}else i(U,I);I=I.sibling}O.type===R?($=ui(O.props.children,U.mode,$,O.key),$.return=U,U=$):($=sl(O.type,O.key,O.props,null,U.mode,$),Ws($,O),$.return=U,U=$)}return S(U);case M:e:{for(fe=O.key;I!==null;){if(I.key===fe)if(I.tag===4&&I.stateNode.containerInfo===O.containerInfo&&I.stateNode.implementation===O.implementation){l(U,I.sibling),$=p(I,O.children||[]),$.return=U,U=$;break e}else{l(U,I);break}else i(U,I);I=I.sibling}$=pr(O,U.mode,$),$.return=U,U=$}return S(U);case G:return O=pi(O),Pe(U,I,O,$)}if(W(O))return le(U,I,O,$);if(ue(O)){if(fe=ue(O),typeof fe!="function")throw Error(o(150));return O=fe.call(O),he(U,I,O,$)}if(typeof O.then=="function")return Pe(U,I,dl(O),$);if(O.$$typeof===B)return Pe(U,I,al(U,O),$);fl(U,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,I!==null&&I.tag===6?(l(U,I.sibling),$=p(I,O),$.return=U,U=$):(l(U,I),$=hr(O,U.mode,$),$.return=U,U=$),S(U)):l(U,I)}return function(U,I,O,$){try{Zs=0;var fe=Pe(U,I,O,$);return Qi=null,fe}catch(ce){if(ce===Xi||ce===ul)throw ce;var Ae=Nt(29,ce,null,U.mode);return Ae.lanes=$,Ae.return=U,Ae}finally{}}}var gi=ff(!0),hf=ff(!1),Dn=!1;function Nr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cr(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Un(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ln(t,i,l){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Me&2)!==0){var p=r.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),r.pending=i,i=il(t),Kd(t,null,l),i}return nl(t,r,i,l),il(t)}function eo(t,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var r=i.lanes;r&=t.pendingLanes,l|=r,i.lanes=l,id(t,l)}}function Ar(t,i){var l=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,l===r)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?p=v=S:v=v.next=S,l=l.next}while(l!==null);v===null?p=v=i:v=v.next=i}else p=v=i;l={baseState:r.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:r.shared,callbacks:r.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=i:t.next=i,l.lastBaseUpdate=i}var kr=!1;function to(){if(kr){var t=Ki;if(t!==null)throw t}}function no(t,i,l,r){kr=!1;var p=t.updateQueue;Dn=!1;var v=p.firstBaseUpdate,S=p.lastBaseUpdate,T=p.shared.pending;if(T!==null){p.shared.pending=null;var N=T,H=N.next;N.next=null,S===null?v=H:S.next=H,S=N;var F=t.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==S&&(T===null?F.firstBaseUpdate=H:T.next=H,F.lastBaseUpdate=N))}if(v!==null){var J=p.baseState;S=0,F=H=N=null,T=v;do{var q=T.lane&-536870913,j=q!==T.lane;if(j?(Te&q)===q:(r&q)===q){q!==0&&q===Yi&&(kr=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var le=t,he=T;q=i;var Pe=l;switch(he.tag){case 1:if(le=he.payload,typeof le=="function"){J=le.call(Pe,J,q);break e}J=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=he.payload,q=typeof le=="function"?le.call(Pe,J,q):le,q==null)break e;J=_({},J,q);break e;case 2:Dn=!0}}q=T.callback,q!==null&&(t.flags|=64,j&&(t.flags|=8192),j=p.callbacks,j===null?p.callbacks=[q]:j.push(q))}else j={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(H=F=j,N=J):F=F.next=j,S|=q;if(T=T.next,T===null){if(T=p.shared.pending,T===null)break;j=T,T=j.next,j.next=null,p.lastBaseUpdate=j,p.shared.pending=null}}while(!0);F===null&&(N=J),p.baseState=N,p.firstBaseUpdate=H,p.lastBaseUpdate=F,v===null&&(p.shared.lanes=0),qn|=S,t.lanes=S,t.memoizedState=J}}function pf(t,i){if(typeof t!="function")throw Error(o(191,t));t.call(i)}function mf(t,i){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)pf(l[t],i)}var Zi=C(null),hl=C(0);function gf(t,i){t=_n,ee(hl,t),ee(Zi,i),_n=t|i.baseLanes}function Rr(){ee(hl,_n),ee(Zi,Zi.current)}function Mr(){_n=hl.current,z(Zi),z(hl)}var Ct=C(null),qt=null;function Pn(t){var i=t.alternate;ee(Je,Je.current&1),ee(Ct,t),qt===null&&(i===null||Zi.current!==null||i.memoizedState!==null)&&(qt=t)}function Ir(t){ee(Je,Je.current),ee(Ct,t),qt===null&&(qt=t)}function yf(t){t.tag===22?(ee(Je,Je.current),ee(Ct,t),qt===null&&(qt=t)):Gn()}function Gn(){ee(Je,Je.current),ee(Ct,Ct.current)}function At(t){z(Ct),qt===t&&(qt=null),z(Je)}var Je=C(0);function pl(t){for(var i=t;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Ou(l)||Hu(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var fn=0,ve=null,Ue=null,Xe=null,ml=!1,Wi=!1,yi=!1,gl=0,io=0,es=null,Hv=0;function je(){throw Error(o(321))}function Dr(t,i){if(i===null)return!1;for(var l=0;l<i.length&&l<t.length;l++)if(!wt(t[l],i[l]))return!1;return!0}function Ur(t,i,l,r,p,v){return fn=v,ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,D.H=t===null||t.memoizedState===null?eh:Kr,yi=!1,v=l(r,p),yi=!1,Wi&&(v=xf(i,l,r,p)),vf(t),v}function vf(t){D.H=lo;var i=Ue!==null&&Ue.next!==null;if(fn=0,Xe=Ue=ve=null,ml=!1,io=0,es=null,i)throw Error(o(300));t===null||Qe||(t=t.dependencies,t!==null&&ll(t)&&(Qe=!0))}function xf(t,i,l,r){ve=t;var p=0;do{if(Wi&&(es=null),io=0,Wi=!1,25<=p)throw Error(o(301));if(p+=1,Xe=Ue=null,t.updateQueue!=null){var v=t.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}D.H=th,v=i(l,r)}while(Wi);return v}function qv(){var t=D.H,i=t.useState()[0];return i=typeof i.then=="function"?so(i):i,t=t.useState()[0],(Ue!==null?Ue.memoizedState:null)!==t&&(ve.flags|=1024),i}function Lr(){var t=gl!==0;return gl=0,t}function Pr(t,i,l){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~l}function Gr(t){if(ml){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ml=!1}fn=0,Xe=Ue=ve=null,Wi=!1,io=gl=0,es=null}function dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?ve.memoizedState=Xe=t:Xe=Xe.next=t,Xe}function Ye(){if(Ue===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var i=Xe===null?ve.memoizedState:Xe.next;if(i!==null)Xe=i,Ue=t;else{if(t===null)throw ve.alternate===null?Error(o(467)):Error(o(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Xe===null?ve.memoizedState=Xe=t:Xe=Xe.next=t}return Xe}function yl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function so(t){var i=io;return io+=1,es===null&&(es=[]),t=uf(es,t,i),i=ve,(Xe===null?i.memoizedState:Xe.next)===null&&(i=i.alternate,D.H=i===null||i.memoizedState===null?eh:Kr),t}function vl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return so(t);if(t.$$typeof===B)return ot(t)}throw Error(o(438,String(t)))}function Or(t){var i=null,l=ve.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var r=ve.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=yl(),ve.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(t),r=0;r<t;r++)l[r]=X;return i.index++,l}function hn(t,i){return typeof i=="function"?i(t):i}function xl(t){var i=Ye();return Hr(i,Ue,t)}function Hr(t,i,l){var r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=l;var p=t.baseQueue,v=r.pending;if(v!==null){if(p!==null){var S=p.next;p.next=v.next,v.next=S}i.baseQueue=p=v,r.pending=null}if(v=t.baseState,p===null)t.memoizedState=v;else{i=p.next;var T=S=null,N=null,H=i,F=!1;do{var J=H.lane&-536870913;if(J!==H.lane?(Te&J)===J:(fn&J)===J){var q=H.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),J===Yi&&(F=!0);else if((fn&q)===q){H=H.next,q===Yi&&(F=!0);continue}else J={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(T=N=J,S=v):N=N.next=J,ve.lanes|=q,qn|=q;J=H.action,yi&&l(v,J),v=H.hasEagerState?H.eagerState:l(v,J)}else q={lane:J,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(T=N=q,S=v):N=N.next=q,ve.lanes|=J,qn|=J;H=H.next}while(H!==null&&H!==i);if(N===null?S=v:N.next=T,!wt(v,t.memoizedState)&&(Qe=!0,F&&(l=Ki,l!==null)))throw l;t.memoizedState=v,t.baseState=S,t.baseQueue=N,r.lastRenderedState=v}return p===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function qr(t){var i=Ye(),l=i.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=t;var r=l.dispatch,p=l.pending,v=i.memoizedState;if(p!==null){l.pending=null;var S=p=p.next;do v=t(v,S.action),S=S.next;while(S!==p);wt(v,i.memoizedState)||(Qe=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,r]}function _f(t,i,l){var r=ve,p=Ye(),v=Ne;if(v){if(l===void 0)throw Error(o(407));l=l()}else l=i();var S=!wt((Ue||p).memoizedState,l);if(S&&(p.memoizedState=l,Qe=!0),p=p.queue,zr(Tf.bind(null,r,p,t),[t]),p.getSnapshot!==i||S||Xe!==null&&Xe.memoizedState.tag&1){if(r.flags|=2048,ts(9,{destroy:void 0},Sf.bind(null,r,p,l,i),null),Oe===null)throw Error(o(349));v||(fn&127)!==0||bf(r,i,l)}return l}function bf(t,i,l){t.flags|=16384,t={getSnapshot:i,value:l},i=ve.updateQueue,i===null?(i=yl(),ve.updateQueue=i,i.stores=[t]):(l=i.stores,l===null?i.stores=[t]:l.push(t))}function Sf(t,i,l,r){i.value=l,i.getSnapshot=r,Ef(i)&&wf(t)}function Tf(t,i,l){return l(function(){Ef(i)&&wf(t)})}function Ef(t){var i=t.getSnapshot;t=t.value;try{var l=i();return!wt(t,l)}catch{return!0}}function wf(t){var i=ri(t,2);i!==null&&_t(i,t,2)}function Vr(t){var i=dt();if(typeof t=="function"){var l=t;if(t=l(),yi){Nn(!0);try{l()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:t},i}function Nf(t,i,l,r){return t.baseState=l,Hr(t,Ue,typeof r=="function"?r:hn)}function Vv(t,i,l,r,p){if(Sl(t))throw Error(o(485));if(t=i.action,t!==null){var v={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};D.T!==null?l(!0):v.isTransition=!1,r(v),l=i.pending,l===null?(v.next=i.pending=v,Cf(i,v)):(v.next=l.next,i.pending=l.next=v)}}function Cf(t,i){var l=i.action,r=i.payload,p=t.state;if(i.isTransition){var v=D.T,S={};D.T=S;try{var T=l(p,r),N=D.S;N!==null&&N(S,T),Af(t,i,T)}catch(H){Br(t,i,H)}finally{v!==null&&S.types!==null&&(v.types=S.types),D.T=v}}else try{v=l(p,r),Af(t,i,v)}catch(H){Br(t,i,H)}}function Af(t,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(r){kf(t,i,r)},function(r){return Br(t,i,r)}):kf(t,i,l)}function kf(t,i,l){i.status="fulfilled",i.value=l,Rf(i),t.state=l,i=t.pending,i!==null&&(l=i.next,l===i?t.pending=null:(l=l.next,i.next=l,Cf(t,l)))}function Br(t,i,l){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=l,Rf(i),i=i.next;while(i!==r)}t.action=null}function Rf(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Mf(t,i){return i}function If(t,i){if(Ne){var l=Oe.formState;if(l!==null){e:{var r=ve;if(Ne){if(qe){t:{for(var p=qe,v=Ht;p.nodeType!==8;){if(!v){p=null;break t}if(p=Vt(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){qe=Vt(p.nextSibling),r=p.data==="F!";break e}}Mn(r)}r=!1}r&&(i=l[0])}}return l=dt(),l.memoizedState=l.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mf,lastRenderedState:i},l.queue=r,l=Qf.bind(null,ve,r),r.dispatch=l,r=Vr(!1),v=Yr.bind(null,ve,!1,r.queue),r=dt(),p={state:i,dispatch:null,action:t,pending:null},r.queue=p,l=Vv.bind(null,ve,p,v,l),p.dispatch=l,r.memoizedState=t,[i,l,!1]}function Df(t){var i=Ye();return Uf(i,Ue,t)}function Uf(t,i,l){if(i=Hr(t,i,Mf)[0],t=xl(hn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=so(i)}catch(S){throw S===Xi?ul:S}else r=i;i=Ye();var p=i.queue,v=p.dispatch;return l!==i.memoizedState&&(ve.flags|=2048,ts(9,{destroy:void 0},Bv.bind(null,p,l),null)),[r,v,t]}function Bv(t,i){t.action=i}function Lf(t){var i=Ye(),l=Ue;if(l!==null)return Uf(i,l,t);Ye(),i=i.memoizedState,l=Ye();var r=l.queue.dispatch;return l.memoizedState=t,[i,r,!1]}function ts(t,i,l,r){return t={tag:t,create:l,deps:r,inst:i,next:null},i=ve.updateQueue,i===null&&(i=yl(),ve.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=t.next=t:(r=l.next,l.next=t,t.next=r,i.lastEffect=t),t}function Pf(){return Ye().memoizedState}function _l(t,i,l,r){var p=dt();ve.flags|=t,p.memoizedState=ts(1|i,{destroy:void 0},l,r===void 0?null:r)}function bl(t,i,l,r){var p=Ye();r=r===void 0?null:r;var v=p.memoizedState.inst;Ue!==null&&r!==null&&Dr(r,Ue.memoizedState.deps)?p.memoizedState=ts(i,v,l,r):(ve.flags|=t,p.memoizedState=ts(1|i,v,l,r))}function Gf(t,i){_l(8390656,8,t,i)}function zr(t,i){bl(2048,8,t,i)}function zv(t){ve.flags|=4;var i=ve.updateQueue;if(i===null)i=yl(),ve.updateQueue=i,i.events=[t];else{var l=i.events;l===null?i.events=[t]:l.push(t)}}function Of(t){var i=Ye().memoizedState;return zv({ref:i,nextImpl:t}),function(){if((Me&2)!==0)throw Error(o(440));return i.impl.apply(void 0,arguments)}}function Hf(t,i){return bl(4,2,t,i)}function qf(t,i){return bl(4,4,t,i)}function Vf(t,i){if(typeof i=="function"){t=t();var l=i(t);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Bf(t,i,l){l=l!=null?l.concat([t]):null,bl(4,4,Vf.bind(null,i,t),l)}function jr(){}function zf(t,i){var l=Ye();i=i===void 0?null:i;var r=l.memoizedState;return i!==null&&Dr(i,r[1])?r[0]:(l.memoizedState=[t,i],t)}function jf(t,i){var l=Ye();i=i===void 0?null:i;var r=l.memoizedState;if(i!==null&&Dr(i,r[1]))return r[0];if(r=t(),yi){Nn(!0);try{t()}finally{Nn(!1)}}return l.memoizedState=[r,i],r}function Fr(t,i,l){return l===void 0||(fn&1073741824)!==0&&(Te&261930)===0?t.memoizedState=i:(t.memoizedState=l,t=Fh(),ve.lanes|=t,qn|=t,l)}function Ff(t,i,l,r){return wt(l,i)?l:Zi.current!==null?(t=Fr(t,l,r),wt(t,i)||(Qe=!0),t):(fn&42)===0||(fn&1073741824)!==0&&(Te&261930)===0?(Qe=!0,t.memoizedState=l):(t=Fh(),ve.lanes|=t,qn|=t,i)}function $f(t,i,l,r,p){var v=K.p;K.p=v!==0&&8>v?v:8;var S=D.T,T={};D.T=T,Yr(t,!1,i,l);try{var N=p(),H=D.S;if(H!==null&&H(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var F=Ov(N,r);oo(t,i,F,Mt(t))}else oo(t,i,r,Mt(t))}catch(J){oo(t,i,{then:function(){},status:"rejected",reason:J},Mt())}finally{K.p=v,S!==null&&T.types!==null&&(S.types=T.types),D.T=S}}function jv(){}function $r(t,i,l,r){if(t.tag!==5)throw Error(o(476));var p=Jf(t).queue;$f(t,p,i,re,l===null?jv:function(){return Yf(t),l(r)})}function Jf(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:re},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:l},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Yf(t){var i=Jf(t);i.next===null&&(i=t.alternate.memoizedState),oo(t,i.next.queue,{},Mt())}function Jr(){return ot(To)}function Kf(){return Ye().memoizedState}function Xf(){return Ye().memoizedState}function Fv(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var l=Mt();t=Un(l);var r=Ln(i,t,l);r!==null&&(_t(r,i,l),eo(r,i,l)),i={cache:Sr()},t.payload=i;return}i=i.return}}function $v(t,i,l){var r=Mt();l={lane:r,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Sl(t)?Zf(i,l):(l=dr(t,i,l,r),l!==null&&(_t(l,t,r),Wf(l,i,r)))}function Qf(t,i,l){var r=Mt();oo(t,i,l,r)}function oo(t,i,l,r){var p={lane:r,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Sl(t))Zf(i,p);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var S=i.lastRenderedState,T=v(S,l);if(p.hasEagerState=!0,p.eagerState=T,wt(T,S))return nl(t,i,p,0),Oe===null&&tl(),!1}catch{}finally{}if(l=dr(t,i,p,r),l!==null)return _t(l,t,r),Wf(l,i,r),!0}return!1}function Yr(t,i,l,r){if(r={lane:2,revertLane:Nu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Sl(t)){if(i)throw Error(o(479))}else i=dr(t,l,r,2),i!==null&&_t(i,t,2)}function Sl(t){var i=t.alternate;return t===ve||i!==null&&i===ve}function Zf(t,i){Wi=ml=!0;var l=t.pending;l===null?i.next=i:(i.next=l.next,l.next=i),t.pending=i}function Wf(t,i,l){if((l&4194048)!==0){var r=i.lanes;r&=t.pendingLanes,l|=r,i.lanes=l,id(t,l)}}var lo={readContext:ot,use:vl,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je};lo.useEffectEvent=je;var eh={readContext:ot,use:vl,useCallback:function(t,i){return dt().memoizedState=[t,i===void 0?null:i],t},useContext:ot,useEffect:Gf,useImperativeHandle:function(t,i,l){l=l!=null?l.concat([t]):null,_l(4194308,4,Vf.bind(null,i,t),l)},useLayoutEffect:function(t,i){return _l(4194308,4,t,i)},useInsertionEffect:function(t,i){_l(4,2,t,i)},useMemo:function(t,i){var l=dt();i=i===void 0?null:i;var r=t();if(yi){Nn(!0);try{t()}finally{Nn(!1)}}return l.memoizedState=[r,i],r},useReducer:function(t,i,l){var r=dt();if(l!==void 0){var p=l(i);if(yi){Nn(!0);try{l(i)}finally{Nn(!1)}}}else p=i;return r.memoizedState=r.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},r.queue=t,t=t.dispatch=$v.bind(null,ve,t),[r.memoizedState,t]},useRef:function(t){var i=dt();return t={current:t},i.memoizedState=t},useState:function(t){t=Vr(t);var i=t.queue,l=Qf.bind(null,ve,i);return i.dispatch=l,[t.memoizedState,l]},useDebugValue:jr,useDeferredValue:function(t,i){var l=dt();return Fr(l,t,i)},useTransition:function(){var t=Vr(!1);return t=$f.bind(null,ve,t.queue,!0,!1),dt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,l){var r=ve,p=dt();if(Ne){if(l===void 0)throw Error(o(407));l=l()}else{if(l=i(),Oe===null)throw Error(o(349));(Te&127)!==0||bf(r,i,l)}p.memoizedState=l;var v={value:l,getSnapshot:i};return p.queue=v,Gf(Tf.bind(null,r,v,t),[t]),r.flags|=2048,ts(9,{destroy:void 0},Sf.bind(null,r,v,l,i),null),l},useId:function(){var t=dt(),i=Oe.identifierPrefix;if(Ne){var l=tn,r=en;l=(r&~(1<<32-Et(r)-1)).toString(32)+l,i="_"+i+"R_"+l,l=gl++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=Hv++,i="_"+i+"r_"+l.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Jr,useFormState:If,useActionState:If,useOptimistic:function(t){var i=dt();i.memoizedState=i.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Yr.bind(null,ve,!0,l),l.dispatch=i,[t,i]},useMemoCache:Or,useCacheRefresh:function(){return dt().memoizedState=Fv.bind(null,ve)},useEffectEvent:function(t){var i=dt(),l={impl:t};return i.memoizedState=l,function(){if((Me&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},Kr={readContext:ot,use:vl,useCallback:zf,useContext:ot,useEffect:zr,useImperativeHandle:Bf,useInsertionEffect:Hf,useLayoutEffect:qf,useMemo:jf,useReducer:xl,useRef:Pf,useState:function(){return xl(hn)},useDebugValue:jr,useDeferredValue:function(t,i){var l=Ye();return Ff(l,Ue.memoizedState,t,i)},useTransition:function(){var t=xl(hn)[0],i=Ye().memoizedState;return[typeof t=="boolean"?t:so(t),i]},useSyncExternalStore:_f,useId:Kf,useHostTransitionStatus:Jr,useFormState:Df,useActionState:Df,useOptimistic:function(t,i){var l=Ye();return Nf(l,Ue,t,i)},useMemoCache:Or,useCacheRefresh:Xf};Kr.useEffectEvent=Of;var th={readContext:ot,use:vl,useCallback:zf,useContext:ot,useEffect:zr,useImperativeHandle:Bf,useInsertionEffect:Hf,useLayoutEffect:qf,useMemo:jf,useReducer:qr,useRef:Pf,useState:function(){return qr(hn)},useDebugValue:jr,useDeferredValue:function(t,i){var l=Ye();return Ue===null?Fr(l,t,i):Ff(l,Ue.memoizedState,t,i)},useTransition:function(){var t=qr(hn)[0],i=Ye().memoizedState;return[typeof t=="boolean"?t:so(t),i]},useSyncExternalStore:_f,useId:Kf,useHostTransitionStatus:Jr,useFormState:Lf,useActionState:Lf,useOptimistic:function(t,i){var l=Ye();return Ue!==null?Nf(l,Ue,t,i):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:Or,useCacheRefresh:Xf};th.useEffectEvent=Of;function Xr(t,i,l,r){i=t.memoizedState,l=l(r,i),l=l==null?i:_({},i,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Qr={enqueueSetState:function(t,i,l){t=t._reactInternals;var r=Mt(),p=Un(r);p.payload=i,l!=null&&(p.callback=l),i=Ln(t,p,r),i!==null&&(_t(i,t,r),eo(i,t,r))},enqueueReplaceState:function(t,i,l){t=t._reactInternals;var r=Mt(),p=Un(r);p.tag=1,p.payload=i,l!=null&&(p.callback=l),i=Ln(t,p,r),i!==null&&(_t(i,t,r),eo(i,t,r))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var l=Mt(),r=Un(l);r.tag=2,i!=null&&(r.callback=i),i=Ln(t,r,l),i!==null&&(_t(i,t,l),eo(i,t,l))}};function nh(t,i,l,r,p,v,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,v,S):i.prototype&&i.prototype.isPureReactComponent?!$s(l,r)||!$s(p,v):!0}function ih(t,i,l,r){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,r),i.state!==t&&Qr.enqueueReplaceState(i,i.state,null)}function vi(t,i){var l=i;if("ref"in i){l={};for(var r in i)r!=="ref"&&(l[r]=i[r])}if(t=t.defaultProps){l===i&&(l=_({},l));for(var p in t)l[p]===void 0&&(l[p]=t[p])}return l}function sh(t){el(t)}function oh(t){console.error(t)}function lh(t){el(t)}function Tl(t,i){try{var l=t.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function ah(t,i,l){try{var r=t.onCaughtError;r(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Zr(t,i,l){return l=Un(l),l.tag=3,l.payload={element:null},l.callback=function(){Tl(t,i)},l}function rh(t){return t=Un(t),t.tag=3,t}function uh(t,i,l,r){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var v=r.value;t.payload=function(){return p(v)},t.callback=function(){ah(i,l,r)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){ah(i,l,r),typeof p!="function"&&(Vn===null?Vn=new Set([this]):Vn.add(this));var T=r.stack;this.componentDidCatch(r.value,{componentStack:T!==null?T:""})})}function Jv(t,i,l,r,p){if(l.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=l.alternate,i!==null&&Ji(i,l,p,!0),l=Ct.current,l!==null){switch(l.tag){case 31:case 13:return qt===null?Ll():l.alternate===null&&Fe===0&&(Fe=3),l.flags&=-257,l.flags|=65536,l.lanes=p,r===cl?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([r]):i.add(r),Tu(t,r,p)),!1;case 22:return l.flags|=65536,r===cl?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([r]):l.add(r)),Tu(t,r,p)),!1}throw Error(o(435,l.tag))}return Tu(t,r,p),Ll(),!1}if(Ne)return i=Ct.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,r!==yr&&(t=Error(o(422),{cause:r}),Ks(Pt(t,l)))):(r!==yr&&(i=Error(o(423),{cause:r}),Ks(Pt(i,l))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,r=Pt(r,l),p=Zr(t.stateNode,r,p),Ar(t,p),Fe!==4&&(Fe=2)),!1;var v=Error(o(520),{cause:r});if(v=Pt(v,l),mo===null?mo=[v]:mo.push(v),Fe!==4&&(Fe=2),i===null)return!0;r=Pt(r,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,t=p&-p,l.lanes|=t,t=Zr(l.stateNode,r,t),Ar(l,t),!1;case 1:if(i=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Vn===null||!Vn.has(v))))return l.flags|=65536,p&=-p,l.lanes|=p,p=rh(p),uh(p,t,l,r),Ar(l,p),!1}l=l.return}while(l!==null);return!1}var Wr=Error(o(461)),Qe=!1;function lt(t,i,l,r){i.child=t===null?hf(i,null,l,r):gi(i,t.child,l,r)}function ch(t,i,l,r,p){l=l.render;var v=i.ref;if("ref"in r){var S={};for(var T in r)T!=="ref"&&(S[T]=r[T])}else S=r;return fi(i),r=Ur(t,i,l,S,v,p),T=Lr(),t!==null&&!Qe?(Pr(t,i,p),pn(t,i,p)):(Ne&&T&&mr(i),i.flags|=1,lt(t,i,r,p),i.child)}function dh(t,i,l,r,p){if(t===null){var v=l.type;return typeof v=="function"&&!fr(v)&&v.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=v,fh(t,i,v,r,p)):(t=sl(l.type,null,r,i,i.mode,p),t.ref=i.ref,t.return=i,i.child=t)}if(v=t.child,!au(t,p)){var S=v.memoizedProps;if(l=l.compare,l=l!==null?l:$s,l(S,r)&&t.ref===i.ref)return pn(t,i,p)}return i.flags|=1,t=rn(v,r),t.ref=i.ref,t.return=i,i.child=t}function fh(t,i,l,r,p){if(t!==null){var v=t.memoizedProps;if($s(v,r)&&t.ref===i.ref)if(Qe=!1,i.pendingProps=r=v,au(t,p))(t.flags&131072)!==0&&(Qe=!0);else return i.lanes=t.lanes,pn(t,i,p)}return eu(t,i,l,r,p)}function hh(t,i,l,r){var p=r.children,v=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((i.flags&128)!==0){if(v=v!==null?v.baseLanes|l:l,t!==null){for(r=i.child=t.child,p=0;r!==null;)p=p|r.lanes|r.childLanes,r=r.sibling;r=p&~v}else r=0,i.child=null;return ph(t,i,v,l,r)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&rl(i,v!==null?v.cachePool:null),v!==null?gf(i,v):Rr(),yf(i);else return r=i.lanes=536870912,ph(t,i,v!==null?v.baseLanes|l:l,l,r)}else v!==null?(rl(i,v.cachePool),gf(i,v),Gn(),i.memoizedState=null):(t!==null&&rl(i,null),Rr(),Gn());return lt(t,i,p,l),i.child}function ao(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function ph(t,i,l,r,p){var v=Er();return v=v===null?null:{parent:Ke._currentValue,pool:v},i.memoizedState={baseLanes:l,cachePool:v},t!==null&&rl(i,null),Rr(),yf(i),t!==null&&Ji(t,i,r,!0),i.childLanes=p,null}function El(t,i){return i=Nl({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function mh(t,i,l){return gi(i,t.child,null,l),t=El(i,i.pendingProps),t.flags|=2,At(i),i.memoizedState=null,t}function Yv(t,i,l){var r=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ne){if(r.mode==="hidden")return t=El(i,r),i.lanes=536870912,ao(null,t);if(Ir(i),(t=qe)?(t=Cp(t,Ht),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:kn!==null?{id:en,overflow:tn}:null,retryLane:536870912,hydrationErrors:null},l=Qd(t),l.return=i,i.child=l,st=i,qe=null)):t=null,t===null)throw Mn(i);return i.lanes=536870912,null}return El(i,r)}var v=t.memoizedState;if(v!==null){var S=v.dehydrated;if(Ir(i),p)if(i.flags&256)i.flags&=-257,i=mh(t,i,l);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(o(558));else if(Qe||Ji(t,i,l,!1),p=(l&t.childLanes)!==0,Qe||p){if(r=Oe,r!==null&&(S=sd(r,l),S!==0&&S!==v.retryLane))throw v.retryLane=S,ri(t,S),_t(r,t,S),Wr;Ll(),i=mh(t,i,l)}else t=v.treeContext,qe=Vt(S.nextSibling),st=i,Ne=!0,Rn=null,Ht=!1,t!==null&&ef(i,t),i=El(i,r),i.flags|=4096;return i}return t=rn(t.child,{mode:r.mode,children:r.children}),t.ref=i.ref,i.child=t,t.return=i,t}function wl(t,i){var l=i.ref;if(l===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(t===null||t.ref!==l)&&(i.flags|=4194816)}}function eu(t,i,l,r,p){return fi(i),l=Ur(t,i,l,r,void 0,p),r=Lr(),t!==null&&!Qe?(Pr(t,i,p),pn(t,i,p)):(Ne&&r&&mr(i),i.flags|=1,lt(t,i,l,p),i.child)}function gh(t,i,l,r,p,v){return fi(i),i.updateQueue=null,l=xf(i,r,l,p),vf(t),r=Lr(),t!==null&&!Qe?(Pr(t,i,v),pn(t,i,v)):(Ne&&r&&mr(i),i.flags|=1,lt(t,i,l,v),i.child)}function yh(t,i,l,r,p){if(fi(i),i.stateNode===null){var v=zi,S=l.contextType;typeof S=="object"&&S!==null&&(v=ot(S)),v=new l(r,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Qr,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=r,v.state=i.memoizedState,v.refs={},Nr(i),S=l.contextType,v.context=typeof S=="object"&&S!==null?ot(S):zi,v.state=i.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Xr(i,l,S,r),v.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&Qr.enqueueReplaceState(v,v.state,null),no(i,r,v,p),to(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(t===null){v=i.stateNode;var T=i.memoizedProps,N=vi(l,T);v.props=N;var H=v.context,F=l.contextType;S=zi,typeof F=="object"&&F!==null&&(S=ot(F));var J=l.getDerivedStateFromProps;F=typeof J=="function"||typeof v.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,F||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T||H!==S)&&ih(i,v,r,S),Dn=!1;var q=i.memoizedState;v.state=q,no(i,r,v,p),to(),H=i.memoizedState,T||q!==H||Dn?(typeof J=="function"&&(Xr(i,l,J,r),H=i.memoizedState),(N=Dn||nh(i,l,N,r,q,H,S))?(F||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=H),v.props=r,v.state=H,v.context=S,r=N):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{v=i.stateNode,Cr(t,i),S=i.memoizedProps,F=vi(l,S),v.props=F,J=i.pendingProps,q=v.context,H=l.contextType,N=zi,typeof H=="object"&&H!==null&&(N=ot(H)),T=l.getDerivedStateFromProps,(H=typeof T=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==J||q!==N)&&ih(i,v,r,N),Dn=!1,q=i.memoizedState,v.state=q,no(i,r,v,p),to();var j=i.memoizedState;S!==J||q!==j||Dn||t!==null&&t.dependencies!==null&&ll(t.dependencies)?(typeof T=="function"&&(Xr(i,l,T,r),j=i.memoizedState),(F=Dn||nh(i,l,F,r,q,j,N)||t!==null&&t.dependencies!==null&&ll(t.dependencies))?(H||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(r,j,N),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(r,j,N)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=j),v.props=r,v.state=j,v.context=N,r=F):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),r=!1)}return v=r,wl(t,i),r=(i.flags&128)!==0,v||r?(v=i.stateNode,l=r&&typeof l.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,t!==null&&r?(i.child=gi(i,t.child,null,p),i.child=gi(i,null,l,p)):lt(t,i,l,p),i.memoizedState=v.state,t=i.child):t=pn(t,i,p),t}function vh(t,i,l,r){return ci(),i.flags|=256,lt(t,i,l,r),i.child}var tu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nu(t){return{baseLanes:t,cachePool:af()}}function iu(t,i,l){return t=t!==null?t.childLanes&~l:0,i&&(t|=Rt),t}function xh(t,i,l){var r=i.pendingProps,p=!1,v=(i.flags&128)!==0,S;if((S=v)||(S=t!==null&&t.memoizedState===null?!1:(Je.current&2)!==0),S&&(p=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ne){if(p?Pn(i):Gn(),(t=qe)?(t=Cp(t,Ht),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:kn!==null?{id:en,overflow:tn}:null,retryLane:536870912,hydrationErrors:null},l=Qd(t),l.return=i,i.child=l,st=i,qe=null)):t=null,t===null)throw Mn(i);return Hu(t)?i.lanes=32:i.lanes=536870912,null}var T=r.children;return r=r.fallback,p?(Gn(),p=i.mode,T=Nl({mode:"hidden",children:T},p),r=ui(r,p,l,null),T.return=i,r.return=i,T.sibling=r,i.child=T,r=i.child,r.memoizedState=nu(l),r.childLanes=iu(t,S,l),i.memoizedState=tu,ao(null,r)):(Pn(i),su(i,T))}var N=t.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(v)i.flags&256?(Pn(i),i.flags&=-257,i=ou(t,i,l)):i.memoizedState!==null?(Gn(),i.child=t.child,i.flags|=128,i=null):(Gn(),T=r.fallback,p=i.mode,r=Nl({mode:"visible",children:r.children},p),T=ui(T,p,l,null),T.flags|=2,r.return=i,T.return=i,r.sibling=T,i.child=r,gi(i,t.child,null,l),r=i.child,r.memoizedState=nu(l),r.childLanes=iu(t,S,l),i.memoizedState=tu,i=ao(null,r));else if(Pn(i),Hu(T)){if(S=T.nextSibling&&T.nextSibling.dataset,S)var H=S.dgst;S=H,r=Error(o(419)),r.stack="",r.digest=S,Ks({value:r,source:null,stack:null}),i=ou(t,i,l)}else if(Qe||Ji(t,i,l,!1),S=(l&t.childLanes)!==0,Qe||S){if(S=Oe,S!==null&&(r=sd(S,l),r!==0&&r!==N.retryLane))throw N.retryLane=r,ri(t,r),_t(S,t,r),Wr;Ou(T)||Ll(),i=ou(t,i,l)}else Ou(T)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,qe=Vt(T.nextSibling),st=i,Ne=!0,Rn=null,Ht=!1,t!==null&&ef(i,t),i=su(i,r.children),i.flags|=4096);return i}return p?(Gn(),T=r.fallback,p=i.mode,N=t.child,H=N.sibling,r=rn(N,{mode:"hidden",children:r.children}),r.subtreeFlags=N.subtreeFlags&65011712,H!==null?T=rn(H,T):(T=ui(T,p,l,null),T.flags|=2),T.return=i,r.return=i,r.sibling=T,i.child=r,ao(null,r),r=i.child,T=t.child.memoizedState,T===null?T=nu(l):(p=T.cachePool,p!==null?(N=Ke._currentValue,p=p.parent!==N?{parent:N,pool:N}:p):p=af(),T={baseLanes:T.baseLanes|l,cachePool:p}),r.memoizedState=T,r.childLanes=iu(t,S,l),i.memoizedState=tu,ao(t.child,r)):(Pn(i),l=t.child,t=l.sibling,l=rn(l,{mode:"visible",children:r.children}),l.return=i,l.sibling=null,t!==null&&(S=i.deletions,S===null?(i.deletions=[t],i.flags|=16):S.push(t)),i.child=l,i.memoizedState=null,l)}function su(t,i){return i=Nl({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Nl(t,i){return t=Nt(22,t,null,i),t.lanes=0,t}function ou(t,i,l){return gi(i,t.child,null,l),t=su(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function _h(t,i,l){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i),_r(t.return,i,l)}function lu(t,i,l,r,p,v){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:l,tailMode:p,treeForkCount:v}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=r,S.tail=l,S.tailMode=p,S.treeForkCount=v)}function bh(t,i,l){var r=i.pendingProps,p=r.revealOrder,v=r.tail;r=r.children;var S=Je.current,T=(S&2)!==0;if(T?(S=S&1|2,i.flags|=128):S&=1,ee(Je,S),lt(t,i,r,l),r=Ne?Ys:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_h(t,l,i);else if(t.tag===19)_h(t,l,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(p){case"forwards":for(l=i.child,p=null;l!==null;)t=l.alternate,t!==null&&pl(t)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),lu(i,!1,p,l,v,r);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(t=p.alternate,t!==null&&pl(t)===null){i.child=p;break}t=p.sibling,p.sibling=l,l=p,p=t}lu(i,!0,l,null,v,r);break;case"together":lu(i,!1,null,null,void 0,r);break;default:i.memoizedState=null}return i.child}function pn(t,i,l){if(t!==null&&(i.dependencies=t.dependencies),qn|=i.lanes,(l&i.childLanes)===0)if(t!==null){if(Ji(t,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(o(153));if(i.child!==null){for(t=i.child,l=rn(t,t.pendingProps),i.child=l,l.return=i;t.sibling!==null;)t=t.sibling,l=l.sibling=rn(t,t.pendingProps),l.return=i;l.sibling=null}return i.child}function au(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ll(t)))}function Kv(t,i,l){switch(i.tag){case 3:ze(i,i.stateNode.containerInfo),In(i,Ke,t.memoizedState.cache),ci();break;case 27:case 5:Ds(i);break;case 4:ze(i,i.stateNode.containerInfo);break;case 10:In(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ir(i),null;break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(Pn(i),i.flags|=128,null):(l&i.child.childLanes)!==0?xh(t,i,l):(Pn(i),t=pn(t,i,l),t!==null?t.sibling:null);Pn(i);break;case 19:var p=(t.flags&128)!==0;if(r=(l&i.childLanes)!==0,r||(Ji(t,i,l,!1),r=(l&i.childLanes)!==0),p){if(r)return bh(t,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ee(Je,Je.current),r)break;return null;case 22:return i.lanes=0,hh(t,i,l,i.pendingProps);case 24:In(i,Ke,t.memoizedState.cache)}return pn(t,i,l)}function Sh(t,i,l){if(t!==null)if(t.memoizedProps!==i.pendingProps)Qe=!0;else{if(!au(t,l)&&(i.flags&128)===0)return Qe=!1,Kv(t,i,l);Qe=(t.flags&131072)!==0}else Qe=!1,Ne&&(i.flags&1048576)!==0&&Wd(i,Ys,i.index);switch(i.lanes=0,i.tag){case 16:e:{var r=i.pendingProps;if(t=pi(i.elementType),i.type=t,typeof t=="function")fr(t)?(r=vi(t,r),i.tag=1,i=yh(null,i,t,r,l)):(i.tag=0,i=eu(null,i,t,r,l));else{if(t!=null){var p=t.$$typeof;if(p===P){i.tag=11,i=ch(null,i,t,r,l);break e}else if(p===w){i.tag=14,i=dh(null,i,t,r,l);break e}}throw i=Ge(t)||t,Error(o(306,i,""))}}return i;case 0:return eu(t,i,i.type,i.pendingProps,l);case 1:return r=i.type,p=vi(r,i.pendingProps),yh(t,i,r,p,l);case 3:e:{if(ze(i,i.stateNode.containerInfo),t===null)throw Error(o(387));r=i.pendingProps;var v=i.memoizedState;p=v.element,Cr(t,i),no(i,r,null,l);var S=i.memoizedState;if(r=S.cache,In(i,Ke,r),r!==v.cache&&br(i,[Ke],l,!0),to(),r=S.element,v.isDehydrated)if(v={element:r,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=vh(t,i,r,l);break e}else if(r!==p){p=Pt(Error(o(424)),i),Ks(p),i=vh(t,i,r,l);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(qe=Vt(t.firstChild),st=i,Ne=!0,Rn=null,Ht=!0,l=hf(i,null,r,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ci(),r===p){i=pn(t,i,l);break e}lt(t,i,r,l)}i=i.child}return i;case 26:return wl(t,i),t===null?(l=Dp(i.type,null,i.pendingProps,null))?i.memoizedState=l:Ne||(l=i.type,t=i.pendingProps,r=Bl(me.current).createElement(l),r[it]=i,r[pt]=t,at(r,l,t),et(r),i.stateNode=r):i.memoizedState=Dp(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ds(i),t===null&&Ne&&(r=i.stateNode=Rp(i.type,i.pendingProps,me.current),st=i,Ht=!0,p=qe,Fn(i.type)?(qu=p,qe=Vt(r.firstChild)):qe=p),lt(t,i,i.pendingProps.children,l),wl(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ne&&((p=r=qe)&&(r=wx(r,i.type,i.pendingProps,Ht),r!==null?(i.stateNode=r,st=i,qe=Vt(r.firstChild),Ht=!1,p=!0):p=!1),p||Mn(i)),Ds(i),p=i.type,v=i.pendingProps,S=t!==null?t.memoizedProps:null,r=v.children,Lu(p,v)?r=null:S!==null&&Lu(p,S)&&(i.flags|=32),i.memoizedState!==null&&(p=Ur(t,i,qv,null,null,l),To._currentValue=p),wl(t,i),lt(t,i,r,l),i.child;case 6:return t===null&&Ne&&((t=l=qe)&&(l=Nx(l,i.pendingProps,Ht),l!==null?(i.stateNode=l,st=i,qe=null,t=!0):t=!1),t||Mn(i)),null;case 13:return xh(t,i,l);case 4:return ze(i,i.stateNode.containerInfo),r=i.pendingProps,t===null?i.child=gi(i,null,r,l):lt(t,i,r,l),i.child;case 11:return ch(t,i,i.type,i.pendingProps,l);case 7:return lt(t,i,i.pendingProps,l),i.child;case 8:return lt(t,i,i.pendingProps.children,l),i.child;case 12:return lt(t,i,i.pendingProps.children,l),i.child;case 10:return r=i.pendingProps,In(i,i.type,r.value),lt(t,i,r.children,l),i.child;case 9:return p=i.type._context,r=i.pendingProps.children,fi(i),p=ot(p),r=r(p),i.flags|=1,lt(t,i,r,l),i.child;case 14:return dh(t,i,i.type,i.pendingProps,l);case 15:return fh(t,i,i.type,i.pendingProps,l);case 19:return bh(t,i,l);case 31:return Yv(t,i,l);case 22:return hh(t,i,l,i.pendingProps);case 24:return fi(i),r=ot(Ke),t===null?(p=Er(),p===null&&(p=Oe,v=Sr(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=l),p=v),i.memoizedState={parent:r,cache:p},Nr(i),In(i,Ke,p)):((t.lanes&l)!==0&&(Cr(t,i),no(i,null,null,l),to()),p=t.memoizedState,v=i.memoizedState,p.parent!==r?(p={parent:r,cache:r},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),In(i,Ke,r)):(r=v.cache,In(i,Ke,r),r!==p.cache&&br(i,[Ke],l,!0))),lt(t,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function mn(t){t.flags|=4}function ru(t,i,l,r,p){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(p&335544128)===p)if(t.stateNode.complete)t.flags|=8192;else if(Kh())t.flags|=8192;else throw mi=cl,wr}else t.flags&=-16777217}function Th(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Op(i))if(Kh())t.flags|=8192;else throw mi=cl,wr}function Cl(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?td():536870912,t.lanes|=i,os|=i)}function ro(t,i){if(!Ne)switch(t.tailMode){case"hidden":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var r=null;l!==null;)l.alternate!==null&&(r=l),l=l.sibling;r===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ve(t){var i=t.alternate!==null&&t.alternate.child===t.child,l=0,r=0;if(i)for(var p=t.child;p!==null;)l|=p.lanes|p.childLanes,r|=p.subtreeFlags&65011712,r|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)l|=p.lanes|p.childLanes,r|=p.subtreeFlags,r|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=r,t.childLanes=l,i}function Xv(t,i,l){var r=i.pendingProps;switch(gr(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(i),null;case 1:return Ve(i),null;case 3:return l=i.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),dn(Ke),$e(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&($i(i)?mn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,vr())),Ve(i),null;case 26:var p=i.type,v=i.memoizedState;return t===null?(mn(i),v!==null?(Ve(i),Th(i,v)):(Ve(i),ru(i,p,null,r,l))):v?v!==t.memoizedState?(mn(i),Ve(i),Th(i,v)):(Ve(i),i.flags&=-16777217):(t=t.memoizedProps,t!==r&&mn(i),Ve(i),ru(i,p,t,r,l)),null;case 27:if(Oo(i),l=me.current,p=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==r&&mn(i);else{if(!r){if(i.stateNode===null)throw Error(o(166));return Ve(i),null}t=se.current,$i(i)?tf(i):(t=Rp(p,r,l),i.stateNode=t,mn(i))}return Ve(i),null;case 5:if(Oo(i),p=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==r&&mn(i);else{if(!r){if(i.stateNode===null)throw Error(o(166));return Ve(i),null}if(v=se.current,$i(i))tf(i);else{var S=Bl(me.current);switch(v){case 1:v=S.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:v=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":v=S.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":v=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":v=S.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof r.is=="string"?S.createElement("select",{is:r.is}):S.createElement("select"),r.multiple?v.multiple=!0:r.size&&(v.size=r.size);break;default:v=typeof r.is=="string"?S.createElement(p,{is:r.is}):S.createElement(p)}}v[it]=i,v[pt]=r;e:for(S=i.child;S!==null;){if(S.tag===5||S.tag===6)v.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===i)break e;for(;S.sibling===null;){if(S.return===null||S.return===i)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}i.stateNode=v;e:switch(at(v,p,r),p){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&mn(i)}}return Ve(i),ru(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,l),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==r&&mn(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(o(166));if(t=me.current,$i(i)){if(t=i.stateNode,l=i.memoizedProps,r=null,p=st,p!==null)switch(p.tag){case 27:case 5:r=p.memoizedProps}t[it]=i,t=!!(t.nodeValue===l||r!==null&&r.suppressHydrationWarning===!0||xp(t.nodeValue,l)),t||Mn(i,!0)}else t=Bl(t).createTextNode(r),t[it]=i,i.stateNode=t}return Ve(i),null;case 31:if(l=i.memoizedState,t===null||t.memoizedState!==null){if(r=$i(i),l!==null){if(t===null){if(!r)throw Error(o(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[it]=i}else ci(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ve(i),t=!1}else l=vr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),t=!0;if(!t)return i.flags&256?(At(i),i):(At(i),null);if((i.flags&128)!==0)throw Error(o(558))}return Ve(i),null;case 13:if(r=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=$i(i),r!==null&&r.dehydrated!==null){if(t===null){if(!p)throw Error(o(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));p[it]=i}else ci(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ve(i),p=!1}else p=vr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(At(i),i):(At(i),null)}return At(i),(i.flags&128)!==0?(i.lanes=l,i):(l=r!==null,t=t!==null&&t.memoizedState!==null,l&&(r=i.child,p=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(p=r.alternate.memoizedState.cachePool.pool),v=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(v=r.memoizedState.cachePool.pool),v!==p&&(r.flags|=2048)),l!==t&&l&&(i.child.flags|=8192),Cl(i,i.updateQueue),Ve(i),null);case 4:return $e(),t===null&&Ru(i.stateNode.containerInfo),Ve(i),null;case 10:return dn(i.type),Ve(i),null;case 19:if(z(Je),r=i.memoizedState,r===null)return Ve(i),null;if(p=(i.flags&128)!==0,v=r.rendering,v===null)if(p)ro(r,!1);else{if(Fe!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(v=pl(t),v!==null){for(i.flags|=128,ro(r,!1),t=v.updateQueue,i.updateQueue=t,Cl(i,t),i.subtreeFlags=0,t=l,l=i.child;l!==null;)Xd(l,t),l=l.sibling;return ee(Je,Je.current&1|2),Ne&&un(i,r.treeForkCount),i.child}t=t.sibling}r.tail!==null&&St()>Il&&(i.flags|=128,p=!0,ro(r,!1),i.lanes=4194304)}else{if(!p)if(t=pl(v),t!==null){if(i.flags|=128,p=!0,t=t.updateQueue,i.updateQueue=t,Cl(i,t),ro(r,!0),r.tail===null&&r.tailMode==="hidden"&&!v.alternate&&!Ne)return Ve(i),null}else 2*St()-r.renderingStartTime>Il&&l!==536870912&&(i.flags|=128,p=!0,ro(r,!1),i.lanes=4194304);r.isBackwards?(v.sibling=i.child,i.child=v):(t=r.last,t!==null?t.sibling=v:i.child=v,r.last=v)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=St(),t.sibling=null,l=Je.current,ee(Je,p?l&1|2:l&1),Ne&&un(i,r.treeForkCount),t):(Ve(i),null);case 22:case 23:return At(i),Mr(),r=i.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(l&536870912)!==0&&(i.flags&128)===0&&(Ve(i),i.subtreeFlags&6&&(i.flags|=8192)):Ve(i),l=i.updateQueue,l!==null&&Cl(i,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(i.flags|=2048),t!==null&&z(hi),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),dn(Ke),Ve(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function Qv(t,i){switch(gr(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return dn(Ke),$e(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Oo(i),null;case 31:if(i.memoizedState!==null){if(At(i),i.alternate===null)throw Error(o(340));ci()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(At(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(o(340));ci()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return z(Je),null;case 4:return $e(),null;case 10:return dn(i.type),null;case 22:case 23:return At(i),Mr(),t!==null&&z(hi),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return dn(Ke),null;case 25:return null;default:return null}}function Eh(t,i){switch(gr(i),i.tag){case 3:dn(Ke),$e();break;case 26:case 27:case 5:Oo(i);break;case 4:$e();break;case 31:i.memoizedState!==null&&At(i);break;case 13:At(i);break;case 19:z(Je);break;case 10:dn(i.type);break;case 22:case 23:At(i),Mr(),t!==null&&z(hi);break;case 24:dn(Ke)}}function uo(t,i){try{var l=i.updateQueue,r=l!==null?l.lastEffect:null;if(r!==null){var p=r.next;l=p;do{if((l.tag&t)===t){r=void 0;var v=l.create,S=l.inst;r=v(),S.destroy=r}l=l.next}while(l!==p)}}catch(T){De(i,i.return,T)}}function On(t,i,l){try{var r=i.updateQueue,p=r!==null?r.lastEffect:null;if(p!==null){var v=p.next;r=v;do{if((r.tag&t)===t){var S=r.inst,T=S.destroy;if(T!==void 0){S.destroy=void 0,p=i;var N=l,H=T;try{H()}catch(F){De(p,N,F)}}}r=r.next}while(r!==v)}}catch(F){De(i,i.return,F)}}function wh(t){var i=t.updateQueue;if(i!==null){var l=t.stateNode;try{mf(i,l)}catch(r){De(t,t.return,r)}}}function Nh(t,i,l){l.props=vi(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(r){De(t,i,r)}}function co(t,i){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof l=="function"?t.refCleanup=l(r):l.current=r}}catch(p){De(t,i,p)}}function nn(t,i){var l=t.ref,r=t.refCleanup;if(l!==null)if(typeof r=="function")try{r()}catch(p){De(t,i,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){De(t,i,p)}else l.current=null}function Ch(t){var i=t.type,l=t.memoizedProps,r=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break e;case"img":l.src?r.src=l.src:l.srcSet&&(r.srcset=l.srcSet)}}catch(p){De(t,t.return,p)}}function uu(t,i,l){try{var r=t.stateNode;xx(r,t.type,l,i),r[pt]=i}catch(p){De(t,t.return,p)}}function Ah(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fn(t.type)||t.tag===4}function cu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ah(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function du(t,i,l){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(t),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=ln));else if(r!==4&&(r===27&&Fn(t.type)&&(l=t.stateNode,i=null),t=t.child,t!==null))for(du(t,i,l),t=t.sibling;t!==null;)du(t,i,l),t=t.sibling}function Al(t,i,l){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?l.insertBefore(t,i):l.appendChild(t);else if(r!==4&&(r===27&&Fn(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Al(t,i,l),t=t.sibling;t!==null;)Al(t,i,l),t=t.sibling}function kh(t){var i=t.stateNode,l=t.memoizedProps;try{for(var r=t.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);at(i,r,l),i[it]=t,i[pt]=l}catch(v){De(t,t.return,v)}}var gn=!1,Ze=!1,fu=!1,Rh=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Zv(t,i){if(t=t.containerInfo,Du=Kl,t=Vd(t),or(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var r=l.getSelection&&l.getSelection();if(r&&r.rangeCount!==0){l=r.anchorNode;var p=r.anchorOffset,v=r.focusNode;r=r.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var S=0,T=-1,N=-1,H=0,F=0,J=t,q=null;t:for(;;){for(var j;J!==l||p!==0&&J.nodeType!==3||(T=S+p),J!==v||r!==0&&J.nodeType!==3||(N=S+r),J.nodeType===3&&(S+=J.nodeValue.length),(j=J.firstChild)!==null;)q=J,J=j;for(;;){if(J===t)break t;if(q===l&&++H===p&&(T=S),q===v&&++F===r&&(N=S),(j=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=j}l=T===-1||N===-1?null:{start:T,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(Uu={focusedElem:t,selectionRange:l},Kl=!1,tt=i;tt!==null;)if(i=tt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,tt=t;else for(;tt!==null;){switch(i=tt,v=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(l=0;l<t.length;l++)p=t[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&v!==null){t=void 0,l=i,p=v.memoizedProps,v=v.memoizedState,r=l.stateNode;try{var le=vi(l.type,p);t=r.getSnapshotBeforeUpdate(le,v),r.__reactInternalSnapshotBeforeUpdate=t}catch(he){De(l,l.return,he)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,l=t.nodeType,l===9)Gu(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=i.sibling,t!==null){t.return=i.return,tt=t;break}tt=i.return}}function Mh(t,i,l){var r=l.flags;switch(l.tag){case 0:case 11:case 15:vn(t,l),r&4&&uo(5,l);break;case 1:if(vn(t,l),r&4)if(t=l.stateNode,i===null)try{t.componentDidMount()}catch(S){De(l,l.return,S)}else{var p=vi(l.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(p,i,t.__reactInternalSnapshotBeforeUpdate)}catch(S){De(l,l.return,S)}}r&64&&wh(l),r&512&&co(l,l.return);break;case 3:if(vn(t,l),r&64&&(t=l.updateQueue,t!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{mf(t,i)}catch(S){De(l,l.return,S)}}break;case 27:i===null&&r&4&&kh(l);case 26:case 5:vn(t,l),i===null&&r&4&&Ch(l),r&512&&co(l,l.return);break;case 12:vn(t,l);break;case 31:vn(t,l),r&4&&Uh(t,l);break;case 13:vn(t,l),r&4&&Lh(t,l),r&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=ax.bind(null,l),Cx(t,l))));break;case 22:if(r=l.memoizedState!==null||gn,!r){i=i!==null&&i.memoizedState!==null||Ze,p=gn;var v=Ze;gn=r,(Ze=i)&&!v?xn(t,l,(l.subtreeFlags&8772)!==0):vn(t,l),gn=p,Ze=v}break;case 30:break;default:vn(t,l)}}function Ih(t){var i=t.alternate;i!==null&&(t.alternate=null,Ih(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ba(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Be=null,gt=!1;function yn(t,i,l){for(l=l.child;l!==null;)Dh(t,i,l),l=l.sibling}function Dh(t,i,l){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Us,l)}catch{}switch(l.tag){case 26:Ze||nn(l,i),yn(t,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ze||nn(l,i);var r=Be,p=gt;Fn(l.type)&&(Be=l.stateNode,gt=!1),yn(t,i,l),_o(l.stateNode),Be=r,gt=p;break;case 5:Ze||nn(l,i);case 6:if(r=Be,p=gt,Be=null,yn(t,i,l),Be=r,gt=p,Be!==null)if(gt)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(l.stateNode)}catch(v){De(l,i,v)}else try{Be.removeChild(l.stateNode)}catch(v){De(l,i,v)}break;case 18:Be!==null&&(gt?(t=Be,wp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),hs(t)):wp(Be,l.stateNode));break;case 4:r=Be,p=gt,Be=l.stateNode.containerInfo,gt=!0,yn(t,i,l),Be=r,gt=p;break;case 0:case 11:case 14:case 15:On(2,l,i),Ze||On(4,l,i),yn(t,i,l);break;case 1:Ze||(nn(l,i),r=l.stateNode,typeof r.componentWillUnmount=="function"&&Nh(l,i,r)),yn(t,i,l);break;case 21:yn(t,i,l);break;case 22:Ze=(r=Ze)||l.memoizedState!==null,yn(t,i,l),Ze=r;break;default:yn(t,i,l)}}function Uh(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{hs(t)}catch(l){De(i,i.return,l)}}}function Lh(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{hs(t)}catch(l){De(i,i.return,l)}}function Wv(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Rh),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Rh),i;default:throw Error(o(435,t.tag))}}function kl(t,i){var l=Wv(t);i.forEach(function(r){if(!l.has(r)){l.add(r);var p=rx.bind(null,t,r);r.then(p,p)}})}function yt(t,i){var l=i.deletions;if(l!==null)for(var r=0;r<l.length;r++){var p=l[r],v=t,S=i,T=S;e:for(;T!==null;){switch(T.tag){case 27:if(Fn(T.type)){Be=T.stateNode,gt=!1;break e}break;case 5:Be=T.stateNode,gt=!1;break e;case 3:case 4:Be=T.stateNode.containerInfo,gt=!0;break e}T=T.return}if(Be===null)throw Error(o(160));Dh(v,S,p),Be=null,gt=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ph(i,t),i=i.sibling}var Jt=null;function Ph(t,i){var l=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yt(i,t),vt(t),r&4&&(On(3,t,t.return),uo(3,t),On(5,t,t.return));break;case 1:yt(i,t),vt(t),r&512&&(Ze||l===null||nn(l,l.return)),r&64&&gn&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?r:l.concat(r))));break;case 26:var p=Jt;if(yt(i,t),vt(t),r&512&&(Ze||l===null||nn(l,l.return)),r&4){var v=l!==null?l.memoizedState:null;if(r=t.memoizedState,l===null)if(r===null)if(t.stateNode===null){e:{r=t.type,l=t.memoizedProps,p=p.ownerDocument||p;t:switch(r){case"title":v=p.getElementsByTagName("title")[0],(!v||v[Gs]||v[it]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(r),p.head.insertBefore(v,p.querySelector("head > title"))),at(v,r,l),v[it]=t,et(v),r=v;break e;case"link":var S=Pp("link","href",p).get(r+(l.href||""));if(S){for(var T=0;T<S.length;T++)if(v=S[T],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(T,1);break t}}v=p.createElement(r),at(v,r,l),p.head.appendChild(v);break;case"meta":if(S=Pp("meta","content",p).get(r+(l.content||""))){for(T=0;T<S.length;T++)if(v=S[T],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(T,1);break t}}v=p.createElement(r),at(v,r,l),p.head.appendChild(v);break;default:throw Error(o(468,r))}v[it]=t,et(v),r=v}t.stateNode=r}else Gp(p,t.type,t.stateNode);else t.stateNode=Lp(p,r,t.memoizedProps);else v!==r?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,r===null?Gp(p,t.type,t.stateNode):Lp(p,r,t.memoizedProps)):r===null&&t.stateNode!==null&&uu(t,t.memoizedProps,l.memoizedProps)}break;case 27:yt(i,t),vt(t),r&512&&(Ze||l===null||nn(l,l.return)),l!==null&&r&4&&uu(t,t.memoizedProps,l.memoizedProps);break;case 5:if(yt(i,t),vt(t),r&512&&(Ze||l===null||nn(l,l.return)),t.flags&32){p=t.stateNode;try{Pi(p,"")}catch(le){De(t,t.return,le)}}r&4&&t.stateNode!=null&&(p=t.memoizedProps,uu(t,p,l!==null?l.memoizedProps:p)),r&1024&&(fu=!0);break;case 6:if(yt(i,t),vt(t),r&4){if(t.stateNode===null)throw Error(o(162));r=t.memoizedProps,l=t.stateNode;try{l.nodeValue=r}catch(le){De(t,t.return,le)}}break;case 3:if(Fl=null,p=Jt,Jt=zl(i.containerInfo),yt(i,t),Jt=p,vt(t),r&4&&l!==null&&l.memoizedState.isDehydrated)try{hs(i.containerInfo)}catch(le){De(t,t.return,le)}fu&&(fu=!1,Gh(t));break;case 4:r=Jt,Jt=zl(t.stateNode.containerInfo),yt(i,t),vt(t),Jt=r;break;case 12:yt(i,t),vt(t);break;case 31:yt(i,t),vt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,kl(t,r)));break;case 13:yt(i,t),vt(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ml=St()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,kl(t,r)));break;case 22:p=t.memoizedState!==null;var N=l!==null&&l.memoizedState!==null,H=gn,F=Ze;if(gn=H||p,Ze=F||N,yt(i,t),Ze=F,gn=H,vt(t),r&8192)e:for(i=t.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(l===null||N||gn||Ze||xi(t)),l=null,i=t;;){if(i.tag===5||i.tag===26){if(l===null){N=l=i;try{if(v=N.stateNode,p)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{T=N.stateNode;var J=N.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(le){De(N,N.return,le)}}}else if(i.tag===6){if(l===null){N=i;try{N.stateNode.nodeValue=p?"":N.memoizedProps}catch(le){De(N,N.return,le)}}}else if(i.tag===18){if(l===null){N=i;try{var j=N.stateNode;p?Np(j,!0):Np(N.stateNode,!1)}catch(le){De(N,N.return,le)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=t.updateQueue,r!==null&&(l=r.retryQueue,l!==null&&(r.retryQueue=null,kl(t,l))));break;case 19:yt(i,t),vt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,kl(t,r)));break;case 30:break;case 21:break;default:yt(i,t),vt(t)}}function vt(t){var i=t.flags;if(i&2){try{for(var l,r=t.return;r!==null;){if(Ah(r)){l=r;break}r=r.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var p=l.stateNode,v=cu(t);Al(t,v,p);break;case 5:var S=l.stateNode;l.flags&32&&(Pi(S,""),l.flags&=-33);var T=cu(t);Al(t,T,S);break;case 3:case 4:var N=l.stateNode.containerInfo,H=cu(t);du(t,H,N);break;default:throw Error(o(161))}}catch(F){De(t,t.return,F)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Gh(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Gh(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function vn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Mh(t,i.alternate,i),i=i.sibling}function xi(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:On(4,i,i.return),xi(i);break;case 1:nn(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Nh(i,i.return,l),xi(i);break;case 27:_o(i.stateNode);case 26:case 5:nn(i,i.return),xi(i);break;case 22:i.memoizedState===null&&xi(i);break;case 30:xi(i);break;default:xi(i)}t=t.sibling}}function xn(t,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,p=t,v=i,S=v.flags;switch(v.tag){case 0:case 11:case 15:xn(p,v,l),uo(4,v);break;case 1:if(xn(p,v,l),r=v,p=r.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(H){De(r,r.return,H)}if(r=v,p=r.updateQueue,p!==null){var T=r.stateNode;try{var N=p.shared.hiddenCallbacks;if(N!==null)for(p.shared.hiddenCallbacks=null,p=0;p<N.length;p++)pf(N[p],T)}catch(H){De(r,r.return,H)}}l&&S&64&&wh(v),co(v,v.return);break;case 27:kh(v);case 26:case 5:xn(p,v,l),l&&r===null&&S&4&&Ch(v),co(v,v.return);break;case 12:xn(p,v,l);break;case 31:xn(p,v,l),l&&S&4&&Uh(p,v);break;case 13:xn(p,v,l),l&&S&4&&Lh(p,v);break;case 22:v.memoizedState===null&&xn(p,v,l),co(v,v.return);break;case 30:break;default:xn(p,v,l)}i=i.sibling}}function hu(t,i){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&Xs(l))}function pu(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Xs(t))}function Yt(t,i,l,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Oh(t,i,l,r),i=i.sibling}function Oh(t,i,l,r){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Yt(t,i,l,r),p&2048&&uo(9,i);break;case 1:Yt(t,i,l,r);break;case 3:Yt(t,i,l,r),p&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Xs(t)));break;case 12:if(p&2048){Yt(t,i,l,r),t=i.stateNode;try{var v=i.memoizedProps,S=v.id,T=v.onPostCommit;typeof T=="function"&&T(S,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){De(i,i.return,N)}}else Yt(t,i,l,r);break;case 31:Yt(t,i,l,r);break;case 13:Yt(t,i,l,r);break;case 23:break;case 22:v=i.stateNode,S=i.alternate,i.memoizedState!==null?v._visibility&2?Yt(t,i,l,r):fo(t,i):v._visibility&2?Yt(t,i,l,r):(v._visibility|=2,ns(t,i,l,r,(i.subtreeFlags&10256)!==0||!1)),p&2048&&hu(S,i);break;case 24:Yt(t,i,l,r),p&2048&&pu(i.alternate,i);break;default:Yt(t,i,l,r)}}function ns(t,i,l,r,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var v=t,S=i,T=l,N=r,H=S.flags;switch(S.tag){case 0:case 11:case 15:ns(v,S,T,N,p),uo(8,S);break;case 23:break;case 22:var F=S.stateNode;S.memoizedState!==null?F._visibility&2?ns(v,S,T,N,p):fo(v,S):(F._visibility|=2,ns(v,S,T,N,p)),p&&H&2048&&hu(S.alternate,S);break;case 24:ns(v,S,T,N,p),p&&H&2048&&pu(S.alternate,S);break;default:ns(v,S,T,N,p)}i=i.sibling}}function fo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=t,r=i,p=r.flags;switch(r.tag){case 22:fo(l,r),p&2048&&hu(r.alternate,r);break;case 24:fo(l,r),p&2048&&pu(r.alternate,r);break;default:fo(l,r)}i=i.sibling}}var ho=8192;function is(t,i,l){if(t.subtreeFlags&ho)for(t=t.child;t!==null;)Hh(t,i,l),t=t.sibling}function Hh(t,i,l){switch(t.tag){case 26:is(t,i,l),t.flags&ho&&t.memoizedState!==null&&Hx(l,Jt,t.memoizedState,t.memoizedProps);break;case 5:is(t,i,l);break;case 3:case 4:var r=Jt;Jt=zl(t.stateNode.containerInfo),is(t,i,l),Jt=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=ho,ho=16777216,is(t,i,l),ho=r):is(t,i,l));break;default:is(t,i,l)}}function qh(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function po(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var r=i[l];tt=r,Bh(r,t)}qh(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vh(t),t=t.sibling}function Vh(t){switch(t.tag){case 0:case 11:case 15:po(t),t.flags&2048&&On(9,t,t.return);break;case 3:po(t);break;case 12:po(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Rl(t)):po(t);break;default:po(t)}}function Rl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var r=i[l];tt=r,Bh(r,t)}qh(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:On(8,i,i.return),Rl(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Rl(i));break;default:Rl(i)}t=t.sibling}}function Bh(t,i){for(;tt!==null;){var l=tt;switch(l.tag){case 0:case 11:case 15:On(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var r=l.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Xs(l.memoizedState.cache)}if(r=l.child,r!==null)r.return=l,tt=r;else e:for(l=t;tt!==null;){r=tt;var p=r.sibling,v=r.return;if(Ih(r),r===l){tt=null;break e}if(p!==null){p.return=v,tt=p;break e}tt=v}}}var ex={getCacheForType:function(t){var i=ot(Ke),l=i.data.get(t);return l===void 0&&(l=t(),i.data.set(t,l)),l},cacheSignal:function(){return ot(Ke).controller.signal}},tx=typeof WeakMap=="function"?WeakMap:Map,Me=0,Oe=null,be=null,Te=0,Ie=0,kt=null,Hn=!1,ss=!1,mu=!1,_n=0,Fe=0,qn=0,_i=0,gu=0,Rt=0,os=0,mo=null,xt=null,yu=!1,Ml=0,zh=0,Il=1/0,Dl=null,Vn=null,We=0,Bn=null,ls=null,bn=0,vu=0,xu=null,jh=null,go=0,_u=null;function Mt(){return(Me&2)!==0&&Te!==0?Te&-Te:D.T!==null?Nu():od()}function Fh(){if(Rt===0)if((Te&536870912)===0||Ne){var t=Vo;Vo<<=1,(Vo&3932160)===0&&(Vo=262144),Rt=t}else Rt=536870912;return t=Ct.current,t!==null&&(t.flags|=32),Rt}function _t(t,i,l){(t===Oe&&(Ie===2||Ie===9)||t.cancelPendingCommit!==null)&&(as(t,0),zn(t,Te,Rt,!1)),Ps(t,l),((Me&2)===0||t!==Oe)&&(t===Oe&&((Me&2)===0&&(_i|=l),Fe===4&&zn(t,Te,Rt,!1)),sn(t))}function $h(t,i,l){if((Me&6)!==0)throw Error(o(327));var r=!l&&(i&127)===0&&(i&t.expiredLanes)===0||Ls(t,i),p=r?sx(t,i):Su(t,i,!0),v=r;do{if(p===0){ss&&!r&&zn(t,i,0,!1);break}else{if(l=t.current.alternate,v&&!nx(l)){p=Su(t,i,!1),v=!1;continue}if(p===2){if(v=i,t.errorRecoveryDisabledLanes&v)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var T=t;p=mo;var N=T.current.memoizedState.isDehydrated;if(N&&(as(T,S).flags|=256),S=Su(T,S,!1),S!==2){if(mu&&!N){T.errorRecoveryDisabledLanes|=v,_i|=v,p=4;break e}v=xt,xt=p,v!==null&&(xt===null?xt=v:xt.push.apply(xt,v))}p=S}if(v=!1,p!==2)continue}}if(p===1){as(t,0),zn(t,i,0,!0);break}e:{switch(r=t,v=p,v){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:zn(r,i,Rt,!Hn);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(p=Ml+300-St(),10<p)){if(zn(r,i,Rt,!Hn),zo(r,0,!0)!==0)break e;bn=i,r.timeoutHandle=Tp(Jh.bind(null,r,l,xt,Dl,yu,i,Rt,_i,os,Hn,v,"Throttled",-0,0),p);break e}Jh(r,l,xt,Dl,yu,i,Rt,_i,os,Hn,v,null,-0,0)}}break}while(!0);sn(t)}function Jh(t,i,l,r,p,v,S,T,N,H,F,J,q,j){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ln},Hh(i,v,J);var le=(v&62914560)===v?Ml-St():(v&4194048)===v?zh-St():0;if(le=qx(J,le),le!==null){bn=v,t.cancelPendingCommit=le(tp.bind(null,t,i,v,l,r,p,S,T,N,F,J,null,q,j)),zn(t,v,S,!H);return}}tp(t,i,v,l,r,p,S,T,N)}function nx(t){for(var i=t;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var r=0;r<l.length;r++){var p=l[r],v=p.getSnapshot;p=p.value;try{if(!wt(v(),p))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function zn(t,i,l,r){i&=~gu,i&=~_i,t.suspendedLanes|=i,t.pingedLanes&=~i,r&&(t.warmLanes|=i),r=t.expirationTimes;for(var p=i;0<p;){var v=31-Et(p),S=1<<v;r[v]=-1,p&=~S}l!==0&&nd(t,l,i)}function Ul(){return(Me&6)===0?(yo(0),!1):!0}function bu(){if(be!==null){if(Ie===0)var t=be.return;else t=be,cn=di=null,Gr(t),Qi=null,Zs=0,t=be;for(;t!==null;)Eh(t.alternate,t),t=t.return;be=null}}function as(t,i){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,Sx(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),bn=0,bu(),Oe=t,be=l=rn(t.current,null),Te=i,Ie=0,kt=null,Hn=!1,ss=Ls(t,i),mu=!1,os=Rt=gu=_i=qn=Fe=0,xt=mo=null,yu=!1,(i&8)!==0&&(i|=i&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=i;0<r;){var p=31-Et(r),v=1<<p;i|=t[p],r&=~v}return _n=i,tl(),l}function Yh(t,i){ve=null,D.H=lo,i===Xi||i===ul?(i=cf(),Ie=3):i===wr?(i=cf(),Ie=4):Ie=i===Wr?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,kt=i,be===null&&(Fe=1,Tl(t,Pt(i,t.current)))}function Kh(){var t=Ct.current;return t===null?!0:(Te&4194048)===Te?qt===null:(Te&62914560)===Te||(Te&536870912)!==0?t===qt:!1}function Xh(){var t=D.H;return D.H=lo,t===null?lo:t}function Qh(){var t=D.A;return D.A=ex,t}function Ll(){Fe=4,Hn||(Te&4194048)!==Te&&Ct.current!==null||(ss=!0),(qn&134217727)===0&&(_i&134217727)===0||Oe===null||zn(Oe,Te,Rt,!1)}function Su(t,i,l){var r=Me;Me|=2;var p=Xh(),v=Qh();(Oe!==t||Te!==i)&&(Dl=null,as(t,i)),i=!1;var S=Fe;e:do try{if(Ie!==0&&be!==null){var T=be,N=kt;switch(Ie){case 8:bu(),S=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(i=!0);var H=Ie;if(Ie=0,kt=null,rs(t,T,N,H),l&&ss){S=0;break e}break;default:H=Ie,Ie=0,kt=null,rs(t,T,N,H)}}ix(),S=Fe;break}catch(F){Yh(t,F)}while(!0);return i&&t.shellSuspendCounter++,cn=di=null,Me=r,D.H=p,D.A=v,be===null&&(Oe=null,Te=0,tl()),S}function ix(){for(;be!==null;)Zh(be)}function sx(t,i){var l=Me;Me|=2;var r=Xh(),p=Qh();Oe!==t||Te!==i?(Dl=null,Il=St()+500,as(t,i)):ss=Ls(t,i);e:do try{if(Ie!==0&&be!==null){i=be;var v=kt;t:switch(Ie){case 1:Ie=0,kt=null,rs(t,i,v,1);break;case 2:case 9:if(rf(v)){Ie=0,kt=null,Wh(i);break}i=function(){Ie!==2&&Ie!==9||Oe!==t||(Ie=7),sn(t)},v.then(i,i);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:rf(v)?(Ie=0,kt=null,Wh(i)):(Ie=0,kt=null,rs(t,i,v,7));break;case 5:var S=null;switch(be.tag){case 26:S=be.memoizedState;case 5:case 27:var T=be;if(S?Op(S):T.stateNode.complete){Ie=0,kt=null;var N=T.sibling;if(N!==null)be=N;else{var H=T.return;H!==null?(be=H,Pl(H)):be=null}break t}}Ie=0,kt=null,rs(t,i,v,5);break;case 6:Ie=0,kt=null,rs(t,i,v,6);break;case 8:bu(),Fe=6;break e;default:throw Error(o(462))}}ox();break}catch(F){Yh(t,F)}while(!0);return cn=di=null,D.H=r,D.A=p,Me=l,be!==null?0:(Oe=null,Te=0,tl(),Fe)}function ox(){for(;be!==null&&!Ay();)Zh(be)}function Zh(t){var i=Sh(t.alternate,t,_n);t.memoizedProps=t.pendingProps,i===null?Pl(t):be=i}function Wh(t){var i=t,l=i.alternate;switch(i.tag){case 15:case 0:i=gh(l,i,i.pendingProps,i.type,void 0,Te);break;case 11:i=gh(l,i,i.pendingProps,i.type.render,i.ref,Te);break;case 5:Gr(i);default:Eh(l,i),i=be=Xd(i,_n),i=Sh(l,i,_n)}t.memoizedProps=t.pendingProps,i===null?Pl(t):be=i}function rs(t,i,l,r){cn=di=null,Gr(i),Qi=null,Zs=0;var p=i.return;try{if(Jv(t,p,i,l,Te)){Fe=1,Tl(t,Pt(l,t.current)),be=null;return}}catch(v){if(p!==null)throw be=p,v;Fe=1,Tl(t,Pt(l,t.current)),be=null;return}i.flags&32768?(Ne||r===1?t=!0:ss||(Te&536870912)!==0?t=!1:(Hn=t=!0,(r===2||r===9||r===3||r===6)&&(r=Ct.current,r!==null&&r.tag===13&&(r.flags|=16384))),ep(i,t)):Pl(i)}function Pl(t){var i=t;do{if((i.flags&32768)!==0){ep(i,Hn);return}t=i.return;var l=Xv(i.alternate,i,_n);if(l!==null){be=l;return}if(i=i.sibling,i!==null){be=i;return}be=i=t}while(i!==null);Fe===0&&(Fe=5)}function ep(t,i){do{var l=Qv(t.alternate,t);if(l!==null){l.flags&=32767,be=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(t=t.sibling,t!==null)){be=t;return}be=t=l}while(t!==null);Fe=6,be=null}function tp(t,i,l,r,p,v,S,T,N){t.cancelPendingCommit=null;do Gl();while(We!==0);if((Me&6)!==0)throw Error(o(327));if(i!==null){if(i===t.current)throw Error(o(177));if(v=i.lanes|i.childLanes,v|=cr,Oy(t,l,v,S,T,N),t===Oe&&(be=Oe=null,Te=0),ls=i,Bn=t,bn=l,vu=v,xu=p,jh=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ux(Ho,function(){return lp(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=D.T,D.T=null,p=K.p,K.p=2,S=Me,Me|=4;try{Zv(t,i,l)}finally{Me=S,K.p=p,D.T=r}}We=1,np(),ip(),sp()}}function np(){if(We===1){We=0;var t=Bn,i=ls,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=D.T,D.T=null;var r=K.p;K.p=2;var p=Me;Me|=4;try{Ph(i,t);var v=Uu,S=Vd(t.containerInfo),T=v.focusedElem,N=v.selectionRange;if(S!==T&&T&&T.ownerDocument&&qd(T.ownerDocument.documentElement,T)){if(N!==null&&or(T)){var H=N.start,F=N.end;if(F===void 0&&(F=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(F,T.value.length);else{var J=T.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var j=q.getSelection(),le=T.textContent.length,he=Math.min(N.start,le),Pe=N.end===void 0?he:Math.min(N.end,le);!j.extend&&he>Pe&&(S=Pe,Pe=he,he=S);var U=Hd(T,he),I=Hd(T,Pe);if(U&&I&&(j.rangeCount!==1||j.anchorNode!==U.node||j.anchorOffset!==U.offset||j.focusNode!==I.node||j.focusOffset!==I.offset)){var O=J.createRange();O.setStart(U.node,U.offset),j.removeAllRanges(),he>Pe?(j.addRange(O),j.extend(I.node,I.offset)):(O.setEnd(I.node,I.offset),j.addRange(O))}}}}for(J=[],j=T;j=j.parentNode;)j.nodeType===1&&J.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var $=J[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Kl=!!Du,Uu=Du=null}finally{Me=p,K.p=r,D.T=l}}t.current=i,We=2}}function ip(){if(We===2){We=0;var t=Bn,i=ls,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=D.T,D.T=null;var r=K.p;K.p=2;var p=Me;Me|=4;try{Mh(t,i.alternate,i)}finally{Me=p,K.p=r,D.T=l}}We=3}}function sp(){if(We===4||We===3){We=0,ky();var t=Bn,i=ls,l=bn,r=jh;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?We=5:(We=0,ls=Bn=null,op(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(Vn=null),qa(l),i=i.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Us,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=D.T,p=K.p,K.p=2,D.T=null;try{for(var v=t.onRecoverableError,S=0;S<r.length;S++){var T=r[S];v(T.value,{componentStack:T.stack})}}finally{D.T=i,K.p=p}}(bn&3)!==0&&Gl(),sn(t),p=t.pendingLanes,(l&261930)!==0&&(p&42)!==0?t===_u?go++:(go=0,_u=t):go=0,yo(0)}}function op(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Xs(i)))}function Gl(){return np(),ip(),sp(),lp()}function lp(){if(We!==5)return!1;var t=Bn,i=vu;vu=0;var l=qa(bn),r=D.T,p=K.p;try{K.p=32>l?32:l,D.T=null,l=xu,xu=null;var v=Bn,S=bn;if(We=0,ls=Bn=null,bn=0,(Me&6)!==0)throw Error(o(331));var T=Me;if(Me|=4,Vh(v.current),Oh(v,v.current,S,l),Me=T,yo(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Us,v)}catch{}return!0}finally{K.p=p,D.T=r,op(t,i)}}function ap(t,i,l){i=Pt(l,i),i=Zr(t.stateNode,i,2),t=Ln(t,i,2),t!==null&&(Ps(t,2),sn(t))}function De(t,i,l){if(t.tag===3)ap(t,t,l);else for(;i!==null;){if(i.tag===3){ap(i,t,l);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vn===null||!Vn.has(r))){t=Pt(l,t),l=rh(2),r=Ln(i,l,2),r!==null&&(uh(l,r,i,t),Ps(r,2),sn(r));break}}i=i.return}}function Tu(t,i,l){var r=t.pingCache;if(r===null){r=t.pingCache=new tx;var p=new Set;r.set(i,p)}else p=r.get(i),p===void 0&&(p=new Set,r.set(i,p));p.has(l)||(mu=!0,p.add(l),t=lx.bind(null,t,i,l),i.then(t,t))}function lx(t,i,l){var r=t.pingCache;r!==null&&r.delete(i),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Oe===t&&(Te&l)===l&&(Fe===4||Fe===3&&(Te&62914560)===Te&&300>St()-Ml?(Me&2)===0&&as(t,0):gu|=l,os===Te&&(os=0)),sn(t)}function rp(t,i){i===0&&(i=td()),t=ri(t,i),t!==null&&(Ps(t,i),sn(t))}function ax(t){var i=t.memoizedState,l=0;i!==null&&(l=i.retryLane),rp(t,l)}function rx(t,i){var l=0;switch(t.tag){case 31:case 13:var r=t.stateNode,p=t.memoizedState;p!==null&&(l=p.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(o(314))}r!==null&&r.delete(i),rp(t,l)}function ux(t,i){return Pa(t,i)}var Ol=null,us=null,Eu=!1,Hl=!1,wu=!1,jn=0;function sn(t){t!==us&&t.next===null&&(us===null?Ol=us=t:us=us.next=t),Hl=!0,Eu||(Eu=!0,dx())}function yo(t,i){if(!wu&&Hl){wu=!0;do for(var l=!1,r=Ol;r!==null;){if(t!==0){var p=r.pendingLanes;if(p===0)var v=0;else{var S=r.suspendedLanes,T=r.pingedLanes;v=(1<<31-Et(42|t)+1)-1,v&=p&~(S&~T),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,fp(r,v))}else v=Te,v=zo(r,r===Oe?v:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(v&3)===0||Ls(r,v)||(l=!0,fp(r,v));r=r.next}while(l);wu=!1}}function cx(){up()}function up(){Hl=Eu=!1;var t=0;jn!==0&&bx()&&(t=jn);for(var i=St(),l=null,r=Ol;r!==null;){var p=r.next,v=cp(r,i);v===0?(r.next=null,l===null?Ol=p:l.next=p,p===null&&(us=l)):(l=r,(t!==0||(v&3)!==0)&&(Hl=!0)),r=p}We!==0&&We!==5||yo(t),jn!==0&&(jn=0)}function cp(t,i){for(var l=t.suspendedLanes,r=t.pingedLanes,p=t.expirationTimes,v=t.pendingLanes&-62914561;0<v;){var S=31-Et(v),T=1<<S,N=p[S];N===-1?((T&l)===0||(T&r)!==0)&&(p[S]=Gy(T,i)):N<=i&&(t.expiredLanes|=T),v&=~T}if(i=Oe,l=Te,l=zo(t,t===i?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,l===0||t===i&&(Ie===2||Ie===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Ga(r),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||Ls(t,l)){if(i=l&-l,i===t.callbackPriority)return i;switch(r!==null&&Ga(r),qa(l)){case 2:case 8:l=Wc;break;case 32:l=Ho;break;case 268435456:l=ed;break;default:l=Ho}return r=dp.bind(null,t),l=Pa(l,r),t.callbackPriority=i,t.callbackNode=l,i}return r!==null&&r!==null&&Ga(r),t.callbackPriority=2,t.callbackNode=null,2}function dp(t,i){if(We!==0&&We!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(Gl()&&t.callbackNode!==l)return null;var r=Te;return r=zo(t,t===Oe?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:($h(t,r,i),cp(t,St()),t.callbackNode!=null&&t.callbackNode===l?dp.bind(null,t):null)}function fp(t,i){if(Gl())return null;$h(t,i,!0)}function dx(){Tx(function(){(Me&6)!==0?Pa(Zc,cx):up()})}function Nu(){if(jn===0){var t=Yi;t===0&&(t=qo,qo<<=1,(qo&261888)===0&&(qo=256)),jn=t}return jn}function hp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Jo(""+t)}function pp(t,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,t.id&&l.setAttribute("form",t.id),i.parentNode.insertBefore(l,i),t=new FormData(t),l.parentNode.removeChild(l),t}function fx(t,i,l,r,p){if(i==="submit"&&l&&l.stateNode===p){var v=hp((p[pt]||null).action),S=r.submitter;S&&(i=(i=S[pt]||null)?hp(i.formAction):S.getAttribute("formAction"),i!==null&&(v=i,S=null));var T=new Qo("action","action",null,r,p);t.push({event:T,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(jn!==0){var N=S?pp(p,S):new FormData(p);$r(l,{pending:!0,data:N,method:p.method,action:v},null,N)}}else typeof v=="function"&&(T.preventDefault(),N=S?pp(p,S):new FormData(p),$r(l,{pending:!0,data:N,method:p.method,action:v},v,N))},currentTarget:p}]})}}for(var Cu=0;Cu<ur.length;Cu++){var Au=ur[Cu],hx=Au.toLowerCase(),px=Au[0].toUpperCase()+Au.slice(1);$t(hx,"on"+px)}$t(jd,"onAnimationEnd"),$t(Fd,"onAnimationIteration"),$t($d,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(Rv,"onTransitionRun"),$t(Mv,"onTransitionStart"),$t(Iv,"onTransitionCancel"),$t(Jd,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vo));function mp(t,i){i=(i&4)!==0;for(var l=0;l<t.length;l++){var r=t[l],p=r.event;r=r.listeners;e:{var v=void 0;if(i)for(var S=r.length-1;0<=S;S--){var T=r[S],N=T.instance,H=T.currentTarget;if(T=T.listener,N!==v&&p.isPropagationStopped())break e;v=T,p.currentTarget=H;try{v(p)}catch(F){el(F)}p.currentTarget=null,v=N}else for(S=0;S<r.length;S++){if(T=r[S],N=T.instance,H=T.currentTarget,T=T.listener,N!==v&&p.isPropagationStopped())break e;v=T,p.currentTarget=H;try{v(p)}catch(F){el(F)}p.currentTarget=null,v=N}}}}function Se(t,i){var l=i[Va];l===void 0&&(l=i[Va]=new Set);var r=t+"__bubble";l.has(r)||(gp(i,t,2,!1),l.add(r))}function ku(t,i,l){var r=0;i&&(r|=4),gp(l,t,r,i)}var ql="_reactListening"+Math.random().toString(36).slice(2);function Ru(t){if(!t[ql]){t[ql]=!0,rd.forEach(function(l){l!=="selectionchange"&&(mx.has(l)||ku(l,!1,t),ku(l,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ql]||(i[ql]=!0,ku("selectionchange",!1,i))}}function gp(t,i,l,r){switch(Fp(i)){case 2:var p=zx;break;case 8:p=jx;break;default:p=Fu}l=p.bind(null,i,l,t),p=void 0,!Xa||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),r?p!==void 0?t.addEventListener(i,l,{capture:!0,passive:p}):t.addEventListener(i,l,!0):p!==void 0?t.addEventListener(i,l,{passive:p}):t.addEventListener(i,l,!1)}function Mu(t,i,l,r,p){var v=r;if((i&1)===0&&(i&2)===0&&r!==null)e:for(;;){if(r===null)return;var S=r.tag;if(S===3||S===4){var T=r.stateNode.containerInfo;if(T===p)break;if(S===4)for(S=r.return;S!==null;){var N=S.tag;if((N===3||N===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;T!==null;){if(S=Mi(T),S===null)return;if(N=S.tag,N===5||N===6||N===26||N===27){r=v=S;continue e}T=T.parentNode}}r=r.return}_d(function(){var H=v,F=Ya(l),J=[];e:{var q=Yd.get(t);if(q!==void 0){var j=Qo,le=t;switch(t){case"keypress":if(Ko(l)===0)break e;case"keydown":case"keyup":j=rv;break;case"focusin":le="focus",j=er;break;case"focusout":le="blur",j=er;break;case"beforeblur":case"afterblur":j=er;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Td;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Xy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=dv;break;case jd:case Fd:case $d:j=Wy;break;case Jd:j=hv;break;case"scroll":case"scrollend":j=Yy;break;case"wheel":j=mv;break;case"copy":case"cut":case"paste":j=tv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=wd;break;case"toggle":case"beforetoggle":j=yv}var he=(i&4)!==0,Pe=!he&&(t==="scroll"||t==="scrollend"),U=he?q!==null?q+"Capture":null:q;he=[];for(var I=H,O;I!==null;){var $=I;if(O=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||O===null||U===null||($=Hs(I,U),$!=null&&he.push(xo(I,$,O))),Pe)break;I=I.return}0<he.length&&(q=new j(q,le,null,l,F),J.push({event:q,listeners:he}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",q&&l!==Ja&&(le=l.relatedTarget||l.fromElement)&&(Mi(le)||le[Ri]))break e;if((j||q)&&(q=F.window===F?F:(q=F.ownerDocument)?q.defaultView||q.parentWindow:window,j?(le=l.relatedTarget||l.toElement,j=H,le=le?Mi(le):null,le!==null&&(Pe=u(le),he=le.tag,le!==Pe||he!==5&&he!==27&&he!==6)&&(le=null)):(j=null,le=H),j!==le)){if(he=Td,$="onMouseLeave",U="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(he=wd,$="onPointerLeave",U="onPointerEnter",I="pointer"),Pe=j==null?q:Os(j),O=le==null?q:Os(le),q=new he($,I+"leave",j,l,F),q.target=Pe,q.relatedTarget=O,$=null,Mi(F)===H&&(he=new he(U,I+"enter",le,l,F),he.target=O,he.relatedTarget=Pe,$=he),Pe=$,j&&le)t:{for(he=gx,U=j,I=le,O=0,$=U;$;$=he($))O++;$=0;for(var fe=I;fe;fe=he(fe))$++;for(;0<O-$;)U=he(U),O--;for(;0<$-O;)I=he(I),$--;for(;O--;){if(U===I||I!==null&&U===I.alternate){he=U;break t}U=he(U),I=he(I)}he=null}else he=null;j!==null&&yp(J,q,j,he,!1),le!==null&&Pe!==null&&yp(J,Pe,le,he,!0)}}e:{if(q=H?Os(H):window,j=q.nodeName&&q.nodeName.toLowerCase(),j==="select"||j==="input"&&q.type==="file")var Ae=Dd;else if(Md(q))if(Ud)Ae=Cv;else{Ae=wv;var ce=Ev}else j=q.nodeName,!j||j.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&$a(H.elementType)&&(Ae=Dd):Ae=Nv;if(Ae&&(Ae=Ae(t,H))){Id(J,Ae,l,F);break e}ce&&ce(t,q,H),t==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&Fa(q,"number",q.value)}switch(ce=H?Os(H):window,t){case"focusin":(Md(ce)||ce.contentEditable==="true")&&(qi=ce,lr=H,Js=null);break;case"focusout":Js=lr=qi=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,Bd(J,l,F);break;case"selectionchange":if(kv)break;case"keydown":case"keyup":Bd(J,l,F)}var xe;if(nr)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Hi?kd(t,l)&&(Ee="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Ee="onCompositionStart");Ee&&(Nd&&l.locale!=="ko"&&(Hi||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Hi&&(xe=bd()):(An=F,Qa="value"in An?An.value:An.textContent,Hi=!0)),ce=Vl(H,Ee),0<ce.length&&(Ee=new Ed(Ee,t,null,l,F),J.push({event:Ee,listeners:ce}),xe?Ee.data=xe:(xe=Rd(l),xe!==null&&(Ee.data=xe)))),(xe=xv?_v(t,l):bv(t,l))&&(Ee=Vl(H,"onBeforeInput"),0<Ee.length&&(ce=new Ed("onBeforeInput","beforeinput",null,l,F),J.push({event:ce,listeners:Ee}),ce.data=xe)),fx(J,t,H,l,F)}mp(J,i)})}function xo(t,i,l){return{instance:t,listener:i,currentTarget:l}}function Vl(t,i){for(var l=i+"Capture",r=[];t!==null;){var p=t,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=Hs(t,l),p!=null&&r.unshift(xo(t,p,v)),p=Hs(t,i),p!=null&&r.push(xo(t,p,v))),t.tag===3)return r;t=t.return}return[]}function gx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function yp(t,i,l,r,p){for(var v=i._reactName,S=[];l!==null&&l!==r;){var T=l,N=T.alternate,H=T.stateNode;if(T=T.tag,N!==null&&N===r)break;T!==5&&T!==26&&T!==27||H===null||(N=H,p?(H=Hs(l,v),H!=null&&S.unshift(xo(l,H,N))):p||(H=Hs(l,v),H!=null&&S.push(xo(l,H,N)))),l=l.return}S.length!==0&&t.push({event:i,listeners:S})}var yx=/\r\n?/g,vx=/\u0000|\uFFFD/g;function vp(t){return(typeof t=="string"?t:""+t).replace(yx,`
`).replace(vx,"")}function xp(t,i){return i=vp(i),vp(t)===i}function Le(t,i,l,r,p,v){switch(l){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||Pi(t,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&Pi(t,""+r);break;case"className":Fo(t,"class",r);break;case"tabIndex":Fo(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Fo(t,l,r);break;case"style":vd(t,r,v);break;case"data":if(i!=="object"){Fo(t,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||l!=="href")){t.removeAttribute(l);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(l);break}r=Jo(""+r),t.setAttribute(l,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(i!=="input"&&Le(t,i,"name",p.name,p,null),Le(t,i,"formEncType",p.formEncType,p,null),Le(t,i,"formMethod",p.formMethod,p,null),Le(t,i,"formTarget",p.formTarget,p,null)):(Le(t,i,"encType",p.encType,p,null),Le(t,i,"method",p.method,p,null),Le(t,i,"target",p.target,p,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(l);break}r=Jo(""+r),t.setAttribute(l,r);break;case"onClick":r!=null&&(t.onclick=ln);break;case"onScroll":r!=null&&Se("scroll",t);break;case"onScrollEnd":r!=null&&Se("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(l=r.__html,l!=null){if(p.children!=null)throw Error(o(60));t.innerHTML=l}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}l=Jo(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(l,""+r):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":r===!0?t.setAttribute(l,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(l,r):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(l,r):t.removeAttribute(l);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(l):t.setAttribute(l,r);break;case"popover":Se("beforetoggle",t),Se("toggle",t),jo(t,"popover",r);break;case"xlinkActuate":on(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":on(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":on(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":on(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":on(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":on(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":on(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":on(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":on(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":jo(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=$y.get(l)||l,jo(t,l,r))}}function Iu(t,i,l,r,p,v){switch(l){case"style":vd(t,r,v);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(l=r.__html,l!=null){if(p.children!=null)throw Error(o(60));t.innerHTML=l}}break;case"children":typeof r=="string"?Pi(t,r):(typeof r=="number"||typeof r=="bigint")&&Pi(t,""+r);break;case"onScroll":r!=null&&Se("scroll",t);break;case"onScrollEnd":r!=null&&Se("scrollend",t);break;case"onClick":r!=null&&(t.onclick=ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ud.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),i=l.slice(2,p?l.length-7:void 0),v=t[pt]||null,v=v!=null?v[l]:null,typeof v=="function"&&t.removeEventListener(i,v,p),typeof r=="function")){typeof v!="function"&&v!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(i,r,p);break e}l in t?t[l]=r:r===!0?t.setAttribute(l,""):jo(t,l,r)}}}function at(t,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",t),Se("load",t);var r=!1,p=!1,v;for(v in l)if(l.hasOwnProperty(v)){var S=l[v];if(S!=null)switch(v){case"src":r=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Le(t,i,v,S,l,null)}}p&&Le(t,i,"srcSet",l.srcSet,l,null),r&&Le(t,i,"src",l.src,l,null);return;case"input":Se("invalid",t);var T=v=S=p=null,N=null,H=null;for(r in l)if(l.hasOwnProperty(r)){var F=l[r];if(F!=null)switch(r){case"name":p=F;break;case"type":S=F;break;case"checked":N=F;break;case"defaultChecked":H=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(o(137,i));break;default:Le(t,i,r,F,l,null)}}pd(t,v,T,N,H,S,p,!1);return;case"select":Se("invalid",t),r=S=v=null;for(p in l)if(l.hasOwnProperty(p)&&(T=l[p],T!=null))switch(p){case"value":v=T;break;case"defaultValue":S=T;break;case"multiple":r=T;default:Le(t,i,p,T,l,null)}i=v,l=S,t.multiple=!!r,i!=null?Li(t,!!r,i,!1):l!=null&&Li(t,!!r,l,!0);return;case"textarea":Se("invalid",t),v=p=r=null;for(S in l)if(l.hasOwnProperty(S)&&(T=l[S],T!=null))switch(S){case"value":r=T;break;case"defaultValue":p=T;break;case"children":v=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(o(91));break;default:Le(t,i,S,T,l,null)}gd(t,r,p,v);return;case"option":for(N in l)if(l.hasOwnProperty(N)&&(r=l[N],r!=null))switch(N){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Le(t,i,N,r,l,null)}return;case"dialog":Se("beforetoggle",t),Se("toggle",t),Se("cancel",t),Se("close",t);break;case"iframe":case"object":Se("load",t);break;case"video":case"audio":for(r=0;r<vo.length;r++)Se(vo[r],t);break;case"image":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"embed":case"source":case"link":Se("error",t),Se("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in l)if(l.hasOwnProperty(H)&&(r=l[H],r!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Le(t,i,H,r,l,null)}return;default:if($a(i)){for(F in l)l.hasOwnProperty(F)&&(r=l[F],r!==void 0&&Iu(t,i,F,r,l,void 0));return}}for(T in l)l.hasOwnProperty(T)&&(r=l[T],r!=null&&Le(t,i,T,r,l,null))}function xx(t,i,l,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,S=null,T=null,N=null,H=null,F=null;for(j in l){var J=l[j];if(l.hasOwnProperty(j)&&J!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":N=J;default:r.hasOwnProperty(j)||Le(t,i,j,null,r,J)}}for(var q in r){var j=r[q];if(J=l[q],r.hasOwnProperty(q)&&(j!=null||J!=null))switch(q){case"type":v=j;break;case"name":p=j;break;case"checked":H=j;break;case"defaultChecked":F=j;break;case"value":S=j;break;case"defaultValue":T=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(o(137,i));break;default:j!==J&&Le(t,i,q,j,r,J)}}ja(t,S,T,N,H,F,v,p);return;case"select":j=S=T=q=null;for(v in l)if(N=l[v],l.hasOwnProperty(v)&&N!=null)switch(v){case"value":break;case"multiple":j=N;default:r.hasOwnProperty(v)||Le(t,i,v,null,r,N)}for(p in r)if(v=r[p],N=l[p],r.hasOwnProperty(p)&&(v!=null||N!=null))switch(p){case"value":q=v;break;case"defaultValue":T=v;break;case"multiple":S=v;default:v!==N&&Le(t,i,p,v,r,N)}i=T,l=S,r=j,q!=null?Li(t,!!l,q,!1):!!r!=!!l&&(i!=null?Li(t,!!l,i,!0):Li(t,!!l,l?[]:"",!1));return;case"textarea":j=q=null;for(T in l)if(p=l[T],l.hasOwnProperty(T)&&p!=null&&!r.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Le(t,i,T,null,r,p)}for(S in r)if(p=r[S],v=l[S],r.hasOwnProperty(S)&&(p!=null||v!=null))switch(S){case"value":q=p;break;case"defaultValue":j=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(o(91));break;default:p!==v&&Le(t,i,S,p,r,v)}md(t,q,j);return;case"option":for(var le in l)if(q=l[le],l.hasOwnProperty(le)&&q!=null&&!r.hasOwnProperty(le))switch(le){case"selected":t.selected=!1;break;default:Le(t,i,le,null,r,q)}for(N in r)if(q=r[N],j=l[N],r.hasOwnProperty(N)&&q!==j&&(q!=null||j!=null))switch(N){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Le(t,i,N,q,r,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in l)q=l[he],l.hasOwnProperty(he)&&q!=null&&!r.hasOwnProperty(he)&&Le(t,i,he,null,r,q);for(H in r)if(q=r[H],j=l[H],r.hasOwnProperty(H)&&q!==j&&(q!=null||j!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(137,i));break;default:Le(t,i,H,q,r,j)}return;default:if($a(i)){for(var Pe in l)q=l[Pe],l.hasOwnProperty(Pe)&&q!==void 0&&!r.hasOwnProperty(Pe)&&Iu(t,i,Pe,void 0,r,q);for(F in r)q=r[F],j=l[F],!r.hasOwnProperty(F)||q===j||q===void 0&&j===void 0||Iu(t,i,F,q,r,j);return}}for(var U in l)q=l[U],l.hasOwnProperty(U)&&q!=null&&!r.hasOwnProperty(U)&&Le(t,i,U,null,r,q);for(J in r)q=r[J],j=l[J],!r.hasOwnProperty(J)||q===j||q==null&&j==null||Le(t,i,J,q,r,j)}function _p(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _x(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,l=performance.getEntriesByType("resource"),r=0;r<l.length;r++){var p=l[r],v=p.transferSize,S=p.initiatorType,T=p.duration;if(v&&T&&_p(S)){for(S=0,T=p.responseEnd,r+=1;r<l.length;r++){var N=l[r],H=N.startTime;if(H>T)break;var F=N.transferSize,J=N.initiatorType;F&&_p(J)&&(N=N.responseEnd,S+=F*(N<T?1:(T-H)/(N-H)))}if(--r,i+=8*(v+S)/(p.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Du=null,Uu=null;function Bl(t){return t.nodeType===9?t:t.ownerDocument}function bp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sp(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Lu(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Pu=null;function bx(){var t=window.event;return t&&t.type==="popstate"?t===Pu?!1:(Pu=t,!0):(Pu=null,!1)}var Tp=typeof setTimeout=="function"?setTimeout:void 0,Sx=typeof clearTimeout=="function"?clearTimeout:void 0,Ep=typeof Promise=="function"?Promise:void 0,Tx=typeof queueMicrotask=="function"?queueMicrotask:typeof Ep<"u"?function(t){return Ep.resolve(null).then(t).catch(Ex)}:Tp;function Ex(t){setTimeout(function(){throw t})}function Fn(t){return t==="head"}function wp(t,i){var l=i,r=0;do{var p=l.nextSibling;if(t.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(r===0){t.removeChild(p),hs(i);return}r--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")r++;else if(l==="html")_o(t.ownerDocument.documentElement);else if(l==="head"){l=t.ownerDocument.head,_o(l);for(var v=l.firstChild;v;){var S=v.nextSibling,T=v.nodeName;v[Gs]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=S}}else l==="body"&&_o(t.ownerDocument.body);l=p}while(l);hs(i)}function Np(t,i){var l=t;t=0;do{var r=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),r&&r.nodeType===8)if(l=r.data,l==="/$"){if(t===0)break;t--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||t++;l=r}while(l)}function Gu(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Gu(l),Ba(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function wx(t,i,l,r){for(;t.nodeType===1;){var p=l;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Gs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(v=t.getAttribute("rel"),v==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(v!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(v=t.getAttribute("src"),(v!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===v)return t}else return t;if(t=Vt(t.nextSibling),t===null)break}return null}function Nx(t,i,l){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=Vt(t.nextSibling),t===null))return null;return t}function Cp(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Vt(t.nextSibling),t===null))return null;return t}function Ou(t){return t.data==="$?"||t.data==="$~"}function Hu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Cx(t,i){var l=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||l.readyState!=="loading")i();else{var r=function(){i(),l.removeEventListener("DOMContentLoaded",r)};l.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Vt(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var qu=null;function Ap(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"||l==="/&"){if(i===0)return Vt(t.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}t=t.nextSibling}return null}function kp(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return t;i--}else l!=="/$"&&l!=="/&"||i++}t=t.previousSibling}return null}function Rp(t,i,l){switch(i=Bl(l),t){case"html":if(t=i.documentElement,!t)throw Error(o(452));return t;case"head":if(t=i.head,!t)throw Error(o(453));return t;case"body":if(t=i.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function _o(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ba(t)}var Bt=new Map,Mp=new Set;function zl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Sn=K.d;K.d={f:Ax,r:kx,D:Rx,C:Mx,L:Ix,m:Dx,X:Lx,S:Ux,M:Px};function Ax(){var t=Sn.f(),i=Ul();return t||i}function kx(t){var i=Ii(t);i!==null&&i.tag===5&&i.type==="form"?Yf(i):Sn.r(t)}var cs=typeof document>"u"?null:document;function Ip(t,i,l){var r=cs;if(r&&typeof i=="string"&&i){var p=Ut(i);p='link[rel="'+t+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),Mp.has(p)||(Mp.add(p),t={rel:t,crossOrigin:l,href:i},r.querySelector(p)===null&&(i=r.createElement("link"),at(i,"link",t),et(i),r.head.appendChild(i)))}}function Rx(t){Sn.D(t),Ip("dns-prefetch",t,null)}function Mx(t,i){Sn.C(t,i),Ip("preconnect",t,i)}function Ix(t,i,l){Sn.L(t,i,l);var r=cs;if(r&&t&&i){var p='link[rel="preload"][as="'+Ut(i)+'"]';i==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Ut(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Ut(l.imageSizes)+'"]')):p+='[href="'+Ut(t)+'"]';var v=p;switch(i){case"style":v=ds(t);break;case"script":v=fs(t)}Bt.has(v)||(t=_({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:t,as:i},l),Bt.set(v,t),r.querySelector(p)!==null||i==="style"&&r.querySelector(bo(v))||i==="script"&&r.querySelector(So(v))||(i=r.createElement("link"),at(i,"link",t),et(i),r.head.appendChild(i)))}}function Dx(t,i){Sn.m(t,i);var l=cs;if(l&&t){var r=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Ut(r)+'"][href="'+Ut(t)+'"]',v=p;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=fs(t)}if(!Bt.has(v)&&(t=_({rel:"modulepreload",href:t},i),Bt.set(v,t),l.querySelector(p)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(So(v)))return}r=l.createElement("link"),at(r,"link",t),et(r),l.head.appendChild(r)}}}function Ux(t,i,l){Sn.S(t,i,l);var r=cs;if(r&&t){var p=Di(r).hoistableStyles,v=ds(t);i=i||"default";var S=p.get(v);if(!S){var T={loading:0,preload:null};if(S=r.querySelector(bo(v)))T.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":i},l),(l=Bt.get(v))&&Vu(t,l);var N=S=r.createElement("link");et(N),at(N,"link",t),N._p=new Promise(function(H,F){N.onload=H,N.onerror=F}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,jl(S,i,r)}S={type:"stylesheet",instance:S,count:1,state:T},p.set(v,S)}}}function Lx(t,i){Sn.X(t,i);var l=cs;if(l&&t){var r=Di(l).hoistableScripts,p=fs(t),v=r.get(p);v||(v=l.querySelector(So(p)),v||(t=_({src:t,async:!0},i),(i=Bt.get(p))&&Bu(t,i),v=l.createElement("script"),et(v),at(v,"link",t),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},r.set(p,v))}}function Px(t,i){Sn.M(t,i);var l=cs;if(l&&t){var r=Di(l).hoistableScripts,p=fs(t),v=r.get(p);v||(v=l.querySelector(So(p)),v||(t=_({src:t,async:!0,type:"module"},i),(i=Bt.get(p))&&Bu(t,i),v=l.createElement("script"),et(v),at(v,"link",t),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},r.set(p,v))}}function Dp(t,i,l,r){var p=(p=me.current)?zl(p):null;if(!p)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=ds(l.href),l=Di(p).hoistableStyles,r=l.get(i),r||(r={type:"style",instance:null,count:0,state:null},l.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=ds(l.href);var v=Di(p).hoistableStyles,S=v.get(t);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(t,S),(v=p.querySelector(bo(t)))&&!v._p&&(S.instance=v,S.state.loading=5),Bt.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Bt.set(t,l),v||Gx(p,t,l,S.state))),i&&r===null)throw Error(o(528,""));return S}if(i&&r!==null)throw Error(o(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=fs(l),l=Di(p).hoistableScripts,r=l.get(i),r||(r={type:"script",instance:null,count:0,state:null},l.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function ds(t){return'href="'+Ut(t)+'"'}function bo(t){return'link[rel="stylesheet"]['+t+"]"}function Up(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function Gx(t,i,l,r){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=t.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),at(i,"link",l),et(i),t.head.appendChild(i))}function fs(t){return'[src="'+Ut(t)+'"]'}function So(t){return"script[async]"+t}function Lp(t,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var r=t.querySelector('style[data-href~="'+Ut(l.href)+'"]');if(r)return i.instance=r,et(r),r;var p=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),et(r),at(r,"style",p),jl(r,l.precedence,t),i.instance=r;case"stylesheet":p=ds(l.href);var v=t.querySelector(bo(p));if(v)return i.state.loading|=4,i.instance=v,et(v),v;r=Up(l),(p=Bt.get(p))&&Vu(r,p),v=(t.ownerDocument||t).createElement("link"),et(v);var S=v;return S._p=new Promise(function(T,N){S.onload=T,S.onerror=N}),at(v,"link",r),i.state.loading|=4,jl(v,l.precedence,t),i.instance=v;case"script":return v=fs(l.src),(p=t.querySelector(So(v)))?(i.instance=p,et(p),p):(r=l,(p=Bt.get(v))&&(r=_({},l),Bu(r,p)),t=t.ownerDocument||t,p=t.createElement("script"),et(p),at(p,"link",r),t.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,jl(r,l.precedence,t));return i.instance}function jl(t,i,l){for(var r=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=r.length?r[r.length-1]:null,v=p,S=0;S<r.length;S++){var T=r[S];if(T.dataset.precedence===i)v=T;else if(v!==p)break}v?v.parentNode.insertBefore(t,v.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(t,i.firstChild))}function Vu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Bu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Fl=null;function Pp(t,i,l){if(Fl===null){var r=new Map,p=Fl=new Map;p.set(l,r)}else p=Fl,r=p.get(l),r||(r=new Map,p.set(l,r));if(r.has(t))return r;for(r.set(t,null),l=l.getElementsByTagName(t),p=0;p<l.length;p++){var v=l[p];if(!(v[Gs]||v[it]||t==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(i)||"";S=t+S;var T=r.get(S);T?T.push(v):r.set(S,[v])}}return r}function Gp(t,i,l){t=t.ownerDocument||t,t.head.insertBefore(l,i==="title"?t.querySelector("head > title"):null)}function Ox(t,i,l){if(l===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Op(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Hx(t,i,l,r){if(l.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=ds(r.href),v=i.querySelector(bo(p));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=$l.bind(t),i.then(t,t)),l.state.loading|=4,l.instance=v,et(v);return}v=i.ownerDocument||i,r=Up(r),(p=Bt.get(p))&&Vu(r,p),v=v.createElement("link"),et(v);var S=v;S._p=new Promise(function(T,N){S.onload=T,S.onerror=N}),at(v,"link",r),l.instance=v}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(t.count++,l=$l.bind(t),i.addEventListener("load",l),i.addEventListener("error",l))}}var zu=0;function qx(t,i){return t.stylesheets&&t.count===0&&Yl(t,t.stylesheets),0<t.count||0<t.imgCount?function(l){var r=setTimeout(function(){if(t.stylesheets&&Yl(t,t.stylesheets),t.unsuspend){var v=t.unsuspend;t.unsuspend=null,v()}},6e4+i);0<t.imgBytes&&zu===0&&(zu=62500*_x());var p=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Yl(t,t.stylesheets),t.unsuspend)){var v=t.unsuspend;t.unsuspend=null,v()}},(t.imgBytes>zu?50:800)+i);return t.unsuspend=l,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(p)}}:null}function $l(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Jl=null;function Yl(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Jl=new Map,i.forEach(Vx,t),Jl=null,$l.call(t))}function Vx(t,i){if(!(i.state.loading&4)){var l=Jl.get(t);if(l)var r=l.get(null);else{l=new Map,Jl.set(t,l);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var S=p[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),r=S)}r&&l.set(null,r)}p=i.instance,S=p.getAttribute("data-precedence"),v=l.get(S)||r,v===r&&l.set(null,p),l.set(S,p),this.count++,r=$l.bind(this),p.addEventListener("load",r),p.addEventListener("error",r),v?v.parentNode.insertBefore(p,v.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),i.state.loading|=4}}var To={$$typeof:B,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function Bx(t,i,l,r,p,v,S,T,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oa(0),this.hiddenUpdates=Oa(null),this.identifierPrefix=r,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Hp(t,i,l,r,p,v,S,T,N,H,F,J){return t=new Bx(t,i,l,S,N,H,F,J,T),i=1,v===!0&&(i|=24),v=Nt(3,null,null,i),t.current=v,v.stateNode=t,i=Sr(),i.refCount++,t.pooledCache=i,i.refCount++,v.memoizedState={element:r,isDehydrated:l,cache:i},Nr(v),t}function qp(t){return t?(t=zi,t):zi}function Vp(t,i,l,r,p,v){p=qp(p),r.context===null?r.context=p:r.pendingContext=p,r=Un(i),r.payload={element:l},v=v===void 0?null:v,v!==null&&(r.callback=v),l=Ln(t,r,i),l!==null&&(_t(l,t,i),eo(l,t,i))}function Bp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<i?l:i}}function ju(t,i){Bp(t,i),(t=t.alternate)&&Bp(t,i)}function zp(t){if(t.tag===13||t.tag===31){var i=ri(t,67108864);i!==null&&_t(i,t,67108864),ju(t,67108864)}}function jp(t){if(t.tag===13||t.tag===31){var i=Mt();i=Ha(i);var l=ri(t,i);l!==null&&_t(l,t,i),ju(t,i)}}var Kl=!0;function zx(t,i,l,r){var p=D.T;D.T=null;var v=K.p;try{K.p=2,Fu(t,i,l,r)}finally{K.p=v,D.T=p}}function jx(t,i,l,r){var p=D.T;D.T=null;var v=K.p;try{K.p=8,Fu(t,i,l,r)}finally{K.p=v,D.T=p}}function Fu(t,i,l,r){if(Kl){var p=$u(r);if(p===null)Mu(t,i,r,Xl,l),$p(t,r);else if($x(p,t,i,l,r))r.stopPropagation();else if($p(t,r),i&4&&-1<Fx.indexOf(t)){for(;p!==null;){var v=Ii(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=ii(v.pendingLanes);if(S!==0){var T=v;for(T.pendingLanes|=2,T.entangledLanes|=2;S;){var N=1<<31-Et(S);T.entanglements[1]|=N,S&=~N}sn(v),(Me&6)===0&&(Il=St()+500,yo(0))}}break;case 31:case 13:T=ri(v,2),T!==null&&_t(T,v,2),Ul(),ju(v,2)}if(v=$u(r),v===null&&Mu(t,i,r,Xl,l),v===p)break;p=v}p!==null&&r.stopPropagation()}else Mu(t,i,r,null,l)}}function $u(t){return t=Ya(t),Ju(t)}var Xl=null;function Ju(t){if(Xl=null,t=Mi(t),t!==null){var i=u(t);if(i===null)t=null;else{var l=i.tag;if(l===13){if(t=d(i),t!==null)return t;t=null}else if(l===31){if(t=h(i),t!==null)return t;t=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Xl=t,null}function Fp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ry()){case Zc:return 2;case Wc:return 8;case Ho:case My:return 32;case ed:return 268435456;default:return 32}default:return 32}}var Yu=!1,$n=null,Jn=null,Yn=null,Eo=new Map,wo=new Map,Kn=[],Fx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $p(t,i){switch(t){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Yn=null;break;case"pointerover":case"pointerout":Eo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(i.pointerId)}}function No(t,i,l,r,p,v){return t===null||t.nativeEvent!==v?(t={blockedOn:i,domEventName:l,eventSystemFlags:r,nativeEvent:v,targetContainers:[p]},i!==null&&(i=Ii(i),i!==null&&zp(i)),t):(t.eventSystemFlags|=r,i=t.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),t)}function $x(t,i,l,r,p){switch(i){case"focusin":return $n=No($n,t,i,l,r,p),!0;case"dragenter":return Jn=No(Jn,t,i,l,r,p),!0;case"mouseover":return Yn=No(Yn,t,i,l,r,p),!0;case"pointerover":var v=p.pointerId;return Eo.set(v,No(Eo.get(v)||null,t,i,l,r,p)),!0;case"gotpointercapture":return v=p.pointerId,wo.set(v,No(wo.get(v)||null,t,i,l,r,p)),!0}return!1}function Jp(t){var i=Mi(t.target);if(i!==null){var l=u(i);if(l!==null){if(i=l.tag,i===13){if(i=d(l),i!==null){t.blockedOn=i,ld(t.priority,function(){jp(l)});return}}else if(i===31){if(i=h(l),i!==null){t.blockedOn=i,ld(t.priority,function(){jp(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ql(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var l=$u(t.nativeEvent);if(l===null){l=t.nativeEvent;var r=new l.constructor(l.type,l);Ja=r,l.target.dispatchEvent(r),Ja=null}else return i=Ii(l),i!==null&&zp(i),t.blockedOn=l,!1;i.shift()}return!0}function Yp(t,i,l){Ql(t)&&l.delete(i)}function Jx(){Yu=!1,$n!==null&&Ql($n)&&($n=null),Jn!==null&&Ql(Jn)&&(Jn=null),Yn!==null&&Ql(Yn)&&(Yn=null),Eo.forEach(Yp),wo.forEach(Yp)}function Zl(t,i){t.blockedOn===i&&(t.blockedOn=null,Yu||(Yu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Jx)))}var Wl=null;function Kp(t){Wl!==t&&(Wl=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Wl===t&&(Wl=null);for(var i=0;i<t.length;i+=3){var l=t[i],r=t[i+1],p=t[i+2];if(typeof r!="function"){if(Ju(r||l)===null)continue;break}var v=Ii(l);v!==null&&(t.splice(i,3),i-=3,$r(v,{pending:!0,data:p,method:l.method,action:r},r,p))}}))}function hs(t){function i(N){return Zl(N,t)}$n!==null&&Zl($n,t),Jn!==null&&Zl(Jn,t),Yn!==null&&Zl(Yn,t),Eo.forEach(i),wo.forEach(i);for(var l=0;l<Kn.length;l++){var r=Kn[l];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Kn.length&&(l=Kn[0],l.blockedOn===null);)Jp(l),l.blockedOn===null&&Kn.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(r=0;r<l.length;r+=3){var p=l[r],v=l[r+1],S=p[pt]||null;if(typeof v=="function")S||Kp(l);else if(S){var T=null;if(v&&v.hasAttribute("formAction")){if(p=v,S=v[pt]||null)T=S.formAction;else if(Ju(p)!==null)continue}else T=S.action;typeof T=="function"?l[r+1]=T:(l.splice(r,3),r-=3),Kp(l)}}}function Xp(){function t(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(S){return p=S})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),r||setTimeout(l,20)}function l(){if(!r&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,p=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function Ku(t){this._internalRoot=t}ea.prototype.render=Ku.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(o(409));var l=i.current,r=Mt();Vp(l,r,t,i,null,null)},ea.prototype.unmount=Ku.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Vp(t.current,2,null,t,null,null),Ul(),i[Ri]=null}};function ea(t){this._internalRoot=t}ea.prototype.unstable_scheduleHydration=function(t){if(t){var i=od();t={blockedOn:null,target:t,priority:i};for(var l=0;l<Kn.length&&i!==0&&i<Kn[l].priority;l++);Kn.splice(l,0,t),l===0&&Jp(t)}};var Qp=e.version;if(Qp!=="19.2.3")throw Error(o(527,Qp,"19.2.3"));K.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=m(i),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var Yx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ta.isDisabled&&ta.supportsFiber)try{Us=ta.inject(Yx),Tt=ta}catch{}}return Ao.createRoot=function(t,i){if(!a(t))throw Error(o(299));var l=!1,r="",p=sh,v=oh,S=lh;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError)),i=Hp(t,1,!1,null,null,l,r,null,p,v,S,Xp),t[Ri]=i.current,Ru(t),new Ku(i)},Ao.hydrateRoot=function(t,i,l){if(!a(t))throw Error(o(299));var r=!1,p="",v=sh,S=oh,T=lh,N=null;return l!=null&&(l.unstable_strictMode===!0&&(r=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError),l.formState!==void 0&&(N=l.formState)),i=Hp(t,1,!0,i,l??null,r,p,N,v,S,T,Xp),i.context=qp(null),l=i.current,r=Mt(),r=Ha(r),p=Un(r),p.callback=null,Ln(l,p,r),l=r,i.current.lanes=l,Ps(i,l),sn(i),t[Ri]=i.current,Ru(t),new ea(i)},Ao.version="19.2.3",Ao}var am;function o_(){if(am)return Zu.exports;am=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Zu.exports=s_(),Zu.exports}var l_=o_();const a_=r0(l_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),u_=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,o)=>o?o.toUpperCase():s.toLowerCase()),rm=n=>{const e=u_(n);return e.charAt(0).toUpperCase()+e.slice(1)},u0=(...n)=>n.filter((e,s,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===s).join(" ").trim(),c_=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=oe.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:u,iconNode:d,...h},y)=>oe.createElement("svg",{ref:y,...d_,width:e,height:e,stroke:n,strokeWidth:o?Number(s)*24/Number(e):s,className:u0("lucide",a),...!u&&!c_(h)&&{"aria-hidden":"true"},...h},[...d.map(([m,x])=>oe.createElement(m,x)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(n,e)=>{const s=oe.forwardRef(({className:o,...a},u)=>oe.createElement(f_,{ref:u,iconNode:e,className:u0(`lucide-${r_(rm(n))}`,`lucide-${n}`,o),...a}));return s.displayName=rm(n),s};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],p_=de("arrow-up-right",h_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]],g_=de("badge-percent",m_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],c0=de("banknote",y_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],x_=de("bell",v_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],b_=de("building-2",__);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Mc=de("building",S_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],E_=de("calendar-check",T_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],N_=de("calendar-days",w_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],d0=de("calendar",C_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],k_=de("check",A_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],M_=de("chevron-left",R_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],f0=de("chevron-right",I_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],h0=de("circle-check-big",D_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],p0=de("circle-check",U_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],P_=de("circle-user",L_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],O_=de("circle-x",G_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dc=de("clock",H_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["path",{d:"M3 20a1 1 0 0 1-1-1v-1a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1Z",key:"1pvr1r"}],["path",{d:"M20 16a8 8 0 1 0-16 0",key:"1pa543"}],["path",{d:"M12 4v4",key:"1bq03y"}],["path",{d:"M10 4h4",key:"1xpv9s"}]],_a=de("concierge-bell",q_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],B_=de("credit-card",V_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],m0=de("dollar-sign",z_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],F_=de("download",j_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ic=de("eye",$_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],Y_=de("file-chart-column-increasing",J_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],X_=de("file-spreadsheet",K_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Z_=de("file-text",Q_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],eb=de("hammer",W_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Dc=de("history",tb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],ib=de("hourglass",nb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],g0=de("house",sb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],lb=de("info",ob);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],rb=de("layout-dashboard",ab);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],cb=de("layout-grid",ub);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ba=de("loader-circle",db);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]],hb=de("lock-keyhole",fb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],mb=de("log-out",pb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],yb=de("message-circle",gb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Sa=de("pen",vb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],_b=de("percent",xb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ni=de("plus",bb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],y0=de("printer",Sb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Eb=de("refresh-cw",Tb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],Nb=de("scale",wb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ab=de("search",Cb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Rb=de("shield-alert",kb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],v0=de("shield-check",Mb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],um=de("shopping-cart",Ib);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],cm=de("sparkles",Db);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Lb=de("toggle-left",Ub);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Gb=de("toggle-right",Pb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ei=de("trash-2",Ob);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],qb=de("trending-down",Hb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],x0=de("trending-up",Vb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],zb=de("upload",Bb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Fb=de("user-plus",jb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Jb=de("user",$b);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_0=de("users",Yb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Xb=de("wallet",Kb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ci=de("x",Qb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ha=de("zap",Zb),Wb=({children:n,activeTab:e,onTabChange:s,user:o,onLogout:a,notifications:u,onMarkRead:d,isSyncing:h,lastSyncTime:y,onManualSync:m})=>{const[x,_]=oe.useState(!1),E=[{id:"dashboard",label:"Dashboard",icon:rb,permission:"canViewDashboard"},{id:"calendar",label:"Timeline",icon:N_,permission:"canViewTimeline"},{id:"apartments",label:"Units",icon:b_,permission:"canViewUnits"},{id:"bookings",label:"Reservations",icon:_a,permission:"canViewBookings"},{id:"maintenance",label:"Maintenance",icon:eb,permission:"canManageUnits"},{id:"commissions",label:"Sales Commission",icon:g_,permission:"canManageCommissions"},{id:"customers",label:"Guests",icon:_0,permission:"canViewCustomers"},{id:"services",label:"Services",icon:ha,permission:"canViewServices"},{id:"reports",label:"Finance Hub",icon:Y_,permission:"canViewReports"},{id:"team",label:"Our Team",icon:v0,permission:"canViewStaff"},{id:"logs",label:"System & Backup",icon:Dc,permission:"canViewLogs"}].filter(R=>o.permissions[R.permission]),M=u.filter(R=>!R.read).length;return g.jsxs("div",{className:"flex h-screen bg-[#f8fafc] overflow-hidden text-slate-900",children:[g.jsxs("aside",{className:"w-72 bg-white border-r border-slate-200 flex flex-col shadow-sm z-40 relative",children:[g.jsx("div",{className:"p-10 text-center shrink-0",children:g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsxs("div",{className:"text-2xl font-black tracking-tighter text-slate-900 flex items-center gap-1",children:["BAHIA",g.jsx("span",{className:"text-sky-600",children:"."})]}),g.jsx("div",{className:"h-0.5 w-8 bg-sky-600 mt-1 rounded-full"}),g.jsx("p",{className:"text-[7px] text-slate-400 font-bold uppercase tracking-[0.4em] mt-3",children:"HURGHADA PREMIUM"})]})}),g.jsx("nav",{className:"flex-1 px-6 space-y-1.5 overflow-y-auto pt-2 pb-20 scrollbar-hide",children:E.map(R=>g.jsxs("button",{onClick:()=>s(R.id),className:`w-full flex items-center gap-3.5 px-5 py-3 rounded-2xl transition-all duration-300 group ${e===R.id?"bg-slate-900 text-white font-bold shadow-xl shadow-slate-200":"text-slate-500 hover:bg-slate-50 hover:text-slate-900 font-medium"}`,children:[g.jsx(R.icon,{className:`w-4.5 h-4.5 ${e===R.id?"text-sky-400":"text-slate-400 group-hover:text-slate-900"}`}),g.jsx("span",{className:"text-[13px] tracking-tight",children:R.label})]},R.id))}),g.jsx("div",{className:"p-6 mt-auto bg-white border-t border-slate-50 shrink-0",children:g.jsxs("div",{className:"bg-slate-50 p-4 rounded-3xl mb-4 border border-slate-100",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx("div",{className:"w-9 h-9 rounded-xl bg-white flex items-center justify-center text-slate-900 border border-slate-200 shadow-sm",children:g.jsx(P_,{className:"w-5 h-5"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-[11px] font-black text-slate-900 truncate uppercase",children:o.name}),g.jsx("p",{className:"text-[8px] text-slate-500 font-bold uppercase tracking-widest",children:o.role})]})]}),g.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center gap-2 py-2.5 bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white rounded-xl transition-all font-black uppercase tracking-widest text-[8px] border border-rose-100",children:[g.jsx(mb,{className:"w-3.5 h-3.5"})," Sign Out"]})]})})]}),g.jsxs("main",{className:"flex-1 overflow-auto flex flex-col",children:[g.jsxs("header",{className:"h-20 bg-white/80 backdrop-blur-md border-b border-slate-200 px-10 flex items-center justify-between sticky top-0 z-30",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-1.5 h-6 bg-sky-500 rounded-full"}),g.jsxs("h2",{className:"text-xs font-black text-slate-500 uppercase tracking-widest",children:[e.replace("_"," ")," Hub"]})]}),g.jsxs("div",{className:"flex items-center gap-6",children:[g.jsxs("div",{className:"flex items-center gap-4 px-5 py-2.5 bg-slate-50 rounded-2xl border border-slate-100",children:[g.jsxs("div",{className:"flex flex-col items-end",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest ${h?"text-sky-500":"text-emerald-500"}`,children:h?"Syncing...":"Live Cloud"}),h?g.jsx(ba,{className:"w-3 h-3 text-sky-500 animate-spin"}):g.jsx(h0,{className:"w-3 h-3 text-emerald-500"})]}),g.jsxs("p",{className:"text-[7px] text-slate-400 font-bold uppercase tracking-tighter",children:["Last: ",y?y.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}):"Never"]})]}),g.jsx("button",{onClick:m,disabled:h,className:`p-2 rounded-lg transition-all ${h?"bg-slate-200 text-slate-400":"bg-white text-slate-600 hover:bg-slate-900 hover:text-white shadow-sm border border-slate-200"}`,children:g.jsx(Eb,{className:`w-3.5 h-3.5 ${h?"animate-spin":""}`})})]}),g.jsxs("button",{onClick:()=>_(!x),className:"p-2.5 text-slate-600 hover:bg-slate-100 rounded-xl relative border border-slate-200 shadow-sm transition-all",children:[g.jsx(x_,{className:"w-5 h-5"}),M>0&&g.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-rose-500 text-white text-[9px] font-black flex items-center justify-center rounded-lg shadow-md animate-bounce",children:M})]})]})]}),g.jsx("div",{className:"p-8 max-w-[1600px] w-full mx-auto",children:n})]})]})};var eS={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let tS,nS;function iS(){return{geminiUrl:tS,vertexUrl:nS}}function sS(n,e,s,o){var a,u;if(!(n!=null&&n.baseUrl)){const d=iS();return e?(a=d.vertexUrl)!==null&&a!==void 0?a:s:(u=d.geminiUrl)!==null&&u!==void 0?u:o}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class En{}function te(n,e){const s=/\{([^}]+)\}/g;return n.replace(s,(o,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const u=e[a];return u!=null?String(u):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function f(n,e,s){for(let u=0;u<e.length-1;u++){const d=e[u];if(d.endsWith("[]")){const h=d.slice(0,-2);if(!(h in n))if(Array.isArray(s))n[h]=Array.from({length:s.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(n[h])){const y=n[h];if(Array.isArray(s))for(let m=0;m<y.length;m++){const x=y[m];f(x,e.slice(u+1),s[m])}else for(const m of y)f(m,e.slice(u+1),s)}return}else if(d.endsWith("[0]")){const h=d.slice(0,-3);h in n||(n[h]=[{}]);const y=n[h];f(y[0],e.slice(u+1),s);return}(!n[d]||typeof n[d]!="object")&&(n[d]={}),n=n[d]}const o=e[e.length-1],a=n[o];if(a!==void 0){if(!s||typeof s=="object"&&Object.keys(s).length===0||s===a)return;if(typeof a=="object"&&typeof s=="object"&&a!==null&&s!==null)Object.assign(a,s);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof s=="object"&&s!==null&&!Array.isArray(s)?Object.assign(n,s):n[o]=s}function c(n,e,s=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return s;const a=e[o];if(a.endsWith("[]")){const u=a.slice(0,-2);if(u in n){const d=n[u];return Array.isArray(d)?d.map(h=>c(h,e.slice(o+1),s)):s}else return s}else n=n[a]}return n}catch(o){if(o instanceof TypeError)return s;throw o}}function oS(n,e){for(const[s,o]of Object.entries(e)){const a=s.split("."),u=o.split("."),d=new Set;let h=-1;for(let y=0;y<a.length;y++)if(a[y]==="*"){h=y;break}if(h!==-1&&u.length>h)for(let y=h;y<u.length;y++){const m=u[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&d.add(m)}fc(n,a,u,0,d)}}function fc(n,e,s,o,a){if(o>=e.length||typeof n!="object"||n===null)return;const u=e[o];if(u.endsWith("[]")){const d=u.slice(0,-2),h=n;if(d in h&&Array.isArray(h[d]))for(const y of h[d])fc(y,e,s,o+1,a)}else if(u==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const d=n,h=Object.keys(d).filter(m=>!m.startsWith("_")&&!a.has(m)),y={};for(const m of h)y[m]=d[m];for(const[m,x]of Object.entries(y)){const _=[];for(const b of s.slice(o))b==="*"?_.push(m):_.push(b);f(d,_,x)}for(const m of h)delete d[m]}}else{const d=n;u in d&&fc(d[u],e,s,o+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uc(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lS(n){const e={},s=c(n,["operationName"]);s!=null&&f(e,["operationName"],s);const o=c(n,["resourceName"]);return o!=null&&f(e,["_url","resourceName"],o),e}function aS(n){const e={},s=c(n,["name"]);s!=null&&f(e,["name"],s);const o=c(n,["metadata"]);o!=null&&f(e,["metadata"],o);const a=c(n,["done"]);a!=null&&f(e,["done"],a);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],uS(d)),e}function rS(n){const e={},s=c(n,["name"]);s!=null&&f(e,["name"],s);const o=c(n,["metadata"]);o!=null&&f(e,["metadata"],o);const a=c(n,["done"]);a!=null&&f(e,["done"],a);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],cS(d)),e}function uS(n){const e={},s=c(n,["generatedSamples"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>dS(d))),f(e,["generatedVideos"],u)}const o=c(n,["raiMediaFilteredCount"]);o!=null&&f(e,["raiMediaFilteredCount"],o);const a=c(n,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function cS(n){const e={},s=c(n,["videos"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>fS(d))),f(e,["generatedVideos"],u)}const o=c(n,["raiMediaFilteredCount"]);o!=null&&f(e,["raiMediaFilteredCount"],o);const a=c(n,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function dS(n){const e={},s=c(n,["video"]);return s!=null&&f(e,["video"],vS(s)),e}function fS(n){const e={},s=c(n,["_self"]);return s!=null&&f(e,["video"],xS(s)),e}function hS(n){const e={},s=c(n,["operationName"]);return s!=null&&f(e,["_url","operationName"],s),e}function pS(n){const e={},s=c(n,["operationName"]);return s!=null&&f(e,["_url","operationName"],s),e}function mS(n){const e={},s=c(n,["name"]);s!=null&&f(e,["name"],s);const o=c(n,["metadata"]);o!=null&&f(e,["metadata"],o);const a=c(n,["done"]);a!=null&&f(e,["done"],a);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],gS(d)),e}function gS(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["parent"]);o!=null&&f(e,["parent"],o);const a=c(n,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function b0(n){const e={},s=c(n,["name"]);s!=null&&f(e,["name"],s);const o=c(n,["metadata"]);o!=null&&f(e,["metadata"],o);const a=c(n,["done"]);a!=null&&f(e,["done"],a);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],yS(d)),e}function yS(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["parent"]);o!=null&&f(e,["parent"],o);const a=c(n,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function vS(n){const e={},s=c(n,["uri"]);s!=null&&f(e,["uri"],s);const o=c(n,["encodedVideo"]);o!=null&&f(e,["videoBytes"],Uc(o));const a=c(n,["encoding"]);return a!=null&&f(e,["mimeType"],a),e}function xS(n){const e={},s=c(n,["gcsUri"]);s!=null&&f(e,["uri"],s);const o=c(n,["bytesBase64Encoded"]);o!=null&&f(e,["videoBytes"],Uc(o));const a=c(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var dm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(dm||(dm={}));var fm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(fm||(fm={}));var hm;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(hm||(hm={}));var Wn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Wn||(Wn={}));var pm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(pm||(pm={}));var mm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(mm||(mm={}));var gm;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(gm||(gm={}));var ym;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(ym||(ym={}));var vm;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(vm||(vm={}));var xm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(xm||(xm={}));var _m;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(_m||(_m={}));var bm;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(bm||(bm={}));var Sm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Sm||(Sm={}));var Tm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Tm||(Tm={}));var Em;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Em||(Em={}));var wm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(wm||(wm={}));var Nm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Nm||(Nm={}));var Cm;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Cm||(Cm={}));var Am;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Am||(Am={}));var km;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(km||(km={}));var Rm;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Rm||(Rm={}));var pa;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(pa||(pa={}));var Mm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Mm||(Mm={}));var Im;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Im||(Im={}));var Dm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Dm||(Dm={}));var hc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(hc||(hc={}));var Um;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Um||(Um={}));var Lm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Lm||(Lm={}));var Pm;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Pm||(Pm={}));var Gm;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Gm||(Gm={}));var Om;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Om||(Om={}));var Hm;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Hm||(Hm={}));var qm;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(qm||(qm={}));var Vm;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Vm||(Vm={}));var Bm;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Bm||(Bm={}));var zm;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(zm||(zm={}));var jm;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(jm||(jm={}));var Fm;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Fm||(Fm={}));var $m;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})($m||($m={}));var Jm;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Jm||(Jm={}));var Ym;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Ym||(Ym={}));var Km;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Km||(Km={}));var Xm;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Xm||(Xm={}));var Qm;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Qm||(Qm={}));var Zm;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(Zm||(Zm={}));var Wm;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Wm||(Wm={}));var eg;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(eg||(eg={}));var tg;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(tg||(tg={}));var ng;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ng||(ng={}));var ig;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ig||(ig={}));var sg;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(sg||(sg={}));var og;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(og||(og={}));var lg;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(lg||(lg={}));var ag;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(ag||(ag={}));var Ss;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Ss||(Ss={}));class pc{constructor(e){const s={};for(const o of e.headers.entries())s[o[0]]=o[1];this.headers=s,this.responseInternal=e}json(){return this.responseInternal.json()}}class ko{get text(){var e,s,o,a,u,d,h,y;if(((a=(o=(s=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",x=!1;const _=[];for(const b of(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[E,M]of Object.entries(b))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(M!==null||M!==void 0)&&_.push(E);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;x=!0,m+=b.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?m:void 0}get data(){var e,s,o,a,u,d,h,y;if(((a=(o=(s=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const x=[];for(const _ of(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[b,E]of Object.entries(_))b!=="inlineData"&&(E!==null||E!==void 0)&&x.push(b);_.inlineData&&typeof _.inlineData.data=="string"&&(m+=atob(_.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,s,o,a,u,d,h,y;if(((a=(o=(s=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,s,o,a,u,d,h,y,m;if(((a=(o=(s=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((x==null?void 0:x.length)!==0)return(m=x==null?void 0:x[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,s,o,a,u,d,h,y,m;if(((a=(o=(s=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((x==null?void 0:x.length)!==0)return(m=x==null?void 0:x[0])===null||m===void 0?void 0:m.output}}class rg{}class ug{}class _S{}class bS{}class SS{}class TS{}class cg{}class dg{}class fg{}class ES{}class ma{_fromAPIResponse({apiResponse:e,_isVertexAI:s}){const o=new ma;let a;const u=e;return s?a=rS(u):a=aS(u),Object.assign(o,a),o}}class hg{}class pg{}class mg{}class gg{}class wS{}class NS{}class CS{}class Lc{_fromAPIResponse({apiResponse:e,_isVertexAI:s}){const o=new Lc,u=mS(e);return Object.assign(o,u),o}}class AS{}class kS{}class RS{}class yg{}class MS{get text(){var e,s,o;let a="",u=!1;const d=[];for(const h of(o=(s=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||s===void 0?void 0:s.parts)!==null&&o!==void 0?o:[]){for(const[y,m]of Object.entries(h))y!=="text"&&y!=="thought"&&m!==null&&d.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,a+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?a:void 0}get data(){var e,s,o;let a="";const u=[];for(const d of(o=(s=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||s===void 0?void 0:s.parts)!==null&&o!==void 0?o:[]){for(const[h,y]of Object.entries(d))h!=="inlineData"&&y!==null&&u.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(a+=atob(d.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class IS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Pc{_fromAPIResponse({apiResponse:e,_isVertexAI:s}){const o=new Pc,u=b0(e);return Object.assign(o,u),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Re(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const s=e.split("/",2);return`publishers/${s[0]}/models/${s[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function S0(n,e){const s=Re(n,e);return s?s.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${s}`:s.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${s}`:s:""}function T0(n){return Array.isArray(n)?n.map(e=>ga(e)):[ga(n)]}function ga(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function E0(n){const e=ga(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function w0(n){const e=ga(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function vg(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function N0(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>vg(e)):[vg(n)]}function mc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function xg(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function _g(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function ct(n){if(n==null)throw new Error("ContentUnion is required");return mc(n)?n:{role:"user",parts:N0(n)}}function Gc(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(s=>{const o=ct(s);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const s=ct(e);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]}return Array.isArray(e)?e.map(s=>ct(s)):[ct(e)]}function jt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(xg(n)||_g(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ct(n)]}const e=[],s=[],o=mc(n[0]);for(const a of n){const u=mc(a);if(u!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(a);else{if(xg(a)||_g(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");s.push(a)}}return o||e.push({role:"user",parts:N0(s)}),e}function DS(n,e){n.includes("null")&&(e.nullable=!0);const s=n.filter(o=>o!=="null");if(s.length===1)e.type=Object.values(Wn).includes(s[0].toUpperCase())?s[0].toUpperCase():Wn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of s)e.anyOf.push({type:Object.values(Wn).includes(o.toUpperCase())?o.toUpperCase():Wn.TYPE_UNSPECIFIED})}}function Es(n){const e={},s=["items"],o=["anyOf"],a=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=n.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,n=u[1]):u[1].type==="null"&&(e.nullable=!0,n=u[0])),n.type instanceof Array&&DS(n.type,e);for(const[d,h]of Object.entries(n))if(h!=null)if(d=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(Wn).includes(h.toUpperCase())?h.toUpperCase():Wn.TYPE_UNSPECIFIED}else if(s.includes(d))e[d]=Es(h);else if(o.includes(d)){const y=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}y.push(Es(m))}e[d]=y}else if(a.includes(d)){const y={};for(const[m,x]of Object.entries(h))y[m]=Es(x);e[d]=y}else{if(d==="additionalProperties")continue;e[d]=h}return e}function Oc(n){return Es(n)}function Hc(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function qc(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function ks(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Es(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Es(e.response));return n}function Rs(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const s of n)e.push(s);return e}function US(n,e,s,o=1){const a=!e.startsWith(`${s}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${s}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:a?`projects/${n.getProject()}/locations/${n.getLocation()}/${s}/${e}`:e:a?`${s}/${e}`:e}function wn(n,e){if(typeof e!="string")throw new Error("name must be a string");return US(n,e,"cachedContents")}function C0(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function ti(n){return Uc(n)}function LS(n){return n!=null&&typeof n=="object"&&"name"in n}function PS(n){return n!=null&&typeof n=="object"&&"video"in n}function GS(n){return n!=null&&typeof n=="object"&&"uri"in n}function A0(n){var e;let s;if(LS(n)&&(s=n.name),!(GS(n)&&(s=n.uri,s===void 0))&&!(PS(n)&&(s=(e=n.video)===null||e===void 0?void 0:e.uri,s===void 0))){if(typeof n=="string"&&(s=n),s===void 0)throw new Error("Could not extract file name from the provided input.");if(s.startsWith("https://")){const a=s.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${s}`);s=a[0]}else s.startsWith("files/")&&(s=s.split("files/")[1]);return s}}function k0(n,e){let s;return n.isVertexAI()?s=e?"publishers/google/models":"models":s=e?"models":"tunedModels",s}function R0(n){for(const e of["models","tunedModels","publisherModels"])if(OS(n,e))return n[e];return[]}function OS(n,e){return n!==null&&typeof n=="object"&&e in n}function HS(n,e={}){const s=n,o={name:s.name,description:s.description,parametersJsonSchema:s.inputSchema};return s.outputSchema&&(o.responseJsonSchema=s.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function qS(n,e={}){const s=[],o=new Set;for(const a of n){const u=a.name;if(o.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);o.add(u);const d=HS(a,e);d.functionDeclarations&&s.push(...d.functionDeclarations)}return{functionDeclarations:s}}function M0(n,e){let s;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))s={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))s={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))s={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");s={inlinedRequests:e}}else s=e;const o=[s.gcsUri,s.bigqueryUri].filter(Boolean).length,a=[s.inlinedRequests,s.fileName].filter(Boolean).length;if(n.isVertexAI()){if(a>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return s}function VS(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function I0(n){if(typeof n!="object"||n===null)return{};const e=n,s=e.inlinedResponses;if(typeof s!="object"||s===null)return n;const a=s.inlinedResponses;if(!Array.isArray(a)||a.length===0)return n;let u=!1;for(const d of a){if(typeof d!="object"||d===null)continue;const y=d.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Ms(n,e){const s=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(s))return s.split("/").pop();throw new Error(`Invalid batch job name: ${s}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(s))return s.split("/").pop();if(/^\d+$/.test(s))return s;throw new Error(`Invalid batch job name: ${s}.`)}function D0(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BS(n){const e={},s=c(n,["responsesFile"]);s!=null&&f(e,["fileName"],s);const o=c(n,["inlinedResponses","inlinedResponses"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>ST(d))),f(e,["inlinedResponses"],u)}const a=c(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["inlinedEmbedContentResponses"],u)}return e}function zS(n){const e={},s=c(n,["predictionsFormat"]);s!=null&&f(e,["format"],s);const o=c(n,["gcsDestination","outputUriPrefix"]);o!=null&&f(e,["gcsUri"],o);const a=c(n,["bigqueryDestination","outputUri"]);return a!=null&&f(e,["bigqueryUri"],a),e}function jS(n){const e={},s=c(n,["format"]);s!=null&&f(e,["predictionsFormat"],s);const o=c(n,["gcsUri"]);o!=null&&f(e,["gcsDestination","outputUriPrefix"],o);const a=c(n,["bigqueryUri"]);if(a!=null&&f(e,["bigqueryDestination","outputUri"],a),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function da(n){const e={},s=c(n,["name"]);s!=null&&f(e,["name"],s);const o=c(n,["metadata","displayName"]);o!=null&&f(e,["displayName"],o);const a=c(n,["metadata","state"]);a!=null&&f(e,["state"],D0(a));const u=c(n,["metadata","createTime"]);u!=null&&f(e,["createTime"],u);const d=c(n,["metadata","endTime"]);d!=null&&f(e,["endTime"],d);const h=c(n,["metadata","updateTime"]);h!=null&&f(e,["updateTime"],h);const y=c(n,["metadata","model"]);y!=null&&f(e,["model"],y);const m=c(n,["metadata","output"]);return m!=null&&f(e,["dest"],BS(I0(m))),e}function gc(n){const e={},s=c(n,["name"]);s!=null&&f(e,["name"],s);const o=c(n,["displayName"]);o!=null&&f(e,["displayName"],o);const a=c(n,["state"]);a!=null&&f(e,["state"],D0(a));const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["createTime"]);d!=null&&f(e,["createTime"],d);const h=c(n,["startTime"]);h!=null&&f(e,["startTime"],h);const y=c(n,["endTime"]);y!=null&&f(e,["endTime"],y);const m=c(n,["updateTime"]);m!=null&&f(e,["updateTime"],m);const x=c(n,["model"]);x!=null&&f(e,["model"],x);const _=c(n,["inputConfig"]);_!=null&&f(e,["src"],FS(_));const b=c(n,["outputConfig"]);b!=null&&f(e,["dest"],zS(I0(b)));const E=c(n,["completionStats"]);return E!=null&&f(e,["completionStats"],E),e}function FS(n){const e={},s=c(n,["instancesFormat"]);s!=null&&f(e,["format"],s);const o=c(n,["gcsSource","uris"]);o!=null&&f(e,["gcsUri"],o);const a=c(n,["bigquerySource","inputUri"]);return a!=null&&f(e,["bigqueryUri"],a),e}function $S(n,e){const s={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=c(e,["fileName"]);o!=null&&f(s,["fileName"],o);const a=c(e,["inlinedRequests"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>bT(n,d))),f(s,["requests","requests"],u)}return s}function JS(n){const e={},s=c(n,["format"]);s!=null&&f(e,["instancesFormat"],s);const o=c(n,["gcsUri"]);o!=null&&f(e,["gcsSource","uris"],o);const a=c(n,["bigqueryUri"]);if(a!=null&&f(e,["bigquerySource","inputUri"],a),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function YS(n){const e={},s=c(n,["data"]);if(s!=null&&f(e,["data"],s),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function KS(n,e){const s={},o=c(e,["name"]);return o!=null&&f(s,["_url","name"],Ms(n,o)),s}function XS(n,e){const s={},o=c(e,["name"]);return o!=null&&f(s,["_url","name"],Ms(n,o)),s}function QS(n){const e={},s=c(n,["content"]);s!=null&&f(e,["content"],s);const o=c(n,["citationMetadata"]);o!=null&&f(e,["citationMetadata"],ZS(o));const a=c(n,["tokenCount"]);a!=null&&f(e,["tokenCount"],a);const u=c(n,["finishReason"]);u!=null&&f(e,["finishReason"],u);const d=c(n,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const h=c(n,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const y=c(n,["index"]);y!=null&&f(e,["index"],y);const m=c(n,["logprobsResult"]);m!=null&&f(e,["logprobsResult"],m);const x=c(n,["safetyRatings"]);if(x!=null){let b=x;Array.isArray(b)&&(b=b.map(E=>E)),f(e,["safetyRatings"],b)}const _=c(n,["urlContextMetadata"]);return _!=null&&f(e,["urlContextMetadata"],_),e}function ZS(n){const e={},s=c(n,["citationSources"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>a)),f(e,["citations"],o)}return e}function U0(n){const e={},s=c(n,["parts"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>kT(u))),f(e,["parts"],a)}const o=c(n,["role"]);return o!=null&&f(e,["role"],o),e}function WS(n,e){const s={},o=c(n,["displayName"]);if(e!==void 0&&o!=null&&f(e,["batch","displayName"],o),c(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return s}function eT(n,e){const s={},o=c(n,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);const a=c(n,["dest"]);return e!==void 0&&a!=null&&f(e,["outputConfig"],jS(VS(a))),s}function bg(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["_url","model"],Re(n,o));const a=c(e,["src"]);a!=null&&f(s,["batch","inputConfig"],$S(n,M0(n,a)));const u=c(e,["config"]);return u!=null&&WS(u,s),s}function tT(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["model"],Re(n,o));const a=c(e,["src"]);a!=null&&f(s,["inputConfig"],JS(M0(n,a)));const u=c(e,["config"]);return u!=null&&eT(u,s),s}function nT(n,e){const s={},o=c(n,["displayName"]);return e!==void 0&&o!=null&&f(e,["batch","displayName"],o),s}function iT(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["_url","model"],Re(n,o));const a=c(e,["src"]);a!=null&&f(s,["batch","inputConfig"],cT(n,a));const u=c(e,["config"]);return u!=null&&nT(u,s),s}function sT(n,e){const s={},o=c(e,["name"]);return o!=null&&f(s,["_url","name"],Ms(n,o)),s}function oT(n,e){const s={},o=c(e,["name"]);return o!=null&&f(s,["_url","name"],Ms(n,o)),s}function lT(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["name"]);o!=null&&f(e,["name"],o);const a=c(n,["done"]);a!=null&&f(e,["done"],a);const u=c(n,["error"]);return u!=null&&f(e,["error"],u),e}function aT(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["name"]);o!=null&&f(e,["name"],o);const a=c(n,["done"]);a!=null&&f(e,["done"],a);const u=c(n,["error"]);return u!=null&&f(e,["error"],u),e}function rT(n,e){const s={},o=c(e,["contents"]);if(o!=null){let u=Gc(n,o);Array.isArray(u)&&(u=u.map(d=>d)),f(s,["requests[]","request","content"],u)}const a=c(e,["config"]);return a!=null&&(f(s,["_self"],uT(a,s)),oS(s,{"requests[].*":"requests[].request.*"})),s}function uT(n,e){const s={},o=c(n,["taskType"]);e!==void 0&&o!=null&&f(e,["requests[]","taskType"],o);const a=c(n,["title"]);e!==void 0&&a!=null&&f(e,["requests[]","title"],a);const u=c(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&f(e,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function cT(n,e){const s={},o=c(e,["fileName"]);o!=null&&f(s,["file_name"],o);const a=c(e,["inlinedRequests"]);return a!=null&&f(s,["requests"],rT(n,a)),s}function dT(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["fileUri"]);s!=null&&f(e,["fileUri"],s);const o=c(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function fT(n){const e={},s=c(n,["id"]);s!=null&&f(e,["id"],s);const o=c(n,["args"]);o!=null&&f(e,["args"],o);const a=c(n,["name"]);if(a!=null&&f(e,["name"],a),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hT(n){const e={},s=c(n,["allowedFunctionNames"]);s!=null&&f(e,["allowedFunctionNames"],s);const o=c(n,["mode"]);if(o!=null&&f(e,["mode"],o),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function pT(n,e,s){const o={},a=c(e,["systemInstruction"]);s!==void 0&&a!=null&&f(s,["systemInstruction"],U0(ct(a)));const u=c(e,["temperature"]);u!=null&&f(o,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(o,["topP"],d);const h=c(e,["topK"]);h!=null&&f(o,["topK"],h);const y=c(e,["candidateCount"]);y!=null&&f(o,["candidateCount"],y);const m=c(e,["maxOutputTokens"]);m!=null&&f(o,["maxOutputTokens"],m);const x=c(e,["stopSequences"]);x!=null&&f(o,["stopSequences"],x);const _=c(e,["responseLogprobs"]);_!=null&&f(o,["responseLogprobs"],_);const b=c(e,["logprobs"]);b!=null&&f(o,["logprobs"],b);const E=c(e,["presencePenalty"]);E!=null&&f(o,["presencePenalty"],E);const M=c(e,["frequencyPenalty"]);M!=null&&f(o,["frequencyPenalty"],M);const R=c(e,["seed"]);R!=null&&f(o,["seed"],R);const A=c(e,["responseMimeType"]);A!=null&&f(o,["responseMimeType"],A);const V=c(e,["responseSchema"]);V!=null&&f(o,["responseSchema"],Oc(V));const Y=c(e,["responseJsonSchema"]);if(Y!=null&&f(o,["responseJsonSchema"],Y),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=c(e,["safetySettings"]);if(s!==void 0&&B!=null){let ie=B;Array.isArray(ie)&&(ie=ie.map(Ge=>RT(Ge))),f(s,["safetySettings"],ie)}const P=c(e,["tools"]);if(s!==void 0&&P!=null){let ie=Rs(P);Array.isArray(ie)&&(ie=ie.map(Ge=>IT(ks(Ge)))),f(s,["tools"],ie)}const Z=c(e,["toolConfig"]);if(s!==void 0&&Z!=null&&f(s,["toolConfig"],MT(Z)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=c(e,["cachedContent"]);s!==void 0&&Q!=null&&f(s,["cachedContent"],wn(n,Q));const w=c(e,["responseModalities"]);w!=null&&f(o,["responseModalities"],w);const G=c(e,["mediaResolution"]);G!=null&&f(o,["mediaResolution"],G);const k=c(e,["speechConfig"]);if(k!=null&&f(o,["speechConfig"],Hc(k)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const X=c(e,["thinkingConfig"]);X!=null&&f(o,["thinkingConfig"],X);const ne=c(e,["imageConfig"]);ne!=null&&f(o,["imageConfig"],_T(ne));const ue=c(e,["enableEnhancedCivicAnswers"]);return ue!=null&&f(o,["enableEnhancedCivicAnswers"],ue),o}function mT(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["candidates"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(m=>QS(m))),f(e,["candidates"],y)}const a=c(n,["modelVersion"]);a!=null&&f(e,["modelVersion"],a);const u=c(n,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const d=c(n,["responseId"]);d!=null&&f(e,["responseId"],d);const h=c(n,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function gT(n,e){const s={},o=c(e,["name"]);return o!=null&&f(s,["_url","name"],Ms(n,o)),s}function yT(n,e){const s={},o=c(e,["name"]);return o!=null&&f(s,["_url","name"],Ms(n,o)),s}function vT(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=c(n,["enableWidget"]);return s!=null&&f(e,["enableWidget"],s),e}function xT(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=c(n,["timeRangeFilter"]);return s!=null&&f(e,["timeRangeFilter"],s),e}function _T(n){const e={},s=c(n,["aspectRatio"]);s!=null&&f(e,["aspectRatio"],s);const o=c(n,["imageSize"]);if(o!=null&&f(e,["imageSize"],o),c(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function bT(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["request","model"],Re(n,o));const a=c(e,["contents"]);if(a!=null){let h=jt(a);Array.isArray(h)&&(h=h.map(y=>U0(y))),f(s,["request","contents"],h)}const u=c(e,["metadata"]);u!=null&&f(s,["metadata"],u);const d=c(e,["config"]);return d!=null&&f(s,["request","generationConfig"],pT(n,d,c(s,["request"],{}))),s}function ST(n){const e={},s=c(n,["response"]);s!=null&&f(e,["response"],mT(s));const o=c(n,["error"]);return o!=null&&f(e,["error"],o),e}function TT(n,e){const s={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const a=c(n,["pageToken"]);if(e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),c(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return s}function ET(n,e){const s={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const a=c(n,["pageToken"]);e!==void 0&&a!=null&&f(e,["_query","pageToken"],a);const u=c(n,["filter"]);return e!==void 0&&u!=null&&f(e,["_query","filter"],u),s}function wT(n){const e={},s=c(n,["config"]);return s!=null&&TT(s,e),e}function NT(n){const e={},s=c(n,["config"]);return s!=null&&ET(s,e),e}function CT(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=c(n,["operations"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>da(d))),f(e,["batchJobs"],u)}return e}function AT(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=c(n,["batchPredictionJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>gc(d))),f(e,["batchJobs"],u)}return e}function kT(n){const e={},s=c(n,["mediaResolution"]);s!=null&&f(e,["mediaResolution"],s);const o=c(n,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const a=c(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],dT(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],fT(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],YS(y));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const x=c(n,["thought"]);x!=null&&f(e,["thought"],x);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const b=c(n,["videoMetadata"]);return b!=null&&f(e,["videoMetadata"],b),e}function RT(n){const e={},s=c(n,["category"]);if(s!=null&&f(e,["category"],s),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=c(n,["threshold"]);return o!=null&&f(e,["threshold"],o),e}function MT(n){const e={},s=c(n,["retrievalConfig"]);s!=null&&f(e,["retrievalConfig"],s);const o=c(n,["functionCallingConfig"]);return o!=null&&f(e,["functionCallingConfig"],hT(o)),e}function IT(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["computerUse"]);s!=null&&f(e,["computerUse"],s);const o=c(n,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const a=c(n,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(_=>_)),f(e,["functionDeclarations"],x)}const d=c(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],vT(d));const h=c(n,["googleSearch"]);h!=null&&f(e,["googleSearch"],xT(h));const y=c(n,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Tn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Tn||(Tn={}));class Ai{constructor(e,s,o,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=s,this.init(e,o,a)}init(e,s,o){var a,u;this.nameInternal=e,this.pageInternal=s[this.nameInternal]||[],this.sdkHttpResponseInternal=s==null?void 0:s.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!o||Object.keys(o).length===0?d={config:{}}:typeof o=="object"?d=Object.assign({},o):d=o,d.config&&(d.config.pageToken=s.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(u=(a=d.config)===null||a===void 0?void 0:a.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DT extends En{constructor(e){super(),this.apiClient=e,this.list=async(s={})=>new Ai(Tn.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(s),s),this.create=async s=>(this.apiClient.isVertexAI()&&(s.config=this.formatDestination(s.src,s.config)),this.createInternal(s)),this.createEmbeddings=async s=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(s)}}createInlinedGenerateContentRequest(e){const s=bg(this.apiClient,e),o=s._url,a=te("{model}:batchGenerateContent",o),h=s.batch.inputConfig.requests,y=h.requests,m=[];for(const x of y){const _=Object.assign({},x);if(_.systemInstruction){const b=_.systemInstruction;delete _.systemInstruction;const E=_.request;E.systemInstruction=b,_.request=E}m.push(_)}return h.requests=m,delete s.config,delete s._url,delete s._query,{path:a,body:s}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,s){const o=s?Object.assign({},s):{},a=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${a}`),o.dest===void 0){const u=this.getGcsUri(e),d=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?o.dest=`${u.slice(0,-6)}/dest`:o.dest=`${u}_dest_${a}`;else if(d)o.dest=`${d}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var s,o,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=tT(this.apiClient,e);return h=te("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),d.then(x=>gc(x))}else{const m=bg(this.apiClient,e);return h=te("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),d.then(x=>da(x))}}async createEmbeddingsInternal(e){var s,o;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=iT(this.apiClient,e);return u=te("{model}:asyncBatchEmbedContent",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>da(y))}}async get(e){var s,o,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=yT(this.apiClient,e);return h=te("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),d.then(x=>gc(x))}else{const m=gT(this.apiClient,e);return h=te("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),d.then(x=>da(x))}}async cancel(e){var s,o,a,u;let d="",h={};if(this.apiClient.isVertexAI()){const y=XS(this.apiClient,e);d=te("batchPredictionJobs/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const y=KS(this.apiClient,e);d=te("batches/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var s,o,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=NT(e);return h=te("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const _=AT(x),b=new yg;return Object.assign(b,_),b})}else{const m=wT(e);return h=te("batches",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const _=CT(x),b=new yg;return Object.assign(b,_),b})}}async delete(e){var s,o,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=oT(this.apiClient,e);return h=te("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>aT(x))}else{const m=sT(this.apiClient,e);return h=te("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>lT(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UT(n){const e={},s=c(n,["data"]);if(s!=null&&f(e,["data"],s),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function Sg(n){const e={},s=c(n,["parts"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>iE(u))),f(e,["parts"],a)}const o=c(n,["role"]);return o!=null&&f(e,["role"],o),e}function LT(n,e){const s={},o=c(n,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const a=c(n,["expireTime"]);e!==void 0&&a!=null&&f(e,["expireTime"],a);const u=c(n,["displayName"]);e!==void 0&&u!=null&&f(e,["displayName"],u);const d=c(n,["contents"]);if(e!==void 0&&d!=null){let x=jt(d);Array.isArray(x)&&(x=x.map(_=>Sg(_))),f(e,["contents"],x)}const h=c(n,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],Sg(ct(h)));const y=c(n,["tools"]);if(e!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(_=>oE(_))),f(e,["tools"],x)}const m=c(n,["toolConfig"]);if(e!==void 0&&m!=null&&f(e,["toolConfig"],sE(m)),c(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return s}function PT(n,e){const s={},o=c(n,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const a=c(n,["expireTime"]);e!==void 0&&a!=null&&f(e,["expireTime"],a);const u=c(n,["displayName"]);e!==void 0&&u!=null&&f(e,["displayName"],u);const d=c(n,["contents"]);if(e!==void 0&&d!=null){let _=jt(d);Array.isArray(_)&&(_=_.map(b=>b)),f(e,["contents"],_)}const h=c(n,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],ct(h));const y=c(n,["tools"]);if(e!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(b=>lE(b))),f(e,["tools"],_)}const m=c(n,["toolConfig"]);e!==void 0&&m!=null&&f(e,["toolConfig"],m);const x=c(n,["kmsKeyName"]);return e!==void 0&&x!=null&&f(e,["encryption_spec","kmsKeyName"],x),s}function GT(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["model"],S0(n,o));const a=c(e,["config"]);return a!=null&&LT(a,s),s}function OT(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["model"],S0(n,o));const a=c(e,["config"]);return a!=null&&PT(a,s),s}function HT(n,e){const s={},o=c(e,["name"]);return o!=null&&f(s,["_url","name"],wn(n,o)),s}function qT(n,e){const s={},o=c(e,["name"]);return o!=null&&f(s,["_url","name"],wn(n,o)),s}function VT(n){const e={},s=c(n,["sdkHttpResponse"]);return s!=null&&f(e,["sdkHttpResponse"],s),e}function BT(n){const e={},s=c(n,["sdkHttpResponse"]);return s!=null&&f(e,["sdkHttpResponse"],s),e}function zT(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["fileUri"]);s!=null&&f(e,["fileUri"],s);const o=c(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function jT(n){const e={},s=c(n,["id"]);s!=null&&f(e,["id"],s);const o=c(n,["args"]);o!=null&&f(e,["args"],o);const a=c(n,["name"]);if(a!=null&&f(e,["name"],a),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function FT(n){const e={},s=c(n,["allowedFunctionNames"]);s!=null&&f(e,["allowedFunctionNames"],s);const o=c(n,["mode"]);if(o!=null&&f(e,["mode"],o),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function $T(n){const e={},s=c(n,["description"]);s!=null&&f(e,["description"],s);const o=c(n,["name"]);o!=null&&f(e,["name"],o);const a=c(n,["parameters"]);a!=null&&f(e,["parameters"],a);const u=c(n,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(n,["response"]);d!=null&&f(e,["response"],d);const h=c(n,["responseJsonSchema"]);if(h!=null&&f(e,["responseJsonSchema"],h),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function JT(n,e){const s={},o=c(e,["name"]);return o!=null&&f(s,["_url","name"],wn(n,o)),s}function YT(n,e){const s={},o=c(e,["name"]);return o!=null&&f(s,["_url","name"],wn(n,o)),s}function KT(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=c(n,["enableWidget"]);return s!=null&&f(e,["enableWidget"],s),e}function XT(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=c(n,["timeRangeFilter"]);return s!=null&&f(e,["timeRangeFilter"],s),e}function QT(n,e){const s={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const a=c(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),s}function ZT(n,e){const s={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const a=c(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),s}function WT(n){const e={},s=c(n,["config"]);return s!=null&&QT(s,e),e}function eE(n){const e={},s=c(n,["config"]);return s!=null&&ZT(s,e),e}function tE(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=c(n,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["cachedContents"],u)}return e}function nE(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=c(n,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["cachedContents"],u)}return e}function iE(n){const e={},s=c(n,["mediaResolution"]);s!=null&&f(e,["mediaResolution"],s);const o=c(n,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const a=c(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],zT(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],jT(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],UT(y));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const x=c(n,["thought"]);x!=null&&f(e,["thought"],x);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const b=c(n,["videoMetadata"]);return b!=null&&f(e,["videoMetadata"],b),e}function sE(n){const e={},s=c(n,["retrievalConfig"]);s!=null&&f(e,["retrievalConfig"],s);const o=c(n,["functionCallingConfig"]);return o!=null&&f(e,["functionCallingConfig"],FT(o)),e}function oE(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["computerUse"]);s!=null&&f(e,["computerUse"],s);const o=c(n,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const a=c(n,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(_=>_)),f(e,["functionDeclarations"],x)}const d=c(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],KT(d));const h=c(n,["googleSearch"]);h!=null&&f(e,["googleSearch"],XT(h));const y=c(n,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function lE(n){const e={},s=c(n,["retrieval"]);s!=null&&f(e,["retrieval"],s);const o=c(n,["computerUse"]);if(o!=null&&f(e,["computerUse"],o),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=c(n,["codeExecution"]);a!=null&&f(e,["codeExecution"],a);const u=c(n,["enterpriseWebSearch"]);u!=null&&f(e,["enterpriseWebSearch"],u);const d=c(n,["functionDeclarations"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(b=>$T(b))),f(e,["functionDeclarations"],_)}const h=c(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],h);const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],y);const m=c(n,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const x=c(n,["urlContext"]);return x!=null&&f(e,["urlContext"],x),e}function aE(n,e){const s={},o=c(n,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const a=c(n,["expireTime"]);return e!==void 0&&a!=null&&f(e,["expireTime"],a),s}function rE(n,e){const s={},o=c(n,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const a=c(n,["expireTime"]);return e!==void 0&&a!=null&&f(e,["expireTime"],a),s}function uE(n,e){const s={},o=c(e,["name"]);o!=null&&f(s,["_url","name"],wn(n,o));const a=c(e,["config"]);return a!=null&&aE(a,s),s}function cE(n,e){const s={},o=c(e,["name"]);o!=null&&f(s,["_url","name"],wn(n,o));const a=c(e,["config"]);return a!=null&&rE(a,s),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dE extends En{constructor(e){super(),this.apiClient=e,this.list=async(s={})=>new Ai(Tn.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(s),s)}async create(e){var s,o,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=OT(this.apiClient,e);return h=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),d.then(x=>x)}else{const m=GT(this.apiClient,e);return h=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),d.then(x=>x)}}async get(e){var s,o,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=YT(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),d.then(x=>x)}else{const m=JT(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),d.then(x=>x)}}async delete(e){var s,o,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=qT(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const _=BT(x),b=new mg;return Object.assign(b,_),b})}else{const m=HT(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const _=VT(x),b=new mg;return Object.assign(b,_),b})}}async update(e){var s,o,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=cE(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),d.then(x=>x)}else{const m=uE(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),d.then(x=>x)}}async listInternal(e){var s,o,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=eE(e);return h=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const _=nE(x),b=new gg;return Object.assign(b,_),b})}else{const m=WT(e);return h=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const _=tE(x),b=new gg;return Object.assign(b,_),b})}}}function ya(n,e){var s={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(s[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(n);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(n,o[a])&&(s[o[a]]=n[o[a]]);return s}function Tg(n){var e=typeof Symbol=="function"&&Symbol.iterator,s=e&&n[e],o=0;if(s)return s.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ge(n){return this instanceof ge?(this.v=n,this):new ge(n)}function Qt(n,e,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s.apply(n,e||[]),a,u=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),a[Symbol.asyncIterator]=function(){return this},a;function d(E){return function(M){return Promise.resolve(M).then(E,_)}}function h(E,M){o[E]&&(a[E]=function(R){return new Promise(function(A,V){u.push([E,R,A,V])>1||y(E,R)})},M&&(a[E]=M(a[E])))}function y(E,M){try{m(o[E](M))}catch(R){b(u[0][3],R)}}function m(E){E.value instanceof ge?Promise.resolve(E.value.v).then(x,_):b(u[0][2],E)}function x(E){y("next",E)}function _(E){y("throw",E)}function b(E,M){E(M),u.shift(),u.length&&y(u[0][0],u[0][1])}}function Zt(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],s;return e?e.call(n):(n=typeof Tg=="function"?Tg(n):n[Symbol.iterator](),s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s);function o(u){s[u]=n[u]&&function(d){return new Promise(function(h,y){d=n[u](d),a(h,y,d.done,d.value)})}}function a(u,d,h,y){Promise.resolve(y).then(function(m){u({value:m,done:h})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fE(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const s=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return s===void 0?!1:L0(s)}function L0(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function hE(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Eg(n){if(n===void 0||n.length===0)return[];const e=[],s=n.length;let o=0;for(;o<s;)if(n[o].role==="user")e.push(n[o]),o++;else{const a=[];let u=!0;for(;o<s&&n[o].role==="model";)a.push(n[o]),u&&!L0(n[o])&&(u=!1),o++;u?e.push(...a):e.pop()}return e}class pE{constructor(e,s){this.modelsModule=e,this.apiClient=s}create(e){return new mE(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class mE{constructor(e,s,o,a={},u=[]){this.apiClient=e,this.modelsModule=s,this.model=o,this.config=a,this.history=u,this.sendPromise=Promise.resolve(),hE(u)}async sendMessage(e){var s;await this.sendPromise;const o=ct(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(s=e.config)!==null&&s!==void 0?s:this.config});return this.sendPromise=(async()=>{var u,d,h;const y=await a,m=(d=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content,x=y.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let b=[];x!=null&&(b=(h=x.slice(_))!==null&&h!==void 0?h:[]);const E=m?[m]:[];this.recordHistory(o,E,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var s;await this.sendPromise;const o=ct(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(s=e.config)!==null&&s!==void 0?s:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const u=await a;return this.processStreamResponse(u,o)}getHistory(e=!1){const s=e?Eg(this.history):this.history;return structuredClone(s)}processStreamResponse(e,s){return Qt(this,arguments,function*(){var a,u,d,h,y,m;const x=[];try{for(var _=!0,b=Zt(e),E;E=yield ge(b.next()),a=E.done,!a;_=!0){h=E.value,_=!1;const M=h;if(fE(M)){const R=(m=(y=M.candidates)===null||y===void 0?void 0:y[0])===null||m===void 0?void 0:m.content;R!==void 0&&x.push(R)}yield yield ge(M)}}catch(M){u={error:M}}finally{try{!_&&!a&&(d=b.return)&&(yield ge(d.call(b)))}finally{if(u)throw u.error}}this.recordHistory(s,x)})}recordHistory(e,s,o){let a=[];s.length>0&&s.every(u=>u.role!==void 0)?a=s:a.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Eg(o)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ta extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ta.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gE(n){const e={},s=c(n,["file"]);return s!=null&&f(e,["file"],s),e}function yE(n){const e={},s=c(n,["sdkHttpResponse"]);return s!=null&&f(e,["sdkHttpResponse"],s),e}function vE(n){const e={},s=c(n,["name"]);return s!=null&&f(e,["_url","file"],A0(s)),e}function xE(n){const e={},s=c(n,["sdkHttpResponse"]);return s!=null&&f(e,["sdkHttpResponse"],s),e}function _E(n){const e={},s=c(n,["name"]);return s!=null&&f(e,["_url","file"],A0(s)),e}function bE(n,e){const s={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const a=c(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),s}function SE(n){const e={},s=c(n,["config"]);return s!=null&&bE(s,e),e}function TE(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=c(n,["files"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["files"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EE extends En{constructor(e){super(),this.apiClient=e,this.list=async(s={})=>new Ai(Tn.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(s),s)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(s=>s)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var s,o;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=SE(e);return u=te("files",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:y.headers},x})),a.then(y=>{const m=TE(y),x=new AS;return Object.assign(x,m),x})}}async createInternal(e){var s,o;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=gE(e);return u=te("upload/v1beta/files",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>{const m=yE(y),x=new kS;return Object.assign(x,m),x})}}async get(e){var s,o;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=_E(e);return u=te("files/{file}",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var s,o;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=vE(e);return u=te("files/{file}",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:y.headers},x})),a.then(y=>{const m=xE(y),x=new RS;return Object.assign(x,m),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fa(n){const e={},s=c(n,["data"]);if(s!=null&&f(e,["data"],s),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function wE(n){const e={},s=c(n,["parts"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>VE(u))),f(e,["parts"],a)}const o=c(n,["role"]);return o!=null&&f(e,["role"],o),e}function NE(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["fileUri"]);s!=null&&f(e,["fileUri"],s);const o=c(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function CE(n){const e={},s=c(n,["id"]);s!=null&&f(e,["id"],s);const o=c(n,["args"]);o!=null&&f(e,["args"],o);const a=c(n,["name"]);if(a!=null&&f(e,["name"],a),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function AE(n){const e={},s=c(n,["description"]);s!=null&&f(e,["description"],s);const o=c(n,["name"]);o!=null&&f(e,["name"],o);const a=c(n,["parameters"]);a!=null&&f(e,["parameters"],a);const u=c(n,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(n,["response"]);d!=null&&f(e,["response"],d);const h=c(n,["responseJsonSchema"]);if(h!=null&&f(e,["responseJsonSchema"],h),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function kE(n){const e={},s=c(n,["modelSelectionConfig"]);s!=null&&f(e,["modelConfig"],s);const o=c(n,["responseJsonSchema"]);o!=null&&f(e,["responseJsonSchema"],o);const a=c(n,["audioTimestamp"]);a!=null&&f(e,["audioTimestamp"],a);const u=c(n,["candidateCount"]);u!=null&&f(e,["candidateCount"],u);const d=c(n,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const h=c(n,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const y=c(n,["logprobs"]);y!=null&&f(e,["logprobs"],y);const m=c(n,["maxOutputTokens"]);m!=null&&f(e,["maxOutputTokens"],m);const x=c(n,["mediaResolution"]);x!=null&&f(e,["mediaResolution"],x);const _=c(n,["presencePenalty"]);_!=null&&f(e,["presencePenalty"],_);const b=c(n,["responseLogprobs"]);b!=null&&f(e,["responseLogprobs"],b);const E=c(n,["responseMimeType"]);E!=null&&f(e,["responseMimeType"],E);const M=c(n,["responseModalities"]);M!=null&&f(e,["responseModalities"],M);const R=c(n,["responseSchema"]);R!=null&&f(e,["responseSchema"],R);const A=c(n,["routingConfig"]);A!=null&&f(e,["routingConfig"],A);const V=c(n,["seed"]);V!=null&&f(e,["seed"],V);const Y=c(n,["speechConfig"]);Y!=null&&f(e,["speechConfig"],Y);const B=c(n,["stopSequences"]);B!=null&&f(e,["stopSequences"],B);const P=c(n,["temperature"]);P!=null&&f(e,["temperature"],P);const Z=c(n,["thinkingConfig"]);Z!=null&&f(e,["thinkingConfig"],Z);const Q=c(n,["topK"]);Q!=null&&f(e,["topK"],Q);const w=c(n,["topP"]);if(w!=null&&f(e,["topP"],w),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function RE(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=c(n,["enableWidget"]);return s!=null&&f(e,["enableWidget"],s),e}function ME(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=c(n,["timeRangeFilter"]);return s!=null&&f(e,["timeRangeFilter"],s),e}function IE(n,e){const s={},o=c(n,["generationConfig"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig"],o);const a=c(n,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const u=c(n,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const x=c(n,["seed"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","seed"],x);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],qc(_));const b=c(n,["thinkingConfig"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","thinkingConfig"],b);const E=c(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],E);const M=c(n,["systemInstruction"]);e!==void 0&&M!=null&&f(e,["setup","systemInstruction"],wE(ct(M)));const R=c(n,["tools"]);if(e!==void 0&&R!=null){let Q=Rs(R);Array.isArray(Q)&&(Q=Q.map(w=>zE(ks(w)))),f(e,["setup","tools"],Q)}const A=c(n,["sessionResumption"]);e!==void 0&&A!=null&&f(e,["setup","sessionResumption"],BE(A));const V=c(n,["inputAudioTranscription"]);e!==void 0&&V!=null&&f(e,["setup","inputAudioTranscription"],V);const Y=c(n,["outputAudioTranscription"]);e!==void 0&&Y!=null&&f(e,["setup","outputAudioTranscription"],Y);const B=c(n,["realtimeInputConfig"]);e!==void 0&&B!=null&&f(e,["setup","realtimeInputConfig"],B);const P=c(n,["contextWindowCompression"]);e!==void 0&&P!=null&&f(e,["setup","contextWindowCompression"],P);const Z=c(n,["proactivity"]);if(e!==void 0&&Z!=null&&f(e,["setup","proactivity"],Z),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return s}function DE(n,e){const s={},o=c(n,["generationConfig"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig"],kE(o));const a=c(n,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const u=c(n,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const x=c(n,["seed"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","seed"],x);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],qc(_));const b=c(n,["thinkingConfig"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","thinkingConfig"],b);const E=c(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],E);const M=c(n,["systemInstruction"]);e!==void 0&&M!=null&&f(e,["setup","systemInstruction"],ct(M));const R=c(n,["tools"]);if(e!==void 0&&R!=null){let w=Rs(R);Array.isArray(w)&&(w=w.map(G=>jE(ks(G)))),f(e,["setup","tools"],w)}const A=c(n,["sessionResumption"]);e!==void 0&&A!=null&&f(e,["setup","sessionResumption"],A);const V=c(n,["inputAudioTranscription"]);e!==void 0&&V!=null&&f(e,["setup","inputAudioTranscription"],V);const Y=c(n,["outputAudioTranscription"]);e!==void 0&&Y!=null&&f(e,["setup","outputAudioTranscription"],Y);const B=c(n,["realtimeInputConfig"]);e!==void 0&&B!=null&&f(e,["setup","realtimeInputConfig"],B);const P=c(n,["contextWindowCompression"]);e!==void 0&&P!=null&&f(e,["setup","contextWindowCompression"],P);const Z=c(n,["proactivity"]);e!==void 0&&Z!=null&&f(e,["setup","proactivity"],Z);const Q=c(n,["explicitVadSignal"]);return e!==void 0&&Q!=null&&f(e,["setup","explicitVadSignal"],Q),s}function UE(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["setup","model"],Re(n,o));const a=c(e,["config"]);return a!=null&&f(s,["config"],IE(a,s)),s}function LE(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["setup","model"],Re(n,o));const a=c(e,["config"]);return a!=null&&f(s,["config"],DE(a,s)),s}function PE(n){const e={},s=c(n,["musicGenerationConfig"]);return s!=null&&f(e,["musicGenerationConfig"],s),e}function GE(n){const e={},s=c(n,["weightedPrompts"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>a)),f(e,["weightedPrompts"],o)}return e}function OE(n){const e={},s=c(n,["media"]);if(s!=null){let m=T0(s);Array.isArray(m)&&(m=m.map(x=>fa(x))),f(e,["mediaChunks"],m)}const o=c(n,["audio"]);o!=null&&f(e,["audio"],fa(w0(o)));const a=c(n,["audioStreamEnd"]);a!=null&&f(e,["audioStreamEnd"],a);const u=c(n,["video"]);u!=null&&f(e,["video"],fa(E0(u)));const d=c(n,["text"]);d!=null&&f(e,["text"],d);const h=c(n,["activityStart"]);h!=null&&f(e,["activityStart"],h);const y=c(n,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function HE(n){const e={},s=c(n,["media"]);if(s!=null){let m=T0(s);Array.isArray(m)&&(m=m.map(x=>x)),f(e,["mediaChunks"],m)}const o=c(n,["audio"]);o!=null&&f(e,["audio"],w0(o));const a=c(n,["audioStreamEnd"]);a!=null&&f(e,["audioStreamEnd"],a);const u=c(n,["video"]);u!=null&&f(e,["video"],E0(u));const d=c(n,["text"]);d!=null&&f(e,["text"],d);const h=c(n,["activityStart"]);h!=null&&f(e,["activityStart"],h);const y=c(n,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function qE(n){const e={},s=c(n,["setupComplete"]);s!=null&&f(e,["setupComplete"],s);const o=c(n,["serverContent"]);o!=null&&f(e,["serverContent"],o);const a=c(n,["toolCall"]);a!=null&&f(e,["toolCall"],a);const u=c(n,["toolCallCancellation"]);u!=null&&f(e,["toolCallCancellation"],u);const d=c(n,["usageMetadata"]);d!=null&&f(e,["usageMetadata"],FE(d));const h=c(n,["goAway"]);h!=null&&f(e,["goAway"],h);const y=c(n,["sessionResumptionUpdate"]);y!=null&&f(e,["sessionResumptionUpdate"],y);const m=c(n,["voiceActivityDetectionSignal"]);return m!=null&&f(e,["voiceActivityDetectionSignal"],m),e}function VE(n){const e={},s=c(n,["mediaResolution"]);s!=null&&f(e,["mediaResolution"],s);const o=c(n,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const a=c(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],NE(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],CE(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],fa(y));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const x=c(n,["thought"]);x!=null&&f(e,["thought"],x);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const b=c(n,["videoMetadata"]);return b!=null&&f(e,["videoMetadata"],b),e}function BE(n){const e={},s=c(n,["handle"]);if(s!=null&&f(e,["handle"],s),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function zE(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["computerUse"]);s!=null&&f(e,["computerUse"],s);const o=c(n,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const a=c(n,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(_=>_)),f(e,["functionDeclarations"],x)}const d=c(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],RE(d));const h=c(n,["googleSearch"]);h!=null&&f(e,["googleSearch"],ME(h));const y=c(n,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function jE(n){const e={},s=c(n,["retrieval"]);s!=null&&f(e,["retrieval"],s);const o=c(n,["computerUse"]);if(o!=null&&f(e,["computerUse"],o),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=c(n,["codeExecution"]);a!=null&&f(e,["codeExecution"],a);const u=c(n,["enterpriseWebSearch"]);u!=null&&f(e,["enterpriseWebSearch"],u);const d=c(n,["functionDeclarations"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(b=>AE(b))),f(e,["functionDeclarations"],_)}const h=c(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],h);const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],y);const m=c(n,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const x=c(n,["urlContext"]);return x!=null&&f(e,["urlContext"],x),e}function FE(n){const e={},s=c(n,["promptTokenCount"]);s!=null&&f(e,["promptTokenCount"],s);const o=c(n,["cachedContentTokenCount"]);o!=null&&f(e,["cachedContentTokenCount"],o);const a=c(n,["candidatesTokenCount"]);a!=null&&f(e,["responseTokenCount"],a);const u=c(n,["toolUsePromptTokenCount"]);u!=null&&f(e,["toolUsePromptTokenCount"],u);const d=c(n,["thoughtsTokenCount"]);d!=null&&f(e,["thoughtsTokenCount"],d);const h=c(n,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const y=c(n,["promptTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(M=>M)),f(e,["promptTokensDetails"],E)}const m=c(n,["cacheTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(M=>M)),f(e,["cacheTokensDetails"],E)}const x=c(n,["candidatesTokensDetails"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(M=>M)),f(e,["responseTokensDetails"],E)}const _=c(n,["toolUsePromptTokensDetails"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(M=>M)),f(e,["toolUsePromptTokensDetails"],E)}const b=c(n,["trafficType"]);return b!=null&&f(e,["trafficType"],b),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $E(n){const e={},s=c(n,["data"]);if(s!=null&&f(e,["data"],s),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function JE(n){const e={},s=c(n,["content"]);s!=null&&f(e,["content"],s);const o=c(n,["citationMetadata"]);o!=null&&f(e,["citationMetadata"],YE(o));const a=c(n,["tokenCount"]);a!=null&&f(e,["tokenCount"],a);const u=c(n,["finishReason"]);u!=null&&f(e,["finishReason"],u);const d=c(n,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const h=c(n,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const y=c(n,["index"]);y!=null&&f(e,["index"],y);const m=c(n,["logprobsResult"]);m!=null&&f(e,["logprobsResult"],m);const x=c(n,["safetyRatings"]);if(x!=null){let b=x;Array.isArray(b)&&(b=b.map(E=>E)),f(e,["safetyRatings"],b)}const _=c(n,["urlContextMetadata"]);return _!=null&&f(e,["urlContextMetadata"],_),e}function YE(n){const e={},s=c(n,["citationSources"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>a)),f(e,["citations"],o)}return e}function KE(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["_url","model"],Re(n,o));const a=c(e,["contents"]);if(a!=null){let u=jt(a);Array.isArray(u)&&(u=u.map(d=>d)),f(s,["contents"],u)}return s}function XE(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["tokensInfo"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),f(e,["tokensInfo"],a)}return e}function QE(n){const e={},s=c(n,["values"]);s!=null&&f(e,["values"],s);const o=c(n,["statistics"]);return o!=null&&f(e,["statistics"],ZE(o)),e}function ZE(n){const e={},s=c(n,["truncated"]);s!=null&&f(e,["truncated"],s);const o=c(n,["token_count"]);return o!=null&&f(e,["tokenCount"],o),e}function Ea(n){const e={},s=c(n,["parts"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>a1(u))),f(e,["parts"],a)}const o=c(n,["role"]);return o!=null&&f(e,["role"],o),e}function WE(n){const e={},s=c(n,["controlType"]);s!=null&&f(e,["controlType"],s);const o=c(n,["enableControlImageComputation"]);return o!=null&&f(e,["computeControl"],o),e}function ew(n){const e={};if(c(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function tw(n,e){const s={},o=c(n,["systemInstruction"]);e!==void 0&&o!=null&&f(e,["systemInstruction"],ct(o));const a=c(n,["tools"]);if(e!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>H0(h))),f(e,["tools"],d)}const u=c(n,["generationConfig"]);return e!==void 0&&u!=null&&f(e,["generationConfig"],$w(u)),s}function nw(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["_url","model"],Re(n,o));const a=c(e,["contents"]);if(a!=null){let d=jt(a);Array.isArray(d)&&(d=d.map(h=>Ea(h))),f(s,["contents"],d)}const u=c(e,["config"]);return u!=null&&ew(u),s}function iw(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["_url","model"],Re(n,o));const a=c(e,["contents"]);if(a!=null){let d=jt(a);Array.isArray(d)&&(d=d.map(h=>h)),f(s,["contents"],d)}const u=c(e,["config"]);return u!=null&&tw(u,s),s}function sw(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["totalTokens"]);o!=null&&f(e,["totalTokens"],o);const a=c(n,["cachedContentTokenCount"]);return a!=null&&f(e,["cachedContentTokenCount"],a),e}function ow(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["totalTokens"]);return o!=null&&f(e,["totalTokens"],o),e}function lw(n,e){const s={},o=c(e,["model"]);return o!=null&&f(s,["_url","name"],Re(n,o)),s}function aw(n,e){const s={},o=c(e,["model"]);return o!=null&&f(s,["_url","name"],Re(n,o)),s}function rw(n){const e={},s=c(n,["sdkHttpResponse"]);return s!=null&&f(e,["sdkHttpResponse"],s),e}function uw(n){const e={},s=c(n,["sdkHttpResponse"]);return s!=null&&f(e,["sdkHttpResponse"],s),e}function cw(n,e){const s={},o=c(n,["outputGcsUri"]);e!==void 0&&o!=null&&f(e,["parameters","storageUri"],o);const a=c(n,["negativePrompt"]);e!==void 0&&a!=null&&f(e,["parameters","negativePrompt"],a);const u=c(n,["numberOfImages"]);e!==void 0&&u!=null&&f(e,["parameters","sampleCount"],u);const d=c(n,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const h=c(n,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const y=c(n,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const m=c(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const x=c(n,["personGeneration"]);e!==void 0&&x!=null&&f(e,["parameters","personGeneration"],x);const _=c(n,["includeSafetyAttributes"]);e!==void 0&&_!=null&&f(e,["parameters","includeSafetyAttributes"],_);const b=c(n,["includeRaiReason"]);e!==void 0&&b!=null&&f(e,["parameters","includeRaiReason"],b);const E=c(n,["language"]);e!==void 0&&E!=null&&f(e,["parameters","language"],E);const M=c(n,["outputMimeType"]);e!==void 0&&M!=null&&f(e,["parameters","outputOptions","mimeType"],M);const R=c(n,["outputCompressionQuality"]);e!==void 0&&R!=null&&f(e,["parameters","outputOptions","compressionQuality"],R);const A=c(n,["addWatermark"]);e!==void 0&&A!=null&&f(e,["parameters","addWatermark"],A);const V=c(n,["labels"]);e!==void 0&&V!=null&&f(e,["labels"],V);const Y=c(n,["editMode"]);e!==void 0&&Y!=null&&f(e,["parameters","editMode"],Y);const B=c(n,["baseSteps"]);return e!==void 0&&B!=null&&f(e,["parameters","editConfig","baseSteps"],B),s}function dw(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["_url","model"],Re(n,o));const a=c(e,["prompt"]);a!=null&&f(s,["instances[0]","prompt"],a);const u=c(e,["referenceImages"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>h1(y))),f(s,["instances[0]","referenceImages"],h)}const d=c(e,["config"]);return d!=null&&cw(d,s),s}function fw(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>wa(u))),f(e,["generatedImages"],a)}return e}function hw(n,e){const s={},o=c(n,["taskType"]);e!==void 0&&o!=null&&f(e,["requests[]","taskType"],o);const a=c(n,["title"]);e!==void 0&&a!=null&&f(e,["requests[]","title"],a);const u=c(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&f(e,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function pw(n,e){const s={},o=c(n,["taskType"]);e!==void 0&&o!=null&&f(e,["instances[]","task_type"],o);const a=c(n,["title"]);e!==void 0&&a!=null&&f(e,["instances[]","title"],a);const u=c(n,["outputDimensionality"]);e!==void 0&&u!=null&&f(e,["parameters","outputDimensionality"],u);const d=c(n,["mimeType"]);e!==void 0&&d!=null&&f(e,["instances[]","mimeType"],d);const h=c(n,["autoTruncate"]);return e!==void 0&&h!=null&&f(e,["parameters","autoTruncate"],h),s}function mw(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["_url","model"],Re(n,o));const a=c(e,["contents"]);if(a!=null){let h=Gc(n,a);Array.isArray(h)&&(h=h.map(y=>y)),f(s,["requests[]","content"],h)}const u=c(e,["config"]);u!=null&&hw(u,s);const d=c(e,["model"]);return d!==void 0&&f(s,["requests[]","model"],Re(n,d)),s}function gw(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["_url","model"],Re(n,o));const a=c(e,["contents"]);if(a!=null){let d=Gc(n,a);Array.isArray(d)&&(d=d.map(h=>h)),f(s,["instances[]","content"],d)}const u=c(e,["config"]);return u!=null&&pw(u,s),s}function yw(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["embeddings"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["embeddings"],u)}const a=c(n,["metadata"]);return a!=null&&f(e,["metadata"],a),e}function vw(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["predictions[]","embeddings"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>QE(d))),f(e,["embeddings"],u)}const a=c(n,["metadata"]);return a!=null&&f(e,["metadata"],a),e}function xw(n){const e={},s=c(n,["endpoint"]);s!=null&&f(e,["name"],s);const o=c(n,["deployedModelId"]);return o!=null&&f(e,["deployedModelId"],o),e}function _w(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["fileUri"]);s!=null&&f(e,["fileUri"],s);const o=c(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function bw(n){const e={},s=c(n,["id"]);s!=null&&f(e,["id"],s);const o=c(n,["args"]);o!=null&&f(e,["args"],o);const a=c(n,["name"]);if(a!=null&&f(e,["name"],a),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Sw(n){const e={},s=c(n,["allowedFunctionNames"]);s!=null&&f(e,["allowedFunctionNames"],s);const o=c(n,["mode"]);if(o!=null&&f(e,["mode"],o),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Tw(n){const e={},s=c(n,["description"]);s!=null&&f(e,["description"],s);const o=c(n,["name"]);o!=null&&f(e,["name"],o);const a=c(n,["parameters"]);a!=null&&f(e,["parameters"],a);const u=c(n,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(n,["response"]);d!=null&&f(e,["response"],d);const h=c(n,["responseJsonSchema"]);if(h!=null&&f(e,["responseJsonSchema"],h),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Ew(n,e,s){const o={},a=c(e,["systemInstruction"]);s!==void 0&&a!=null&&f(s,["systemInstruction"],Ea(ct(a)));const u=c(e,["temperature"]);u!=null&&f(o,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(o,["topP"],d);const h=c(e,["topK"]);h!=null&&f(o,["topK"],h);const y=c(e,["candidateCount"]);y!=null&&f(o,["candidateCount"],y);const m=c(e,["maxOutputTokens"]);m!=null&&f(o,["maxOutputTokens"],m);const x=c(e,["stopSequences"]);x!=null&&f(o,["stopSequences"],x);const _=c(e,["responseLogprobs"]);_!=null&&f(o,["responseLogprobs"],_);const b=c(e,["logprobs"]);b!=null&&f(o,["logprobs"],b);const E=c(e,["presencePenalty"]);E!=null&&f(o,["presencePenalty"],E);const M=c(e,["frequencyPenalty"]);M!=null&&f(o,["frequencyPenalty"],M);const R=c(e,["seed"]);R!=null&&f(o,["seed"],R);const A=c(e,["responseMimeType"]);A!=null&&f(o,["responseMimeType"],A);const V=c(e,["responseSchema"]);V!=null&&f(o,["responseSchema"],Oc(V));const Y=c(e,["responseJsonSchema"]);if(Y!=null&&f(o,["responseJsonSchema"],Y),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=c(e,["safetySettings"]);if(s!==void 0&&B!=null){let ie=B;Array.isArray(ie)&&(ie=ie.map(Ge=>p1(Ge))),f(s,["safetySettings"],ie)}const P=c(e,["tools"]);if(s!==void 0&&P!=null){let ie=Rs(P);Array.isArray(ie)&&(ie=ie.map(Ge=>b1(ks(Ge)))),f(s,["tools"],ie)}const Z=c(e,["toolConfig"]);if(s!==void 0&&Z!=null&&f(s,["toolConfig"],_1(Z)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=c(e,["cachedContent"]);s!==void 0&&Q!=null&&f(s,["cachedContent"],wn(n,Q));const w=c(e,["responseModalities"]);w!=null&&f(o,["responseModalities"],w);const G=c(e,["mediaResolution"]);G!=null&&f(o,["mediaResolution"],G);const k=c(e,["speechConfig"]);if(k!=null&&f(o,["speechConfig"],Hc(k)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const X=c(e,["thinkingConfig"]);X!=null&&f(o,["thinkingConfig"],X);const ne=c(e,["imageConfig"]);ne!=null&&f(o,["imageConfig"],Qw(ne));const ue=c(e,["enableEnhancedCivicAnswers"]);return ue!=null&&f(o,["enableEnhancedCivicAnswers"],ue),o}function ww(n,e,s){const o={},a=c(e,["systemInstruction"]);s!==void 0&&a!=null&&f(s,["systemInstruction"],ct(a));const u=c(e,["temperature"]);u!=null&&f(o,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(o,["topP"],d);const h=c(e,["topK"]);h!=null&&f(o,["topK"],h);const y=c(e,["candidateCount"]);y!=null&&f(o,["candidateCount"],y);const m=c(e,["maxOutputTokens"]);m!=null&&f(o,["maxOutputTokens"],m);const x=c(e,["stopSequences"]);x!=null&&f(o,["stopSequences"],x);const _=c(e,["responseLogprobs"]);_!=null&&f(o,["responseLogprobs"],_);const b=c(e,["logprobs"]);b!=null&&f(o,["logprobs"],b);const E=c(e,["presencePenalty"]);E!=null&&f(o,["presencePenalty"],E);const M=c(e,["frequencyPenalty"]);M!=null&&f(o,["frequencyPenalty"],M);const R=c(e,["seed"]);R!=null&&f(o,["seed"],R);const A=c(e,["responseMimeType"]);A!=null&&f(o,["responseMimeType"],A);const V=c(e,["responseSchema"]);V!=null&&f(o,["responseSchema"],Oc(V));const Y=c(e,["responseJsonSchema"]);Y!=null&&f(o,["responseJsonSchema"],Y);const B=c(e,["routingConfig"]);B!=null&&f(o,["routingConfig"],B);const P=c(e,["modelSelectionConfig"]);P!=null&&f(o,["modelConfig"],P);const Z=c(e,["safetySettings"]);if(s!==void 0&&Z!=null){let D=Z;Array.isArray(D)&&(D=D.map(K=>K)),f(s,["safetySettings"],D)}const Q=c(e,["tools"]);if(s!==void 0&&Q!=null){let D=Rs(Q);Array.isArray(D)&&(D=D.map(K=>H0(ks(K)))),f(s,["tools"],D)}const w=c(e,["toolConfig"]);s!==void 0&&w!=null&&f(s,["toolConfig"],w);const G=c(e,["labels"]);s!==void 0&&G!=null&&f(s,["labels"],G);const k=c(e,["cachedContent"]);s!==void 0&&k!=null&&f(s,["cachedContent"],wn(n,k));const X=c(e,["responseModalities"]);X!=null&&f(o,["responseModalities"],X);const ne=c(e,["mediaResolution"]);ne!=null&&f(o,["mediaResolution"],ne);const ue=c(e,["speechConfig"]);ue!=null&&f(o,["speechConfig"],Hc(ue));const ie=c(e,["audioTimestamp"]);ie!=null&&f(o,["audioTimestamp"],ie);const Ge=c(e,["thinkingConfig"]);Ge!=null&&f(o,["thinkingConfig"],Ge);const W=c(e,["imageConfig"]);if(W!=null&&f(o,["imageConfig"],Zw(W)),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function wg(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["_url","model"],Re(n,o));const a=c(e,["contents"]);if(a!=null){let d=jt(a);Array.isArray(d)&&(d=d.map(h=>Ea(h))),f(s,["contents"],d)}const u=c(e,["config"]);return u!=null&&f(s,["generationConfig"],Ew(n,u,s)),s}function Ng(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["_url","model"],Re(n,o));const a=c(e,["contents"]);if(a!=null){let d=jt(a);Array.isArray(d)&&(d=d.map(h=>h)),f(s,["contents"],d)}const u=c(e,["config"]);return u!=null&&f(s,["generationConfig"],ww(n,u,s)),s}function Cg(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["candidates"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(m=>JE(m))),f(e,["candidates"],y)}const a=c(n,["modelVersion"]);a!=null&&f(e,["modelVersion"],a);const u=c(n,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const d=c(n,["responseId"]);d!=null&&f(e,["responseId"],d);const h=c(n,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function Ag(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["candidates"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(x=>x)),f(e,["candidates"],m)}const a=c(n,["createTime"]);a!=null&&f(e,["createTime"],a);const u=c(n,["modelVersion"]);u!=null&&f(e,["modelVersion"],u);const d=c(n,["promptFeedback"]);d!=null&&f(e,["promptFeedback"],d);const h=c(n,["responseId"]);h!=null&&f(e,["responseId"],h);const y=c(n,["usageMetadata"]);return y!=null&&f(e,["usageMetadata"],y),e}function Nw(n,e){const s={};if(c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=c(n,["numberOfImages"]);e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o);const a=c(n,["aspectRatio"]);e!==void 0&&a!=null&&f(e,["parameters","aspectRatio"],a);const u=c(n,["guidanceScale"]);if(e!==void 0&&u!=null&&f(e,["parameters","guidanceScale"],u),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=c(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&f(e,["parameters","safetySetting"],d);const h=c(n,["personGeneration"]);e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h);const y=c(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&f(e,["parameters","includeSafetyAttributes"],y);const m=c(n,["includeRaiReason"]);e!==void 0&&m!=null&&f(e,["parameters","includeRaiReason"],m);const x=c(n,["language"]);e!==void 0&&x!=null&&f(e,["parameters","language"],x);const _=c(n,["outputMimeType"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","mimeType"],_);const b=c(n,["outputCompressionQuality"]);if(e!==void 0&&b!=null&&f(e,["parameters","outputOptions","compressionQuality"],b),c(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=c(n,["imageSize"]);if(e!==void 0&&E!=null&&f(e,["parameters","sampleImageSize"],E),c(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function Cw(n,e){const s={},o=c(n,["outputGcsUri"]);e!==void 0&&o!=null&&f(e,["parameters","storageUri"],o);const a=c(n,["negativePrompt"]);e!==void 0&&a!=null&&f(e,["parameters","negativePrompt"],a);const u=c(n,["numberOfImages"]);e!==void 0&&u!=null&&f(e,["parameters","sampleCount"],u);const d=c(n,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const h=c(n,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const y=c(n,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const m=c(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const x=c(n,["personGeneration"]);e!==void 0&&x!=null&&f(e,["parameters","personGeneration"],x);const _=c(n,["includeSafetyAttributes"]);e!==void 0&&_!=null&&f(e,["parameters","includeSafetyAttributes"],_);const b=c(n,["includeRaiReason"]);e!==void 0&&b!=null&&f(e,["parameters","includeRaiReason"],b);const E=c(n,["language"]);e!==void 0&&E!=null&&f(e,["parameters","language"],E);const M=c(n,["outputMimeType"]);e!==void 0&&M!=null&&f(e,["parameters","outputOptions","mimeType"],M);const R=c(n,["outputCompressionQuality"]);e!==void 0&&R!=null&&f(e,["parameters","outputOptions","compressionQuality"],R);const A=c(n,["addWatermark"]);e!==void 0&&A!=null&&f(e,["parameters","addWatermark"],A);const V=c(n,["labels"]);e!==void 0&&V!=null&&f(e,["labels"],V);const Y=c(n,["imageSize"]);e!==void 0&&Y!=null&&f(e,["parameters","sampleImageSize"],Y);const B=c(n,["enhancePrompt"]);return e!==void 0&&B!=null&&f(e,["parameters","enhancePrompt"],B),s}function Aw(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["_url","model"],Re(n,o));const a=c(e,["prompt"]);a!=null&&f(s,["instances[0]","prompt"],a);const u=c(e,["config"]);return u!=null&&Nw(u,s),s}function kw(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["_url","model"],Re(n,o));const a=c(e,["prompt"]);a!=null&&f(s,["instances[0]","prompt"],a);const u=c(e,["config"]);return u!=null&&Cw(u,s),s}function Rw(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["predictions"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>Bw(d))),f(e,["generatedImages"],u)}const a=c(n,["positivePromptSafetyAttributes"]);return a!=null&&f(e,["positivePromptSafetyAttributes"],G0(a)),e}function Mw(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["predictions"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>wa(d))),f(e,["generatedImages"],u)}const a=c(n,["positivePromptSafetyAttributes"]);return a!=null&&f(e,["positivePromptSafetyAttributes"],O0(a)),e}function Iw(n,e){const s={},o=c(n,["numberOfVideos"]);if(e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o),c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=c(n,["durationSeconds"]);if(e!==void 0&&a!=null&&f(e,["parameters","durationSeconds"],a),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=c(n,["aspectRatio"]);e!==void 0&&u!=null&&f(e,["parameters","aspectRatio"],u);const d=c(n,["resolution"]);e!==void 0&&d!=null&&f(e,["parameters","resolution"],d);const h=c(n,["personGeneration"]);if(e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h),c(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=c(n,["negativePrompt"]);e!==void 0&&y!=null&&f(e,["parameters","negativePrompt"],y);const m=c(n,["enhancePrompt"]);if(e!==void 0&&m!=null&&f(e,["parameters","enhancePrompt"],m),c(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=c(n,["lastFrame"]);e!==void 0&&x!=null&&f(e,["instances[0]","lastFrame"],Na(x));const _=c(n,["referenceImages"]);if(e!==void 0&&_!=null){let b=_;Array.isArray(b)&&(b=b.map(E=>U1(E))),f(e,["instances[0]","referenceImages"],b)}if(c(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return s}function Dw(n,e){const s={},o=c(n,["numberOfVideos"]);e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o);const a=c(n,["outputGcsUri"]);e!==void 0&&a!=null&&f(e,["parameters","storageUri"],a);const u=c(n,["fps"]);e!==void 0&&u!=null&&f(e,["parameters","fps"],u);const d=c(n,["durationSeconds"]);e!==void 0&&d!=null&&f(e,["parameters","durationSeconds"],d);const h=c(n,["seed"]);e!==void 0&&h!=null&&f(e,["parameters","seed"],h);const y=c(n,["aspectRatio"]);e!==void 0&&y!=null&&f(e,["parameters","aspectRatio"],y);const m=c(n,["resolution"]);e!==void 0&&m!=null&&f(e,["parameters","resolution"],m);const x=c(n,["personGeneration"]);e!==void 0&&x!=null&&f(e,["parameters","personGeneration"],x);const _=c(n,["pubsubTopic"]);e!==void 0&&_!=null&&f(e,["parameters","pubsubTopic"],_);const b=c(n,["negativePrompt"]);e!==void 0&&b!=null&&f(e,["parameters","negativePrompt"],b);const E=c(n,["enhancePrompt"]);e!==void 0&&E!=null&&f(e,["parameters","enhancePrompt"],E);const M=c(n,["generateAudio"]);e!==void 0&&M!=null&&f(e,["parameters","generateAudio"],M);const R=c(n,["lastFrame"]);e!==void 0&&R!=null&&f(e,["instances[0]","lastFrame"],Wt(R));const A=c(n,["referenceImages"]);if(e!==void 0&&A!=null){let B=A;Array.isArray(B)&&(B=B.map(P=>L1(P))),f(e,["instances[0]","referenceImages"],B)}const V=c(n,["mask"]);e!==void 0&&V!=null&&f(e,["instances[0]","mask"],D1(V));const Y=c(n,["compressionQuality"]);return e!==void 0&&Y!=null&&f(e,["parameters","compressionQuality"],Y),s}function Uw(n){const e={},s=c(n,["name"]);s!=null&&f(e,["name"],s);const o=c(n,["metadata"]);o!=null&&f(e,["metadata"],o);const a=c(n,["done"]);a!=null&&f(e,["done"],a);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],Ow(d)),e}function Lw(n){const e={},s=c(n,["name"]);s!=null&&f(e,["name"],s);const o=c(n,["metadata"]);o!=null&&f(e,["metadata"],o);const a=c(n,["done"]);a!=null&&f(e,["done"],a);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],Hw(d)),e}function Pw(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["_url","model"],Re(n,o));const a=c(e,["prompt"]);a!=null&&f(s,["instances[0]","prompt"],a);const u=c(e,["image"]);u!=null&&f(s,["instances[0]","image"],Na(u));const d=c(e,["video"]);d!=null&&f(s,["instances[0]","video"],q0(d));const h=c(e,["source"]);h!=null&&qw(h,s);const y=c(e,["config"]);return y!=null&&Iw(y,s),s}function Gw(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["_url","model"],Re(n,o));const a=c(e,["prompt"]);a!=null&&f(s,["instances[0]","prompt"],a);const u=c(e,["image"]);u!=null&&f(s,["instances[0]","image"],Wt(u));const d=c(e,["video"]);d!=null&&f(s,["instances[0]","video"],V0(d));const h=c(e,["source"]);h!=null&&Vw(h,s);const y=c(e,["config"]);return y!=null&&Dw(y,s),s}function Ow(n){const e={},s=c(n,["generatedSamples"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>jw(d))),f(e,["generatedVideos"],u)}const o=c(n,["raiMediaFilteredCount"]);o!=null&&f(e,["raiMediaFilteredCount"],o);const a=c(n,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function Hw(n){const e={},s=c(n,["videos"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>Fw(d))),f(e,["generatedVideos"],u)}const o=c(n,["raiMediaFilteredCount"]);o!=null&&f(e,["raiMediaFilteredCount"],o);const a=c(n,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function qw(n,e){const s={},o=c(n,["prompt"]);e!==void 0&&o!=null&&f(e,["instances[0]","prompt"],o);const a=c(n,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],Na(a));const u=c(n,["video"]);return e!==void 0&&u!=null&&f(e,["instances[0]","video"],q0(u)),s}function Vw(n,e){const s={},o=c(n,["prompt"]);e!==void 0&&o!=null&&f(e,["instances[0]","prompt"],o);const a=c(n,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],Wt(a));const u=c(n,["video"]);return e!==void 0&&u!=null&&f(e,["instances[0]","video"],V0(u)),s}function Bw(n){const e={},s=c(n,["_self"]);s!=null&&f(e,["image"],Ww(s));const o=c(n,["raiFilteredReason"]);o!=null&&f(e,["raiFilteredReason"],o);const a=c(n,["_self"]);return a!=null&&f(e,["safetyAttributes"],G0(a)),e}function wa(n){const e={},s=c(n,["_self"]);s!=null&&f(e,["image"],P0(s));const o=c(n,["raiFilteredReason"]);o!=null&&f(e,["raiFilteredReason"],o);const a=c(n,["_self"]);a!=null&&f(e,["safetyAttributes"],O0(a));const u=c(n,["prompt"]);return u!=null&&f(e,["enhancedPrompt"],u),e}function zw(n){const e={},s=c(n,["_self"]);s!=null&&f(e,["mask"],P0(s));const o=c(n,["labels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),f(e,["labels"],a)}return e}function jw(n){const e={},s=c(n,["video"]);return s!=null&&f(e,["video"],M1(s)),e}function Fw(n){const e={},s=c(n,["_self"]);return s!=null&&f(e,["video"],I1(s)),e}function $w(n){const e={},s=c(n,["modelSelectionConfig"]);s!=null&&f(e,["modelConfig"],s);const o=c(n,["responseJsonSchema"]);o!=null&&f(e,["responseJsonSchema"],o);const a=c(n,["audioTimestamp"]);a!=null&&f(e,["audioTimestamp"],a);const u=c(n,["candidateCount"]);u!=null&&f(e,["candidateCount"],u);const d=c(n,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const h=c(n,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const y=c(n,["logprobs"]);y!=null&&f(e,["logprobs"],y);const m=c(n,["maxOutputTokens"]);m!=null&&f(e,["maxOutputTokens"],m);const x=c(n,["mediaResolution"]);x!=null&&f(e,["mediaResolution"],x);const _=c(n,["presencePenalty"]);_!=null&&f(e,["presencePenalty"],_);const b=c(n,["responseLogprobs"]);b!=null&&f(e,["responseLogprobs"],b);const E=c(n,["responseMimeType"]);E!=null&&f(e,["responseMimeType"],E);const M=c(n,["responseModalities"]);M!=null&&f(e,["responseModalities"],M);const R=c(n,["responseSchema"]);R!=null&&f(e,["responseSchema"],R);const A=c(n,["routingConfig"]);A!=null&&f(e,["routingConfig"],A);const V=c(n,["seed"]);V!=null&&f(e,["seed"],V);const Y=c(n,["speechConfig"]);Y!=null&&f(e,["speechConfig"],Y);const B=c(n,["stopSequences"]);B!=null&&f(e,["stopSequences"],B);const P=c(n,["temperature"]);P!=null&&f(e,["temperature"],P);const Z=c(n,["thinkingConfig"]);Z!=null&&f(e,["thinkingConfig"],Z);const Q=c(n,["topK"]);Q!=null&&f(e,["topK"],Q);const w=c(n,["topP"]);if(w!=null&&f(e,["topP"],w),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Jw(n,e){const s={},o=c(e,["model"]);return o!=null&&f(s,["_url","name"],Re(n,o)),s}function Yw(n,e){const s={},o=c(e,["model"]);return o!=null&&f(s,["_url","name"],Re(n,o)),s}function Kw(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=c(n,["enableWidget"]);return s!=null&&f(e,["enableWidget"],s),e}function Xw(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=c(n,["timeRangeFilter"]);return s!=null&&f(e,["timeRangeFilter"],s),e}function Qw(n){const e={},s=c(n,["aspectRatio"]);s!=null&&f(e,["aspectRatio"],s);const o=c(n,["imageSize"]);if(o!=null&&f(e,["imageSize"],o),c(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Zw(n){const e={},s=c(n,["aspectRatio"]);s!=null&&f(e,["aspectRatio"],s);const o=c(n,["imageSize"]);o!=null&&f(e,["imageSize"],o);const a=c(n,["personGeneration"]);a!=null&&f(e,["personGeneration"],a);const u=c(n,["outputMimeType"]);u!=null&&f(e,["imageOutputOptions","mimeType"],u);const d=c(n,["outputCompressionQuality"]);return d!=null&&f(e,["imageOutputOptions","compressionQuality"],d),e}function Ww(n){const e={},s=c(n,["bytesBase64Encoded"]);s!=null&&f(e,["imageBytes"],ti(s));const o=c(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function P0(n){const e={},s=c(n,["gcsUri"]);s!=null&&f(e,["gcsUri"],s);const o=c(n,["bytesBase64Encoded"]);o!=null&&f(e,["imageBytes"],ti(o));const a=c(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function Na(n){const e={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=c(n,["imageBytes"]);s!=null&&f(e,["bytesBase64Encoded"],ti(s));const o=c(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function Wt(n){const e={},s=c(n,["gcsUri"]);s!=null&&f(e,["gcsUri"],s);const o=c(n,["imageBytes"]);o!=null&&f(e,["bytesBase64Encoded"],ti(o));const a=c(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function e1(n,e,s){const o={},a=c(e,["pageSize"]);s!==void 0&&a!=null&&f(s,["_query","pageSize"],a);const u=c(e,["pageToken"]);s!==void 0&&u!=null&&f(s,["_query","pageToken"],u);const d=c(e,["filter"]);s!==void 0&&d!=null&&f(s,["_query","filter"],d);const h=c(e,["queryBase"]);return s!==void 0&&h!=null&&f(s,["_url","models_url"],k0(n,h)),o}function t1(n,e,s){const o={},a=c(e,["pageSize"]);s!==void 0&&a!=null&&f(s,["_query","pageSize"],a);const u=c(e,["pageToken"]);s!==void 0&&u!=null&&f(s,["_query","pageToken"],u);const d=c(e,["filter"]);s!==void 0&&d!=null&&f(s,["_query","filter"],d);const h=c(e,["queryBase"]);return s!==void 0&&h!=null&&f(s,["_url","models_url"],k0(n,h)),o}function n1(n,e){const s={},o=c(e,["config"]);return o!=null&&e1(n,o,s),s}function i1(n,e){const s={},o=c(e,["config"]);return o!=null&&t1(n,o,s),s}function s1(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=c(n,["_self"]);if(a!=null){let u=R0(a);Array.isArray(u)&&(u=u.map(d=>yc(d))),f(e,["models"],u)}return e}function o1(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=c(n,["_self"]);if(a!=null){let u=R0(a);Array.isArray(u)&&(u=u.map(d=>vc(d))),f(e,["models"],u)}return e}function l1(n){const e={},s=c(n,["maskMode"]);s!=null&&f(e,["maskMode"],s);const o=c(n,["segmentationClasses"]);o!=null&&f(e,["maskClasses"],o);const a=c(n,["maskDilation"]);return a!=null&&f(e,["dilation"],a),e}function yc(n){const e={},s=c(n,["name"]);s!=null&&f(e,["name"],s);const o=c(n,["displayName"]);o!=null&&f(e,["displayName"],o);const a=c(n,["description"]);a!=null&&f(e,["description"],a);const u=c(n,["version"]);u!=null&&f(e,["version"],u);const d=c(n,["_self"]);d!=null&&f(e,["tunedModelInfo"],S1(d));const h=c(n,["inputTokenLimit"]);h!=null&&f(e,["inputTokenLimit"],h);const y=c(n,["outputTokenLimit"]);y!=null&&f(e,["outputTokenLimit"],y);const m=c(n,["supportedGenerationMethods"]);m!=null&&f(e,["supportedActions"],m);const x=c(n,["temperature"]);x!=null&&f(e,["temperature"],x);const _=c(n,["maxTemperature"]);_!=null&&f(e,["maxTemperature"],_);const b=c(n,["topP"]);b!=null&&f(e,["topP"],b);const E=c(n,["topK"]);E!=null&&f(e,["topK"],E);const M=c(n,["thinking"]);return M!=null&&f(e,["thinking"],M),e}function vc(n){const e={},s=c(n,["name"]);s!=null&&f(e,["name"],s);const o=c(n,["displayName"]);o!=null&&f(e,["displayName"],o);const a=c(n,["description"]);a!=null&&f(e,["description"],a);const u=c(n,["versionId"]);u!=null&&f(e,["version"],u);const d=c(n,["deployedModels"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(b=>xw(b))),f(e,["endpoints"],_)}const h=c(n,["labels"]);h!=null&&f(e,["labels"],h);const y=c(n,["_self"]);y!=null&&f(e,["tunedModelInfo"],T1(y));const m=c(n,["defaultCheckpointId"]);m!=null&&f(e,["defaultCheckpointId"],m);const x=c(n,["checkpoints"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(b=>b)),f(e,["checkpoints"],_)}return e}function a1(n){const e={},s=c(n,["mediaResolution"]);s!=null&&f(e,["mediaResolution"],s);const o=c(n,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const a=c(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],_w(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],bw(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],$E(y));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const x=c(n,["thought"]);x!=null&&f(e,["thought"],x);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const b=c(n,["videoMetadata"]);return b!=null&&f(e,["videoMetadata"],b),e}function r1(n){const e={},s=c(n,["productImage"]);return s!=null&&f(e,["image"],Wt(s)),e}function u1(n,e){const s={},o=c(n,["numberOfImages"]);e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o);const a=c(n,["baseSteps"]);e!==void 0&&a!=null&&f(e,["parameters","baseSteps"],a);const u=c(n,["outputGcsUri"]);e!==void 0&&u!=null&&f(e,["parameters","storageUri"],u);const d=c(n,["seed"]);e!==void 0&&d!=null&&f(e,["parameters","seed"],d);const h=c(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&f(e,["parameters","safetySetting"],h);const y=c(n,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const m=c(n,["addWatermark"]);e!==void 0&&m!=null&&f(e,["parameters","addWatermark"],m);const x=c(n,["outputMimeType"]);e!==void 0&&x!=null&&f(e,["parameters","outputOptions","mimeType"],x);const _=c(n,["outputCompressionQuality"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","compressionQuality"],_);const b=c(n,["enhancePrompt"]);e!==void 0&&b!=null&&f(e,["parameters","enhancePrompt"],b);const E=c(n,["labels"]);return e!==void 0&&E!=null&&f(e,["labels"],E),s}function c1(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["_url","model"],Re(n,o));const a=c(e,["source"]);a!=null&&f1(a,s);const u=c(e,["config"]);return u!=null&&u1(u,s),s}function d1(n){const e={},s=c(n,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>wa(a))),f(e,["generatedImages"],o)}return e}function f1(n,e){const s={},o=c(n,["prompt"]);e!==void 0&&o!=null&&f(e,["instances[0]","prompt"],o);const a=c(n,["personImage"]);e!==void 0&&a!=null&&f(e,["instances[0]","personImage","image"],Wt(a));const u=c(n,["productImages"]);if(e!==void 0&&u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>r1(h))),f(e,["instances[0]","productImages"],d)}return s}function h1(n){const e={},s=c(n,["referenceImage"]);s!=null&&f(e,["referenceImage"],Wt(s));const o=c(n,["referenceId"]);o!=null&&f(e,["referenceId"],o);const a=c(n,["referenceType"]);a!=null&&f(e,["referenceType"],a);const u=c(n,["maskImageConfig"]);u!=null&&f(e,["maskImageConfig"],l1(u));const d=c(n,["controlImageConfig"]);d!=null&&f(e,["controlImageConfig"],WE(d));const h=c(n,["styleImageConfig"]);h!=null&&f(e,["styleImageConfig"],h);const y=c(n,["subjectImageConfig"]);return y!=null&&f(e,["subjectImageConfig"],y),e}function G0(n){const e={},s=c(n,["safetyAttributes","categories"]);s!=null&&f(e,["categories"],s);const o=c(n,["safetyAttributes","scores"]);o!=null&&f(e,["scores"],o);const a=c(n,["contentType"]);return a!=null&&f(e,["contentType"],a),e}function O0(n){const e={},s=c(n,["safetyAttributes","categories"]);s!=null&&f(e,["categories"],s);const o=c(n,["safetyAttributes","scores"]);o!=null&&f(e,["scores"],o);const a=c(n,["contentType"]);return a!=null&&f(e,["contentType"],a),e}function p1(n){const e={},s=c(n,["category"]);if(s!=null&&f(e,["category"],s),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=c(n,["threshold"]);return o!=null&&f(e,["threshold"],o),e}function m1(n){const e={},s=c(n,["image"]);return s!=null&&f(e,["image"],Wt(s)),e}function g1(n,e){const s={},o=c(n,["mode"]);e!==void 0&&o!=null&&f(e,["parameters","mode"],o);const a=c(n,["maxPredictions"]);e!==void 0&&a!=null&&f(e,["parameters","maxPredictions"],a);const u=c(n,["confidenceThreshold"]);e!==void 0&&u!=null&&f(e,["parameters","confidenceThreshold"],u);const d=c(n,["maskDilation"]);e!==void 0&&d!=null&&f(e,["parameters","maskDilation"],d);const h=c(n,["binaryColorThreshold"]);e!==void 0&&h!=null&&f(e,["parameters","binaryColorThreshold"],h);const y=c(n,["labels"]);return e!==void 0&&y!=null&&f(e,["labels"],y),s}function y1(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["_url","model"],Re(n,o));const a=c(e,["source"]);a!=null&&x1(a,s);const u=c(e,["config"]);return u!=null&&g1(u,s),s}function v1(n){const e={},s=c(n,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>zw(a))),f(e,["generatedMasks"],o)}return e}function x1(n,e){const s={},o=c(n,["prompt"]);e!==void 0&&o!=null&&f(e,["instances[0]","prompt"],o);const a=c(n,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],Wt(a));const u=c(n,["scribbleImage"]);return e!==void 0&&u!=null&&f(e,["instances[0]","scribble"],m1(u)),s}function _1(n){const e={},s=c(n,["retrievalConfig"]);s!=null&&f(e,["retrievalConfig"],s);const o=c(n,["functionCallingConfig"]);return o!=null&&f(e,["functionCallingConfig"],Sw(o)),e}function b1(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["computerUse"]);s!=null&&f(e,["computerUse"],s);const o=c(n,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const a=c(n,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(_=>_)),f(e,["functionDeclarations"],x)}const d=c(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],Kw(d));const h=c(n,["googleSearch"]);h!=null&&f(e,["googleSearch"],Xw(h));const y=c(n,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function H0(n){const e={},s=c(n,["retrieval"]);s!=null&&f(e,["retrieval"],s);const o=c(n,["computerUse"]);if(o!=null&&f(e,["computerUse"],o),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=c(n,["codeExecution"]);a!=null&&f(e,["codeExecution"],a);const u=c(n,["enterpriseWebSearch"]);u!=null&&f(e,["enterpriseWebSearch"],u);const d=c(n,["functionDeclarations"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(b=>Tw(b))),f(e,["functionDeclarations"],_)}const h=c(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],h);const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],y);const m=c(n,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const x=c(n,["urlContext"]);return x!=null&&f(e,["urlContext"],x),e}function S1(n){const e={},s=c(n,["baseModel"]);s!=null&&f(e,["baseModel"],s);const o=c(n,["createTime"]);o!=null&&f(e,["createTime"],o);const a=c(n,["updateTime"]);return a!=null&&f(e,["updateTime"],a),e}function T1(n){const e={},s=c(n,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&f(e,["baseModel"],s);const o=c(n,["createTime"]);o!=null&&f(e,["createTime"],o);const a=c(n,["updateTime"]);return a!=null&&f(e,["updateTime"],a),e}function E1(n,e){const s={},o=c(n,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);const a=c(n,["description"]);e!==void 0&&a!=null&&f(e,["description"],a);const u=c(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&f(e,["defaultCheckpointId"],u),s}function w1(n,e){const s={},o=c(n,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);const a=c(n,["description"]);e!==void 0&&a!=null&&f(e,["description"],a);const u=c(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&f(e,["defaultCheckpointId"],u),s}function N1(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["_url","name"],Re(n,o));const a=c(e,["config"]);return a!=null&&E1(a,s),s}function C1(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["_url","model"],Re(n,o));const a=c(e,["config"]);return a!=null&&w1(a,s),s}function A1(n,e){const s={},o=c(n,["outputGcsUri"]);e!==void 0&&o!=null&&f(e,["parameters","storageUri"],o);const a=c(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&f(e,["parameters","safetySetting"],a);const u=c(n,["personGeneration"]);e!==void 0&&u!=null&&f(e,["parameters","personGeneration"],u);const d=c(n,["includeRaiReason"]);e!==void 0&&d!=null&&f(e,["parameters","includeRaiReason"],d);const h=c(n,["outputMimeType"]);e!==void 0&&h!=null&&f(e,["parameters","outputOptions","mimeType"],h);const y=c(n,["outputCompressionQuality"]);e!==void 0&&y!=null&&f(e,["parameters","outputOptions","compressionQuality"],y);const m=c(n,["enhanceInputImage"]);e!==void 0&&m!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],m);const x=c(n,["imagePreservationFactor"]);e!==void 0&&x!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],x);const _=c(n,["labels"]);e!==void 0&&_!=null&&f(e,["labels"],_);const b=c(n,["numberOfImages"]);e!==void 0&&b!=null&&f(e,["parameters","sampleCount"],b);const E=c(n,["mode"]);return e!==void 0&&E!=null&&f(e,["parameters","mode"],E),s}function k1(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["_url","model"],Re(n,o));const a=c(e,["image"]);a!=null&&f(s,["instances[0]","image"],Wt(a));const u=c(e,["upscaleFactor"]);u!=null&&f(s,["parameters","upscaleConfig","upscaleFactor"],u);const d=c(e,["config"]);return d!=null&&A1(d,s),s}function R1(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>wa(u))),f(e,["generatedImages"],a)}return e}function M1(n){const e={},s=c(n,["uri"]);s!=null&&f(e,["uri"],s);const o=c(n,["encodedVideo"]);o!=null&&f(e,["videoBytes"],ti(o));const a=c(n,["encoding"]);return a!=null&&f(e,["mimeType"],a),e}function I1(n){const e={},s=c(n,["gcsUri"]);s!=null&&f(e,["uri"],s);const o=c(n,["bytesBase64Encoded"]);o!=null&&f(e,["videoBytes"],ti(o));const a=c(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function D1(n){const e={},s=c(n,["image"]);s!=null&&f(e,["_self"],Wt(s));const o=c(n,["maskMode"]);return o!=null&&f(e,["maskMode"],o),e}function U1(n){const e={},s=c(n,["image"]);s!=null&&f(e,["image"],Na(s));const o=c(n,["referenceType"]);return o!=null&&f(e,["referenceType"],o),e}function L1(n){const e={},s=c(n,["image"]);s!=null&&f(e,["image"],Wt(s));const o=c(n,["referenceType"]);return o!=null&&f(e,["referenceType"],o),e}function q0(n){const e={},s=c(n,["uri"]);s!=null&&f(e,["uri"],s);const o=c(n,["videoBytes"]);o!=null&&f(e,["encodedVideo"],ti(o));const a=c(n,["mimeType"]);return a!=null&&f(e,["encoding"],a),e}function V0(n){const e={},s=c(n,["uri"]);s!=null&&f(e,["gcsUri"],s);const o=c(n,["videoBytes"]);o!=null&&f(e,["bytesBase64Encoded"],ti(o));const a=c(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P1(n,e){const s={},o=c(n,["displayName"]);return e!==void 0&&o!=null&&f(e,["displayName"],o),s}function G1(n){const e={},s=c(n,["config"]);return s!=null&&P1(s,e),e}function O1(n,e){const s={},o=c(n,["force"]);return e!==void 0&&o!=null&&f(e,["_query","force"],o),s}function H1(n){const e={},s=c(n,["name"]);s!=null&&f(e,["_url","name"],s);const o=c(n,["config"]);return o!=null&&O1(o,e),e}function q1(n){const e={},s=c(n,["name"]);return s!=null&&f(e,["_url","name"],s),e}function V1(n,e){const s={},o=c(n,["customMetadata"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["customMetadata"],u)}const a=c(n,["chunkingConfig"]);return e!==void 0&&a!=null&&f(e,["chunkingConfig"],a),s}function B1(n){const e={},s=c(n,["name"]);s!=null&&f(e,["name"],s);const o=c(n,["metadata"]);o!=null&&f(e,["metadata"],o);const a=c(n,["done"]);a!=null&&f(e,["done"],a);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],j1(d)),e}function z1(n){const e={},s=c(n,["fileSearchStoreName"]);s!=null&&f(e,["_url","file_search_store_name"],s);const o=c(n,["fileName"]);o!=null&&f(e,["fileName"],o);const a=c(n,["config"]);return a!=null&&V1(a,e),e}function j1(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["parent"]);o!=null&&f(e,["parent"],o);const a=c(n,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function F1(n,e){const s={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const a=c(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),s}function $1(n){const e={},s=c(n,["config"]);return s!=null&&F1(s,e),e}function J1(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=c(n,["fileSearchStores"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["fileSearchStores"],u)}return e}function B0(n,e){const s={},o=c(n,["mimeType"]);e!==void 0&&o!=null&&f(e,["mimeType"],o);const a=c(n,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const u=c(n,["customMetadata"]);if(e!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>y)),f(e,["customMetadata"],h)}const d=c(n,["chunkingConfig"]);return e!==void 0&&d!=null&&f(e,["chunkingConfig"],d),s}function Y1(n){const e={},s=c(n,["fileSearchStoreName"]);s!=null&&f(e,["_url","file_search_store_name"],s);const o=c(n,["config"]);return o!=null&&B0(o,e),e}function K1(n){const e={},s=c(n,["sdkHttpResponse"]);return s!=null&&f(e,["sdkHttpResponse"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X1="Content-Type",Q1="X-Server-Timeout",Z1="User-Agent",xc="x-goog-api-client",W1="1.35.0",eN=`google-genai-sdk/${W1}`,tN="v1beta1",nN="v1beta";class iN{constructor(e){var s,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:tN,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:nN,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),s=new URL(e);return s.protocol=s.protocol=="http:"?"ws":"wss",s.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,s,o){const a=[this.getRequestUrlInternal(s)];return o&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let s=this.clientOptions.httpOptions;e.httpOptions&&(s=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,s,o);if(e.queryParams)for(const[d,h]of Object.entries(e.queryParams))a.searchParams.append(d,String(h));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,s,a.toString(),e.abortSignal),this.unaryApiCall(a,u,e.httpMethod)}patchHttpOptions(e,s){const o=JSON.parse(JSON.stringify(e));for(const[a,u]of Object.entries(s))typeof u=="object"?o[a]=Object.assign(Object.assign({},o[a]),u):u!==void 0&&(o[a]=u);return o}async requestStream(e){let s=this.clientOptions.httpOptions;e.httpOptions&&(s=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,s,o);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,s,a.toString(),e.abortSignal),this.streamApiCall(a,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,s,o,a){if(s&&s.timeout||a){const u=new AbortController,d=u.signal;if(s.timeout&&(s==null?void 0:s.timeout)>0){const h=setTimeout(()=>u.abort(),s.timeout);h&&typeof h.unref=="function"&&h.unref()}a&&a.addEventListener("abort",()=>{u.abort()}),e.signal=d}return s&&s.extraBody!==null&&sN(e,s.extraBody),e.headers=await this.getHeadersInternal(s,o),e}async unaryApiCall(e,s,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},s),{method:o})).then(async a=>(await kg(a),new pc(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,s,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},s),{method:o})).then(async a=>(await kg(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){return Qt(this,arguments,function*(){var o;const a=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),u=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let d="";const h="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:x}=yield ge(a.read());if(m){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=u.decode(x,{stream:!0});try{const M=JSON.parse(_);if("error"in M){const R=JSON.parse(JSON.stringify(M.error)),A=R.status,V=R.code,Y=`got status: ${A}. ${JSON.stringify(M)}`;if(V>=400&&V<600)throw new Ta({message:Y,status:V})}}catch(M){if(M.name==="ApiError")throw M}d+=_;let b=-1,E=0;for(;;){b=-1,E=0;for(const A of y){const V=d.indexOf(A);V!==-1&&(b===-1||V<b)&&(b=V,E=A.length)}if(b===-1)break;const M=d.substring(0,b);d=d.substring(b+E);const R=M.trim();if(R.startsWith(h)){const A=R.substring(h.length).trim();try{const V=new Response(A,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ge(new pc(V))}catch(V){throw new Error(`exception parsing stream chunk ${A}. ${V}`)}}}}}finally{a.releaseLock()}})}async apiCall(e,s){return fetch(e,s).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},s=eN+" "+this.clientOptions.userAgentExtra;return e[Z1]=s,e[xc]=s,e[X1]="application/json",e}async getHeadersInternal(e,s){const o=new Headers;if(e&&e.headers){for(const[a,u]of Object.entries(e.headers))o.append(a,u);e.timeout&&e.timeout>0&&o.append(Q1,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,s),o}getFileName(e){var s;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(s=o.split(/[/\\]/).pop())!==null&&s!==void 0?s:""),o}async uploadFile(e,s){var o;const a={};s!=null&&(a.mimeType=s.mimeType,a.name=s.name,a.displayName=s.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const u=this.clientOptions.uploader,d=await u.stat(e);a.sizeBytes=String(d.size);const h=(o=s==null?void 0:s.mimeType)!==null&&o!==void 0?o:d.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=h;const y={file:a},m=this.getFileName(e),x=te("upload/v1beta/files",y._url),_=await this.fetchUploadUrl(x,a.sizeBytes,a.mimeType,m,y,s==null?void 0:s.httpOptions);return u.upload(e,_,this)}async uploadFileToFileSearchStore(e,s,o){var a;const u=this.clientOptions.uploader,d=await u.stat(s),h=String(d.size),y=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:d.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,x=this.getFileName(s),_={};o!=null&&B0(o,_);const b=await this.fetchUploadUrl(m,h,y,x,_,o==null?void 0:o.httpOptions);return u.uploadToFileSearchStore(s,b,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,s,o,a,u,d){var h;let y={};d?y=d:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s}`,"X-Goog-Upload-Header-Content-Type":`${o}`},a?{"X-Goog-Upload-File-Name":a}:{})};const m=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(h=m==null?void 0:m.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function kg(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const s=n.status;let o;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await n.json():o={error:{message:await n.text(),code:n.status,status:n.statusText}};const a=JSON.stringify(o);throw s>=400&&s<600?new Ta({message:a,status:s}):new Error(a)}}function sN(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let s={};if(typeof n.body=="string"&&n.body.length>0)try{const u=JSON.parse(n.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))s=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(u,d){const h=Object.assign({},u);for(const y in d)if(Object.prototype.hasOwnProperty.call(d,y)){const m=d[y],x=h[y];m&&typeof m=="object"&&!Array.isArray(m)&&x&&typeof x=="object"&&!Array.isArray(x)?h[y]=o(x,m):(x&&m&&typeof x!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof x}, New type: ${typeof m}. Overwriting.`),h[y]=m)}return h}const a=o(s,e);n.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oN="mcp_used/unknown";let lN=!1;function z0(n){for(const e of n)if(aN(e)||typeof e=="object"&&"inputSchema"in e)return!0;return lN}function j0(n){var e;const s=(e=n[xc])!==null&&e!==void 0?e:"";n[xc]=(s+` ${oN}`).trimStart()}function aN(n){return n!==null&&typeof n=="object"&&n instanceof Vc}function rN(n){return Qt(this,arguments,function*(s,o=100){let a,u=0;for(;u<o;){const d=yield ge(s.listTools({cursor:a}));for(const h of d.tools)yield yield ge(h),u++;if(!d.nextCursor)break;a=d.nextCursor}})}class Vc{constructor(e=[],s){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=s}static create(e,s){return new Vc(e,s)}async initialize(){var e,s,o,a;if(this.mcpTools.length>0)return;const u={},d=[];for(const x of this.mcpClients)try{for(var h=!0,y=(s=void 0,Zt(rN(x))),m;m=await y.next(),e=m.done,!e;h=!0){a=m.value,h=!1;const _=a;d.push(_);const b=_.name;if(u[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);u[b]=x}}catch(_){s={error:_}}finally{try{!h&&!e&&(o=y.return)&&await o.call(y)}finally{if(s)throw s.error}}this.mcpTools=d,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),qS(this.mcpTools,this.config)}async callTool(e){await this.initialize();const s=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[o.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const d=await a.callTool({name:o.name,arguments:o.args},void 0,u);s.push({functionResponse:{name:o.name,response:d.isError?{error:d}:d}})}return s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function uN(n,e,s){const o=new IS;let a;s.data instanceof Blob?a=JSON.parse(await s.data.text()):a=JSON.parse(s.data),Object.assign(o,a),e(o)}class cN{constructor(e,s,o){this.apiClient=e,this.auth=s,this.webSocketFactory=o}async connect(e){var s,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),d=hN(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${a}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const x=new Promise(B=>{m=B}),_=e.callbacks,b=function(){m({})},E=this.apiClient,M={onopen:b,onmessage:B=>{uN(E,_.onmessage,B)},onerror:(s=_==null?void 0:_.onerror)!==null&&s!==void 0?s:function(B){},onclose:(o=_==null?void 0:_.onclose)!==null&&o!==void 0?o:function(B){}},R=this.webSocketFactory.create(y,fN(d),M);R.connect(),await x;const Y={setup:{model:Re(this.apiClient,e.model)}};return R.send(JSON.stringify(Y)),new dN(R,this.apiClient)}}class dN{constructor(e,s){this.conn=e,this.apiClient=s}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const s=GE(e);this.conn.send(JSON.stringify({clientContent:s}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const s=PE(e);this.conn.send(JSON.stringify(s))}sendPlaybackControl(e){const s={playbackControl:e};this.conn.send(JSON.stringify(s))}play(){this.sendPlaybackControl(Ss.PLAY)}pause(){this.sendPlaybackControl(Ss.PAUSE)}stop(){this.sendPlaybackControl(Ss.STOP)}resetContext(){this.sendPlaybackControl(Ss.RESET_CONTEXT)}close(){this.conn.close()}}function fN(n){const e={};return n.forEach((s,o)=>{e[o]=s}),e}function hN(n){const e=new Headers;for(const[s,o]of Object.entries(n))e.append(s,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function mN(n,e,s){const o=new MS;let a;s.data instanceof Blob?a=await s.data.text():s.data instanceof ArrayBuffer?a=new TextDecoder().decode(s.data):a=s.data;const u=JSON.parse(a);if(n.isVertexAI()){const d=qE(u);Object.assign(o,d)}else Object.assign(o,u);e(o)}class gN{constructor(e,s,o){this.apiClient=e,this.auth=s,this.webSocketFactory=o,this.music=new cN(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var s,o,a,u,d,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let x;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&z0(e.config.tools)&&j0(_);const b=_N(_);if(this.apiClient.isVertexAI())x=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b,x);else{const k=this.apiClient.getApiKey();let X="BidiGenerateContent",ne="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),X="BidiGenerateContentConstrained",ne="access_token"),x=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${X}?${ne}=${k}`}let E=()=>{};const M=new Promise(k=>{E=k}),R=e.callbacks,A=function(){var k;(k=R==null?void 0:R.onopen)===null||k===void 0||k.call(R),E({})},V=this.apiClient,Y={onopen:A,onmessage:k=>{mN(V,R.onmessage,k)},onerror:(s=R==null?void 0:R.onerror)!==null&&s!==void 0?s:function(k){},onclose:(o=R==null?void 0:R.onclose)!==null&&o!==void 0?o:function(k){}},B=this.webSocketFactory.create(x,xN(b),Y);B.connect(),await M;let P=Re(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){const k=this.apiClient.getProject(),X=this.apiClient.getLocation();P=`projects/${k}/locations/${X}/`+P}let Z={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[pa.AUDIO]}:e.config.responseModalities=[pa.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Q=(h=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[],w=[];for(const k of Q)if(this.isCallableTool(k)){const X=k;w.push(await X.tool())}else w.push(k);w.length>0&&(e.config.tools=w);const G={model:P,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Z=LE(this.apiClient,G):Z=UE(this.apiClient,G),delete Z.config,B.send(JSON.stringify(Z)),new vN(B,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const yN={turnComplete:!0};class vN{constructor(e,s){this.conn=e,this.apiClient=s}tLiveClientContent(e,s){if(s.turns!==null&&s.turns!==void 0){let o=[];try{o=jt(s.turns),e.isVertexAI()||(o=o.map(a=>Ea(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof s.turns}'`)}return{clientContent:{turns:o,turnComplete:s.turnComplete}}}return{clientContent:{turnComplete:s.turnComplete}}}tLiveClienttToolResponse(e,s){let o=[];if(s.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(s.functionResponses)?o=s.functionResponses:o=[s.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const u of o){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(pN)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},yN),e);const s=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(s))}sendRealtimeInput(e){let s={};this.apiClient.isVertexAI()?s={realtimeInput:HE(e)}:s={realtimeInput:OE(e)},this.conn.send(JSON.stringify(s))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const s=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(s))}close(){this.conn.close()}}function xN(n){const e={};return n.forEach((s,o)=>{e[o]=s}),e}function _N(n){const e=new Headers;for(const[s,o]of Object.entries(n))e.append(s,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rg=10;function Mg(n){var e,s,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const d of(s=n==null?void 0:n.tools)!==null&&s!==void 0?s:[])if(ws(d)){a=!0;break}if(!a)return!0;const u=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function ws(n){return"callTool"in n&&typeof n.callTool=="function"}function bN(n){var e,s,o;return(o=(s=(e=n.config)===null||e===void 0?void 0:e.tools)===null||s===void 0?void 0:s.some(a=>ws(a)))!==null&&o!==void 0?o:!1}function Ig(n){var e;const s=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((o,a)=>{if(ws(o))return;const u=o;u.functionDeclarations&&u.functionDeclarations.length>0&&s.push(a)}),s}function Dg(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SN extends En{constructor(e){super(),this.apiClient=e,this.generateContent=async s=>{var o,a,u,d,h;const y=await this.processParamsMaybeAddMcpUsage(s);if(this.maybeMoveToResponseJsonSchem(s),!bN(s)||Mg(s.config))return await this.generateContentInternal(y);const m=Ig(s);if(m.length>0){const R=m.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${R}.`)}let x,_;const b=jt(y.contents),E=(u=(a=(o=y.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:Rg;let M=0;for(;M<E&&(x=await this.generateContentInternal(y),!(!x.functionCalls||x.functionCalls.length===0));){const R=x.candidates[0].content,A=[];for(const V of(h=(d=s.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[])if(ws(V)){const B=await V.callTool(x.functionCalls);A.push(...B)}M++,_={role:"user",parts:A},y.contents=jt(y.contents),y.contents.push(R),y.contents.push(_),Dg(y.config)&&(b.push(R),b.push(_))}return Dg(y.config)&&(x.automaticFunctionCallingHistory=b),x},this.generateContentStream=async s=>{var o,a,u,d,h;if(this.maybeMoveToResponseJsonSchem(s),Mg(s.config)){const _=await this.processParamsMaybeAddMcpUsage(s);return await this.generateContentStreamInternal(_)}const y=Ig(s);if(y.length>0){const _=y.map(b=>`tools[${b}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(u=(a=(o=s==null?void 0:s.config)===null||o===void 0?void 0:o.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,x=(h=(d=s==null?void 0:s.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(m&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(s)},this.generateImages=async s=>await this.generateImagesInternal(s).then(o=>{var a;let u;const d=[];if(o!=null&&o.generatedImages)for(const y of o.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((a=y==null?void 0:y.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:d.push(y);let h;return u?h={generatedImages:d,positivePromptSafetyAttributes:u,sdkHttpResponse:o.sdkHttpResponse}:h={generatedImages:d,sdkHttpResponse:o.sdkHttpResponse},h}),this.list=async s=>{var o;const d={config:Object.assign(Object.assign({},{queryBase:!0}),s==null?void 0:s.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((o=d.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new Ai(Tn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(d),d)},this.editImage=async s=>{const o={model:s.model,prompt:s.prompt,referenceImages:[],config:s.config};return s.referenceImages&&s.referenceImages&&(o.referenceImages=s.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async s=>{let o={numberOfImages:1,mode:"upscale"};s.config&&(o=Object.assign(Object.assign({},o),s.config));const a={model:s.model,image:s.image,upscaleFactor:s.upscaleFactor,config:o};return await this.upscaleImageInternal(a)},this.generateVideos=async s=>{var o,a,u,d,h,y;if((s.prompt||s.image||s.video)&&s.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=s.video)===null||o===void 0)&&o.uri&&(!((a=s.video)===null||a===void 0)&&a.videoBytes)?s.video={uri:s.video.uri,mimeType:s.video.mimeType}:!((d=(u=s.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.uri&&(!((y=(h=s.source)===null||h===void 0?void 0:h.video)===null||y===void 0)&&y.videoBytes)&&(s.source.video={uri:s.source.video.uri,mimeType:s.source.video.mimeType})),await this.generateVideosInternal(s)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var s,o,a;const u=(s=e.config)===null||s===void 0?void 0:s.tools;if(!u)return e;const d=await Promise.all(u.map(async y=>ws(y)?await y.tool():y)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(h.config.tools=d,e.config&&e.config.tools&&z0(e.config.tools)){const y=(a=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),j0(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var s,o,a;const u=new Map;for(const d of(o=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[])if(ws(d)){const h=d,y=await h.tool();for(const m of(a=y.functionDeclarations)!==null&&a!==void 0?a:[]){if(!m.name)throw new Error("Function declaration name is required.");if(u.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);u.set(m.name,h)}}return u}async processAfcStream(e){var s,o,a;const u=(a=(o=(s=e.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:Rg;let d=!1,h=0;const y=await this.initAfcToolsMap(e);return(function(m,x,_){return Qt(this,arguments,function*(){for(var b,E,M,R,A,V;h<u;){d&&(h++,d=!1);const Z=yield ge(m.processParamsMaybeAddMcpUsage(_)),Q=yield ge(m.generateContentStreamInternal(Z)),w=[],G=[];try{for(var Y=!0,B=(E=void 0,Zt(Q)),P;P=yield ge(B.next()),b=P.done,!b;Y=!0){R=P.value,Y=!1;const k=R;if(yield yield ge(k),k.candidates&&(!((A=k.candidates[0])===null||A===void 0)&&A.content)){G.push(k.candidates[0].content);for(const X of(V=k.candidates[0].content.parts)!==null&&V!==void 0?V:[])if(h<u&&X.functionCall){if(!X.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(X.functionCall.name)){const ne=yield ge(x.get(X.functionCall.name).callTool([X.functionCall]));w.push(...ne)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${X.functionCall.name}`)}}}}catch(k){E={error:k}}finally{try{!Y&&!b&&(M=B.return)&&(yield ge(M.call(B)))}finally{if(E)throw E.error}}if(w.length>0){d=!0;const k=new ko;k.candidates=[{content:{role:"user",parts:w}}],yield yield ge(k);const X=[];X.push(...G),X.push({role:"user",parts:w});const ne=jt(_.contents).concat(X);_.contents=ne}else break}})})(this,y,e)}async generateContentInternal(e){var s,o,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=Ng(this.apiClient,e);return h=te("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const _=Ag(x),b=new ko;return Object.assign(b,_),b})}else{const m=wg(this.apiClient,e);return h=te("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const _=Cg(x),b=new ko;return Object.assign(b,_),b})}}async generateContentStreamInternal(e){var s,o,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=Ng(this.apiClient,e);return h=te("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),d.then(function(_){return Qt(this,arguments,function*(){var b,E,M,R;try{for(var A=!0,V=Zt(_),Y;Y=yield ge(V.next()),b=Y.done,!b;A=!0){R=Y.value,A=!1;const B=R,P=Ag(yield ge(B.json()));P.sdkHttpResponse={headers:B.headers};const Z=new ko;Object.assign(Z,P),yield yield ge(Z)}}catch(B){E={error:B}}finally{try{!A&&!b&&(M=V.return)&&(yield ge(M.call(V)))}finally{if(E)throw E.error}}})})}else{const m=wg(this.apiClient,e);return h=te("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),d.then(function(_){return Qt(this,arguments,function*(){var b,E,M,R;try{for(var A=!0,V=Zt(_),Y;Y=yield ge(V.next()),b=Y.done,!b;A=!0){R=Y.value,A=!1;const B=R,P=Cg(yield ge(B.json()));P.sdkHttpResponse={headers:B.headers};const Z=new ko;Object.assign(Z,P),yield yield ge(Z)}}catch(B){E={error:B}}finally{try{!A&&!b&&(M=V.return)&&(yield ge(M.call(V)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var s,o,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=gw(this.apiClient,e);return h=te("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const _=vw(x),b=new rg;return Object.assign(b,_),b})}else{const m=mw(this.apiClient,e);return h=te("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const _=yw(x),b=new rg;return Object.assign(b,_),b})}}async generateImagesInternal(e){var s,o,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=kw(this.apiClient,e);return h=te("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const _=Mw(x),b=new ug;return Object.assign(b,_),b})}else{const m=Aw(this.apiClient,e);return h=te("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const _=Rw(x),b=new ug;return Object.assign(b,_),b})}}async editImageInternal(e){var s,o;let a,u="",d={};if(this.apiClient.isVertexAI()){const h=dw(this.apiClient,e);return u=te("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:y.headers},x})),a.then(y=>{const m=fw(y),x=new _S;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var s,o;let a,u="",d={};if(this.apiClient.isVertexAI()){const h=k1(this.apiClient,e);return u=te("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:y.headers},x})),a.then(y=>{const m=R1(y),x=new bS;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var s,o;let a,u="",d={};if(this.apiClient.isVertexAI()){const h=c1(this.apiClient,e);return u=te("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>{const m=d1(y),x=new SS;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var s,o;let a,u="",d={};if(this.apiClient.isVertexAI()){const h=y1(this.apiClient,e);return u=te("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>{const m=v1(y),x=new TS;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var s,o,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=Yw(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),d.then(x=>vc(x))}else{const m=Jw(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),d.then(x=>yc(x))}}async listInternal(e){var s,o,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=i1(this.apiClient,e);return h=te("{models_url}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const _=o1(x),b=new cg;return Object.assign(b,_),b})}else{const m=n1(this.apiClient,e);return h=te("{models_url}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const _=s1(x),b=new cg;return Object.assign(b,_),b})}}async update(e){var s,o,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=C1(this.apiClient,e);return h=te("{model}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),d.then(x=>vc(x))}else{const m=N1(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),d.then(x=>yc(x))}}async delete(e){var s,o,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=aw(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const _=uw(x),b=new dg;return Object.assign(b,_),b})}else{const m=lw(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const _=rw(x),b=new dg;return Object.assign(b,_),b})}}async countTokens(e){var s,o,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=iw(this.apiClient,e);return h=te("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const _=ow(x),b=new fg;return Object.assign(b,_),b})}else{const m=nw(this.apiClient,e);return h=te("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const _=sw(x),b=new fg;return Object.assign(b,_),b})}}async computeTokens(e){var s,o;let a,u="",d={};if(this.apiClient.isVertexAI()){const h=KE(this.apiClient,e);return u=te("{model}:computeTokens",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:y.headers},x})),a.then(y=>{const m=XE(y),x=new ES;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var s,o,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=Gw(this.apiClient,e);return h=te("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),d.then(x=>{const _=Lw(x),b=new ma;return Object.assign(b,_),b})}else{const m=Pw(this.apiClient,e);return h=te("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),d.then(x=>{const _=Uw(x),b=new ma;return Object.assign(b,_),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TN extends En{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const s=e.operation,o=e.config;if(s.name===void 0||s.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=s.name.split("/operations/")[0];let u;o&&"httpOptions"in o&&(u=o.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:s.name,resourceName:a,config:{httpOptions:u}});return s._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:s.name,config:o});return s._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const s=e.operation,o=e.config;if(s.name===void 0||s.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=s.name.split("/operations/")[0];let u;o&&"httpOptions"in o&&(u=o.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:s.name,resourceName:a,config:{httpOptions:u}});return s._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:s.name,config:o});return s._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var s,o,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=pS(e);return h=te("{operationName}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),d}else{const m=hS(e);return h=te("{operationName}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),d}}async fetchPredictVideosOperationInternal(e){var s,o;let a,u="",d={};if(this.apiClient.isVertexAI()){const h=lS(e);return u=te("{resourceName}:fetchPredictOperation",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EN(n){const e={},s=c(n,["data"]);if(s!=null&&f(e,["data"],s),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function wN(n){const e={},s=c(n,["parts"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>UN(u))),f(e,["parts"],a)}const o=c(n,["role"]);return o!=null&&f(e,["role"],o),e}function NN(n,e,s){const o={},a=c(e,["expireTime"]);s!==void 0&&a!=null&&f(s,["expireTime"],a);const u=c(e,["newSessionExpireTime"]);s!==void 0&&u!=null&&f(s,["newSessionExpireTime"],u);const d=c(e,["uses"]);s!==void 0&&d!=null&&f(s,["uses"],d);const h=c(e,["liveConnectConstraints"]);s!==void 0&&h!=null&&f(s,["bidiGenerateContentSetup"],DN(n,h));const y=c(e,["lockAdditionalFields"]);return s!==void 0&&y!=null&&f(s,["fieldMask"],y),o}function CN(n,e){const s={},o=c(e,["config"]);return o!=null&&f(s,["config"],NN(n,o,s)),s}function AN(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["fileUri"]);s!=null&&f(e,["fileUri"],s);const o=c(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function kN(n){const e={},s=c(n,["id"]);s!=null&&f(e,["id"],s);const o=c(n,["args"]);o!=null&&f(e,["args"],o);const a=c(n,["name"]);if(a!=null&&f(e,["name"],a),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function RN(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=c(n,["enableWidget"]);return s!=null&&f(e,["enableWidget"],s),e}function MN(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=c(n,["timeRangeFilter"]);return s!=null&&f(e,["timeRangeFilter"],s),e}function IN(n,e){const s={},o=c(n,["generationConfig"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig"],o);const a=c(n,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const u=c(n,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const x=c(n,["seed"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","seed"],x);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],qc(_));const b=c(n,["thinkingConfig"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","thinkingConfig"],b);const E=c(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],E);const M=c(n,["systemInstruction"]);e!==void 0&&M!=null&&f(e,["setup","systemInstruction"],wN(ct(M)));const R=c(n,["tools"]);if(e!==void 0&&R!=null){let Q=Rs(R);Array.isArray(Q)&&(Q=Q.map(w=>PN(ks(w)))),f(e,["setup","tools"],Q)}const A=c(n,["sessionResumption"]);e!==void 0&&A!=null&&f(e,["setup","sessionResumption"],LN(A));const V=c(n,["inputAudioTranscription"]);e!==void 0&&V!=null&&f(e,["setup","inputAudioTranscription"],V);const Y=c(n,["outputAudioTranscription"]);e!==void 0&&Y!=null&&f(e,["setup","outputAudioTranscription"],Y);const B=c(n,["realtimeInputConfig"]);e!==void 0&&B!=null&&f(e,["setup","realtimeInputConfig"],B);const P=c(n,["contextWindowCompression"]);e!==void 0&&P!=null&&f(e,["setup","contextWindowCompression"],P);const Z=c(n,["proactivity"]);if(e!==void 0&&Z!=null&&f(e,["setup","proactivity"],Z),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return s}function DN(n,e){const s={},o=c(e,["model"]);o!=null&&f(s,["setup","model"],Re(n,o));const a=c(e,["config"]);return a!=null&&f(s,["config"],IN(a,s)),s}function UN(n){const e={},s=c(n,["mediaResolution"]);s!=null&&f(e,["mediaResolution"],s);const o=c(n,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const a=c(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],AN(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],kN(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],EN(y));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const x=c(n,["thought"]);x!=null&&f(e,["thought"],x);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const b=c(n,["videoMetadata"]);return b!=null&&f(e,["videoMetadata"],b),e}function LN(n){const e={},s=c(n,["handle"]);if(s!=null&&f(e,["handle"],s),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function PN(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["computerUse"]);s!=null&&f(e,["computerUse"],s);const o=c(n,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const a=c(n,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(_=>_)),f(e,["functionDeclarations"],x)}const d=c(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],RN(d));const h=c(n,["googleSearch"]);h!=null&&f(e,["googleSearch"],MN(h));const y=c(n,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GN(n){const e=[];for(const s in n)if(Object.prototype.hasOwnProperty.call(n,s)){const o=n[s];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const a=Object.keys(o).map(u=>`${s}.${u}`);e.push(...a)}else e.push(s)}return e.join(",")}function ON(n,e){let s=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const u=o.setup;typeof u=="object"&&u!==null?(n.bidiGenerateContentSetup=u,s=u):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const a=n.fieldMask;if(s){const u=GN(s);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?n.fieldMask=u:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];a.length>0&&(h=a.map(m=>d.includes(m)?`generationConfig.${m}`:m));const y=[];u&&y.push(u),h.length>0&&y.push(...h),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?n.fieldMask=a.join(","):delete n.fieldMask;return n}class HN extends En{constructor(e){super(),this.apiClient=e}async create(e){var s,o;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=CN(this.apiClient,e);u=te("auth_tokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query;const y=ON(h,e.config);return a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qN(n,e){const s={},o=c(n,["force"]);return e!==void 0&&o!=null&&f(e,["_query","force"],o),s}function VN(n){const e={},s=c(n,["name"]);s!=null&&f(e,["_url","name"],s);const o=c(n,["config"]);return o!=null&&qN(o,e),e}function BN(n){const e={},s=c(n,["name"]);return s!=null&&f(e,["_url","name"],s),e}function zN(n,e){const s={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const a=c(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),s}function jN(n){const e={},s=c(n,["parent"]);s!=null&&f(e,["_url","parent"],s);const o=c(n,["config"]);return o!=null&&zN(o,e),e}function FN(n){const e={},s=c(n,["sdkHttpResponse"]);s!=null&&f(e,["sdkHttpResponse"],s);const o=c(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const a=c(n,["documents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $N extends En{constructor(e){super(),this.apiClient=e,this.list=async s=>new Ai(Tn.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:s.parent,config:o.config}),await this.listInternal(s),s)}async get(e){var s,o;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=BN(e);return u=te("{name}",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var s,o;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=VN(e);a=te("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var s,o;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=jN(e);return u=te("{parent}/documents",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>{const m=FN(y),x=new wS;return Object.assign(x,m),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JN extends En{constructor(e,s=new $N(e)){super(),this.apiClient=e,this.documents=s,this.list=async(o={})=>new Ai(Tn.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var s,o;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=G1(e);return u=te("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async get(e){var s,o;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=q1(e);return u=te("{name}",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var s,o;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=H1(e);a=te("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var s,o;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=$1(e);return u=te("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>{const m=J1(y),x=new NS;return Object.assign(x,m),x})}}async uploadToFileSearchStoreInternal(e){var s,o;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Y1(e);return u=te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>{const m=K1(y),x=new CS;return Object.assign(x,m),x})}}async importFile(e){var s,o;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=z1(e);return u=te("{file_search_store_name}:importFile",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>{const m=B1(y),x=new Lc;return Object.assign(x,m),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let F0=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return F0=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),s=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^s()&15>>+o/4).toString(16))};const YN=()=>F0();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _c(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const bc=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ft extends Error{}class ht extends Ft{constructor(e,s,o,a){super(`${ht.makeMessage(e,s,o)}`),this.status=e,this.headers=a,this.error=s}static makeMessage(e,s,o){const a=s!=null&&s.message?typeof s.message=="string"?s.message:JSON.stringify(s.message):s?JSON.stringify(s):o;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,s,o,a){if(!e||!a)return new Ca({message:o,cause:bc(s)});const u=s;return e===400?new J0(e,u,o,a):e===401?new Y0(e,u,o,a):e===403?new K0(e,u,o,a):e===404?new X0(e,u,o,a):e===409?new Q0(e,u,o,a):e===422?new Z0(e,u,o,a):e===429?new W0(e,u,o,a):e>=500?new ey(e,u,o,a):new ht(e,u,o,a)}}class Sc extends ht{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ca extends ht{constructor({message:e,cause:s}){super(void 0,void 0,e||"Connection error.",void 0),s&&(this.cause=s)}}class $0 extends Ca{constructor({message:e}={}){super({message:e??"Request timed out."})}}class J0 extends ht{}class Y0 extends ht{}class K0 extends ht{}class X0 extends ht{}class Q0 extends ht{}class Z0 extends ht{}class W0 extends ht{}class ey extends ht{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KN=/^[a-z][a-z0-9+.-]*:/i,XN=n=>KN.test(n);let Tc=n=>(Tc=Array.isArray,Tc(n));const QN=Tc;let ZN=QN;const Ug=ZN;function WN(n){if(!n)return!0;for(const e in n)return!1;return!0}function eC(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const tC=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Ft(`${n} must be an integer`);if(e<0)throw new Ft(`${n} must be a positive integer`);return e},nC=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iC=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xs="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sC(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const oC=()=>{var n,e,s,o,a;const u=sC();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xs,"X-Stainless-OS":Pg(Deno.build.os),"X-Stainless-Arch":Lg(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xs,"X-Stainless-OS":Pg((s=globalThis.process.platform)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Arch":Lg((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const d=lC();return d?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${d.browser}`,"X-Stainless-Runtime-Version":d.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function lC(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:s}of n){const o=s.exec(navigator.userAgent);if(o){const a=o[1]||0,u=o[2]||0,d=o[3]||0;return{browser:e,version:`${a}.${u}.${d}`}}}return null}const Lg=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",Pg=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let na;const aC=()=>na??(na=oC());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rC(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function ty(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function uC(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return ty({start(){},async pull(s){const{done:o,value:a}=await e.next();o?s.close():s.enqueue(a)},async cancel(){var s;await((s=e.return)===null||s===void 0?void 0:s.call(e))}})}function ny(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const s=await e.read();return s!=null&&s.done&&e.releaseLock(),s}catch(s){throw e.releaseLock(),s}},async return(){const s=e.cancel();return e.releaseLock(),await s,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function cC(n){var e,s;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((s=(e=n[Symbol.asyncIterator]()).return)===null||s===void 0?void 0:s.call(e));return}const o=n.getReader(),a=o.cancel();o.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dC=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iy=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,s=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(s?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function nc(n,e,s){return iy(),new File(n,e??"unknown_file",s)}function fC(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const hC=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sy=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",pC=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&sy(n),mC=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function gC(n,e,s){if(iy(),n=await n,pC(n))return n instanceof File?n:nc([await n.arrayBuffer()],n.name);if(mC(n)){const a=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),nc(await Ec(a),e,s)}const o=await Ec(n);if(e||(e=fC(n)),!(s!=null&&s.type)){const a=o.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof a=="string"&&(s=Object.assign(Object.assign({},s),{type:a}))}return nc(o,e,s)}async function Ec(n){var e,s,o,a,u;let d=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)d.push(n);else if(sy(n))d.push(n instanceof Blob?n:await n.arrayBuffer());else if(hC(n))try{for(var h=!0,y=Zt(n),m;m=await y.next(),e=m.done,!e;h=!0){a=m.value,h=!1;const x=a;d.push(...await Ec(x))}}catch(x){s={error:x}}finally{try{!h&&!e&&(o=y.return)&&await o.call(y)}finally{if(s)throw s.error}}else{const x=(u=n==null?void 0:n.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof n}${x?`; constructor: ${x}`:""}${yC(n)}`)}return d}function yC(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(s=>`"${s}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oy{constructor(e){this._client=e}}oy._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ly(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Gg=Object.freeze(Object.create(null)),vC=(n=ly)=>(function(s,...o){if(s.length===1)return s[0];let a=!1;const u=[],d=s.reduce((x,_,b)=>{var E,M,R;/[?#]/.test(_)&&(a=!0);const A=o[b];let V=(a?encodeURIComponent:n)(""+A);return b!==o.length&&(A==null||typeof A=="object"&&A.toString===((R=Object.getPrototypeOf((M=Object.getPrototypeOf((E=A.hasOwnProperty)!==null&&E!==void 0?E:Gg))!==null&&M!==void 0?M:Gg))===null||R===void 0?void 0:R.toString))&&(V=A+"",u.push({start:x.length+_.length,length:V.length,error:`Value of type ${Object.prototype.toString.call(A).slice(8,-1)} is not a valid path parameter`})),x+_+(b===o.length?"":V)},""),h=d.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=y.exec(h))!==null;)u.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(u.sort((x,_)=>x.start-_.start),u.length>0){let x=0;const _=u.reduce((b,E)=>{const M=" ".repeat(E.start-x),R="^".repeat(E.length);return x=E.start+E.length,b+M+R},"");throw new Ft(`Path parameters result in path with invalid segments:
${u.map(b=>b.error).join(`
`)}
${d}
${_}`)}return d}),ia=vC(ly);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ay extends oy{create(e,s){var o;const{api_version:a=this._client.apiVersion}=e,u=ya(e,["api_version"]);if("model"in u&&"agent_config"in u)throw new Ft("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new Ft("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ia`/${a}/interactions`,Object.assign(Object.assign({body:u},s),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,s={},o){const{api_version:a=this._client.apiVersion}=s??{};return this._client.delete(ia`/${a}/interactions/${e}`,o)}cancel(e,s={},o){const{api_version:a=this._client.apiVersion}=s??{};return this._client.post(ia`/${a}/interactions/${e}/cancel`,o)}get(e,s={},o){var a;const u=s??{},{api_version:d=this._client.apiVersion}=u,h=ya(u,["api_version"]);return this._client.get(ia`/${d}/interactions/${e}`,Object.assign(Object.assign({query:h},o),{stream:(a=s==null?void 0:s.stream)!==null&&a!==void 0?a:!1}))}}ay._key=Object.freeze(["interactions"]);class ry extends ay{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xC(n){let e=0;for(const a of n)e+=a.length;const s=new Uint8Array(e);let o=0;for(const a of n)s.set(a,o),o+=a.length;return s}let sa;function Bc(n){let e;return(sa??(e=new globalThis.TextEncoder,sa=e.encode.bind(e)))(n)}let oa;function Og(n){let e;return(oa??(e=new globalThis.TextDecoder,oa=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Aa{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const s=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Bc(e):e;this.buffer=xC([this.buffer,s]);const o=[];let a;for(;(a=_C(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){o.push(Og(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,d=Og(this.buffer.subarray(0,u));o.push(d),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}Aa.NEWLINE_CHARS=new Set([`
`,"\r"]);Aa.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function _C(n,e){for(let a=e??0;a<n.length;a++){if(n[a]===10)return{preceding:a,index:a+1,carriage:!1};if(n[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function bC(n){for(let o=0;o<n.length-1;o++){if(n[o]===10&&n[o+1]===10||n[o]===13&&n[o+1]===13)return o+2;if(n[o]===13&&n[o+1]===10&&o+3<n.length&&n[o+2]===13&&n[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const va={off:0,error:200,warn:300,info:400,debug:500},Hg=(n,e,s)=>{if(n){if(eC(va,n))return n;ft(s).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(va))}`)}};function Io(){}function la(n,e,s){return!e||va[n]>va[s]?Io:e[n].bind(e)}const SC={error:Io,warn:Io,info:Io,debug:Io};let qg=new WeakMap;function ft(n){var e;const s=n.logger,o=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!s)return SC;const a=qg.get(s);if(a&&a[0]===o)return a[1];const u={error:la("error",s,o),warn:la("warn",s,o),info:la("info",s,o),debug:la("debug",s,o)};return qg.set(s,[o,u]),u}const Ti=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,s])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":s]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ts{constructor(e,s,o){this.iterator=e,this.controller=s,this.client=o}static fromSSEResponse(e,s,o){let a=!1;const u=o?ft(o):console;function d(){return Qt(this,arguments,function*(){var y,m,x,_;if(a)throw new Ft("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let b=!1;try{try{for(var E=!0,M=Zt(TC(e,s)),R;R=yield ge(M.next()),y=R.done,!y;E=!0){_=R.value,E=!1;const A=_;if(!b)if(A.data.startsWith("[DONE]")){b=!0;continue}else try{yield yield ge(JSON.parse(A.data))}catch(V){throw u.error("Could not parse message into JSON:",A.data),u.error("From chunk:",A.raw),V}}}catch(A){m={error:A}}finally{try{!E&&!y&&(x=M.return)&&(yield ge(x.call(M)))}finally{if(m)throw m.error}}b=!0}catch(A){if(_c(A))return yield ge(void 0);throw A}finally{b||s.abort()}})}return new Ts(d,s,o)}static fromReadableStream(e,s,o){let a=!1;function u(){return Qt(this,arguments,function*(){var y,m,x,_;const b=new Aa,E=ny(e);try{for(var M=!0,R=Zt(E),A;A=yield ge(R.next()),y=A.done,!y;M=!0){_=A.value,M=!1;const V=_;for(const Y of b.decode(V))yield yield ge(Y)}}catch(V){m={error:V}}finally{try{!M&&!y&&(x=R.return)&&(yield ge(x.call(R)))}finally{if(m)throw m.error}}for(const V of b.flush())yield yield ge(V)})}function d(){return Qt(this,arguments,function*(){var y,m,x,_;if(a)throw new Ft("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let b=!1;try{try{for(var E=!0,M=Zt(u()),R;R=yield ge(M.next()),y=R.done,!y;E=!0){_=R.value,E=!1;const A=_;b||A&&(yield yield ge(JSON.parse(A)))}}catch(A){m={error:A}}finally{try{!E&&!y&&(x=M.return)&&(yield ge(x.call(M)))}finally{if(m)throw m.error}}b=!0}catch(A){if(_c(A))return yield ge(void 0);throw A}finally{b||s.abort()}})}return new Ts(d,s,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],s=[],o=this.iterator(),a=u=>({next:()=>{if(u.length===0){const d=o.next();e.push(d),s.push(d)}return u.shift()}});return[new Ts(()=>a(e),this.controller,this.client),new Ts(()=>a(s),this.controller,this.client)]}toReadableStream(){const e=this;let s;return ty({async start(){s=e[Symbol.asyncIterator]()},async pull(o){try{const{value:a,done:u}=await s.next();if(u)return o.close();const d=Bc(JSON.stringify(a)+`
`);o.enqueue(d)}catch(a){o.error(a)}},async cancel(){var o;await((o=s.return)===null||o===void 0?void 0:o.call(s))}})}}function TC(n,e){return Qt(this,arguments,function*(){var o,a,u,d;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ft("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ft("Attempted to iterate over a response with no body");const h=new wC,y=new Aa,m=ny(n.body);try{for(var x=!0,_=Zt(EC(m)),b;b=yield ge(_.next()),o=b.done,!o;x=!0){d=b.value,x=!1;const E=d;for(const M of y.decode(E)){const R=h.decode(M);R&&(yield yield ge(R))}}}catch(E){a={error:E}}finally{try{!x&&!o&&(u=_.return)&&(yield ge(u.call(_)))}finally{if(a)throw a.error}}for(const E of y.flush()){const M=h.decode(E);M&&(yield yield ge(M))}})}function EC(n){return Qt(this,arguments,function*(){var s,o,a,u;let d=new Uint8Array;try{for(var h=!0,y=Zt(n),m;m=yield ge(y.next()),s=m.done,!s;h=!0){u=m.value,h=!1;const x=u;if(x==null)continue;const _=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?Bc(x):x;let b=new Uint8Array(d.length+_.length);b.set(d),b.set(_,d.length),d=b;let E;for(;(E=bC(d))!==-1;)yield yield ge(d.slice(0,E)),d=d.slice(E)}}catch(x){o={error:x}}finally{try{!h&&!s&&(a=y.return)&&(yield ge(a.call(y)))}finally{if(o)throw o.error}}d.length>0&&(yield yield ge(d))})}class wC{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[s,o,a]=NC(e,":");return a.startsWith(" ")&&(a=a.substring(1)),s==="event"?this.event=a:s==="data"&&this.data.push(a),null}}function NC(n,e){const s=n.indexOf(e);return s!==-1?[n.substring(0,s),e,n.substring(s+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function CC(n,e){const{response:s,requestLogID:o,retryOfRequestLogID:a,startTime:u}=e,d=await(async()=>{var h;if(e.options.stream)return ft(n).debug("response",s.status,s.url,s.headers,s.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(s,e.controller,n):Ts.fromSSEResponse(s,e.controller,n);if(s.status===204)return null;if(e.options.__binaryResponse)return s;const y=s.headers.get("content-type"),m=(h=y==null?void 0:y.split(";")[0])===null||h===void 0?void 0:h.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await s.json():await s.text()})();return ft(n).debug(`[${o}] response parsed`,Ti({retryOfRequestLogID:a,url:s.url,status:s.status,body:d,durationMs:Date.now()-u})),d}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zc extends Promise{constructor(e,s,o=CC){super(a=>{a(null)}),this.responsePromise=s,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new zc(this.client,this.responsePromise,async(s,o)=>e(await this.parseResponse(s,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,s]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:s}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,s){return this.parse().then(e,s)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uy=Symbol("brand.privateNullableHeaders");function*AC(n){if(!n)return;if(uy in n){const{values:o,nulls:a}=n;yield*o.entries();for(const u of a)yield[u,null];return}let e=!1,s;n instanceof Headers?s=n.entries():Ug(n)?s=n:(e=!0,s=Object.entries(n??{}));for(let o of s){const a=o[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const u=Ug(o[1])?o[1]:[o[1]];let d=!1;for(const h of u)h!==void 0&&(e&&!d&&(d=!0,yield[a,null]),yield[a,h])}}const Ro=n=>{const e=new Headers,s=new Set;for(const o of n){const a=new Set;for(const[u,d]of AC(o)){const h=u.toLowerCase();a.has(h)||(e.delete(u),a.add(h)),d===null?(e.delete(u),s.add(h)):(e.append(u,d),s.delete(h))}}return{[uy]:!0,values:e,nulls:s}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ic=n=>{var e,s,o,a,u,d;if(typeof globalThis.process<"u")return(o=(s=(e=eS)===null||e===void 0?void 0:e[n])===null||s===void 0?void 0:s.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(d=(u=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||u===void 0?void 0:u.call(a,n))===null||d===void 0?void 0:d.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var cy;class ka{constructor(e){var s,o,a,u,d,h,y,{baseURL:m=ic("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(s=ic("GEMINI_API_KEY"))!==null&&s!==void 0?s:null,apiVersion:_="v1beta"}=e,b=ya(e,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:x,apiVersion:_},b),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(o=E.timeout)!==null&&o!==void 0?o:ka.DEFAULT_TIMEOUT,this.logger=(a=E.logger)!==null&&a!==void 0?a:console;const M="warn";this.logLevel=M,this.logLevel=(d=(u=Hg(E.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:Hg(ic("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&d!==void 0?d:M,this.fetchOptions=E.fetchOptions,this.maxRetries=(h=E.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(y=E.fetch)!==null&&y!==void 0?y:rC(),this.encoder=dC,this._options=E,this.apiKey=x,this.apiVersion=_,this.clientAdapter=E.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:s}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!s.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const s=Ro([e.headers]);if(!(s.values.has("authorization")||s.values.has("x-goog-api-key"))){if(this.apiKey)return Ro([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Ro([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([s,o])=>typeof o<"u").map(([s,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(s)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(s)}=`;throw new Ft(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${xs}`}defaultIdempotencyKey(){return`stainless-node-retry-${YN()}`}makeStatusError(e,s,o,a){return ht.generate(e,s,o,a)}buildURL(e,s,o){const a=!this.baseURLOverridden()&&o||this.baseURL,u=XN(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),d=this.defaultQuery();return WN(d)||(s=Object.assign(Object.assign({},d),s)),typeof s=="object"&&s&&!Array.isArray(s)&&(u.search=this.stringifyQuery(s)),u.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const s=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${s}`}}async prepareRequest(e,{url:s,options:o}){}get(e,s){return this.methodRequest("get",e,s)}post(e,s){return this.methodRequest("post",e,s)}patch(e,s){return this.methodRequest("patch",e,s)}put(e,s){return this.methodRequest("put",e,s)}delete(e,s){return this.methodRequest("delete",e,s)}methodRequest(e,s,o){return this.request(Promise.resolve(o).then(a=>Object.assign({method:e,path:s},a)))}request(e,s=null){return new zc(this,this.makeRequest(e,s,void 0))}async makeRequest(e,s,o){var a,u,d;const h=await e,y=(a=h.maxRetries)!==null&&a!==void 0?a:this.maxRetries;s==null&&(s=y),await this.prepareOptions(h);const{req:m,url:x,timeout:_}=await this.buildRequest(h,{retryCount:y-s});await this.prepareRequest(m,{url:x,options:h});const b="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=o===void 0?"":`, retryOf: ${o}`,M=Date.now();if(ft(this).debug(`[${b}] sending request`,Ti({retryOfRequestLogID:o,method:h.method,url:x,options:h,headers:m.headers})),!((u=h.signal)===null||u===void 0)&&u.aborted)throw new Sc;const R=new AbortController,A=await this.fetchWithTimeout(x,m,_,R).catch(bc),V=Date.now();if(A instanceof globalThis.Error){const B=`retrying, ${s} attempts remaining`;if(!((d=h.signal)===null||d===void 0)&&d.aborted)throw new Sc;const P=_c(A)||/timed? ?out/i.test(String(A)+("cause"in A?String(A.cause):""));if(s)return ft(this).info(`[${b}] connection ${P?"timed out":"failed"} - ${B}`),ft(this).debug(`[${b}] connection ${P?"timed out":"failed"} (${B})`,Ti({retryOfRequestLogID:o,url:x,durationMs:V-M,message:A.message})),this.retryRequest(h,s,o??b);throw ft(this).info(`[${b}] connection ${P?"timed out":"failed"} - error; no more retries left`),ft(this).debug(`[${b}] connection ${P?"timed out":"failed"} (error; no more retries left)`,Ti({retryOfRequestLogID:o,url:x,durationMs:V-M,message:A.message})),P?new $0:new Ca({cause:A})}const Y=`[${b}${E}] ${m.method} ${x} ${A.ok?"succeeded":"failed"} with status ${A.status} in ${V-M}ms`;if(!A.ok){const B=await this.shouldRetry(A);if(s&&B){const k=`retrying, ${s} attempts remaining`;return await cC(A.body),ft(this).info(`${Y} - ${k}`),ft(this).debug(`[${b}] response error (${k})`,Ti({retryOfRequestLogID:o,url:A.url,status:A.status,headers:A.headers,durationMs:V-M})),this.retryRequest(h,s,o??b,A.headers)}const P=B?"error; no more retries left":"error; not retryable";ft(this).info(`${Y} - ${P}`);const Z=await A.text().catch(k=>bc(k).message),Q=nC(Z),w=Q?void 0:Z;throw ft(this).debug(`[${b}] response error (${P})`,Ti({retryOfRequestLogID:o,url:A.url,status:A.status,headers:A.headers,message:w,durationMs:Date.now()-M})),this.makeStatusError(A.status,Q,w,A.headers)}return ft(this).info(Y),ft(this).debug(`[${b}] response start`,Ti({retryOfRequestLogID:o,url:A.url,status:A.status,headers:A.headers,durationMs:V-M})),{response:A,options:h,controller:R,requestLogID:b,retryOfRequestLogID:o,startTime:M}}async fetchWithTimeout(e,s,o,a){const u=s||{},{signal:d,method:h}=u,y=ya(u,["signal","method"]);d&&d.addEventListener("abort",()=>a.abort());const m=setTimeout(()=>a.abort(),o),x=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,_=Object.assign(Object.assign(Object.assign({signal:a.signal},x?{duplex:"half"}:{}),{method:"GET"}),y);h&&(_.method=h.toUpperCase());try{return await this.fetch.call(void 0,e,_)}finally{clearTimeout(m)}}async shouldRetry(e){const s=e.headers.get("x-should-retry");return s==="true"?!0:s==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,s,o,a){var u;let d;const h=a==null?void 0:a.get("retry-after-ms");if(h){const m=parseFloat(h);Number.isNaN(m)||(d=m)}const y=a==null?void 0:a.get("retry-after");if(y&&!d){const m=parseFloat(y);Number.isNaN(m)?d=Date.parse(y)-Date.now():d=m*1e3}if(!(d&&0<=d&&d<60*1e3)){const m=(u=e.maxRetries)!==null&&u!==void 0?u:this.maxRetries;d=this.calculateDefaultRetryTimeoutMillis(s,m)}return await iC(d),this.makeRequest(e,s-1,o)}calculateDefaultRetryTimeoutMillis(e,s){const u=s-e,d=Math.min(.5*Math.pow(2,u),8),h=1-Math.random()*.25;return d*h*1e3}async buildRequest(e,{retryCount:s=0}={}){var o,a,u;const d=Object.assign({},e),{method:h,path:y,query:m,defaultBaseURL:x}=d,_=this.buildURL(y,m,x);"timeout"in d&&tC("timeout",d.timeout),d.timeout=(o=d.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:b,body:E}=this.buildBody({options:d}),M=await this.buildHeaders({options:e,method:h,bodyHeaders:b,retryCount:s});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:M},d.signal&&{signal:d.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(u=d.fetchOptions)!==null&&u!==void 0?u:{}),url:_,timeout:d.timeout}}async buildHeaders({options:e,method:s,bodyHeaders:o,retryCount:a}){let u={};this.idempotencyHeader&&s!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const d=await this.authHeaders(e);let h=Ro([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),aC()),this._options.defaultHeaders,o,e.headers,d]);return this.validateHeaders(h),h.values}buildBody({options:{body:e,headers:s}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=Ro([s]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:uC(e)}:this.encoder({body:e,headers:o})}}ka.DEFAULT_TIMEOUT=6e4;class nt extends ka{constructor(){super(...arguments),this.interactions=new ry(this)}}cy=nt;nt.GeminiNextGenAPIClient=cy;nt.GeminiNextGenAPIClientError=Ft;nt.APIError=ht;nt.APIConnectionError=Ca;nt.APIConnectionTimeoutError=$0;nt.APIUserAbortError=Sc;nt.NotFoundError=X0;nt.ConflictError=Q0;nt.RateLimitError=W0;nt.BadRequestError=J0;nt.AuthenticationError=Y0;nt.InternalServerError=ey;nt.PermissionDeniedError=K0;nt.UnprocessableEntityError=Z0;nt.toFile=gC;nt.Interactions=ry;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kC(n,e){const s={},o=c(n,["name"]);return o!=null&&f(s,["_url","name"],o),s}function RC(n,e){const s={},o=c(n,["name"]);return o!=null&&f(s,["_url","name"],o),s}function MC(n,e){const s={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(s,["sdkHttpResponse"],o),s}function IC(n,e){const s={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(s,["sdkHttpResponse"],o),s}function DC(n,e,s){const o={};if(c(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=c(n,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&f(e,["displayName"],a),c(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(n,["epochCount"]);e!==void 0&&u!=null&&f(e,["tuningTask","hyperparameters","epochCount"],u);const d=c(n,["learningRateMultiplier"]);if(d!=null&&f(o,["tuningTask","hyperparameters","learningRateMultiplier"],d),c(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=c(n,["batchSize"]);e!==void 0&&h!=null&&f(e,["tuningTask","hyperparameters","batchSize"],h);const y=c(n,["learningRate"]);if(e!==void 0&&y!=null&&f(e,["tuningTask","hyperparameters","learningRate"],y),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function UC(n,e,s){const o={};let a=c(s,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const E=c(n,["validationDataset"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec"],Vg(E))}else if(a==="PREFERENCE_TUNING"){const E=c(n,["validationDataset"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec"],Vg(E))}const u=c(n,["tunedModelDisplayName"]);e!==void 0&&u!=null&&f(e,["tunedModelDisplayName"],u);const d=c(n,["description"]);e!==void 0&&d!=null&&f(e,["description"],d);let h=c(s,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const E=c(n,["epochCount"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(h==="PREFERENCE_TUNING"){const E=c(n,["epochCount"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let y=c(s,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const E=c(n,["learningRateMultiplier"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(y==="PREFERENCE_TUNING"){const E=c(n,["learningRateMultiplier"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let m=c(s,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const E=c(n,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(m==="PREFERENCE_TUNING"){const E=c(n,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let x=c(s,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const E=c(n,["adapterSize"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(x==="PREFERENCE_TUNING"){const E=c(n,["adapterSize"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(c(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=c(n,["labels"]);e!==void 0&&_!=null&&f(e,["labels"],_);const b=c(n,["beta"]);return e!==void 0&&b!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],b),o}function LC(n,e){const s={},o=c(n,["baseModel"]);o!=null&&f(s,["baseModel"],o);const a=c(n,["preTunedModel"]);a!=null&&f(s,["preTunedModel"],a);const u=c(n,["trainingDataset"]);u!=null&&$C(u);const d=c(n,["config"]);return d!=null&&DC(d,s),s}function PC(n,e){const s={},o=c(n,["baseModel"]);o!=null&&f(s,["baseModel"],o);const a=c(n,["preTunedModel"]);a!=null&&f(s,["preTunedModel"],a);const u=c(n,["trainingDataset"]);u!=null&&JC(u,s,e);const d=c(n,["config"]);return d!=null&&UC(d,s,e),s}function GC(n,e){const s={},o=c(n,["name"]);return o!=null&&f(s,["_url","name"],o),s}function OC(n,e){const s={},o=c(n,["name"]);return o!=null&&f(s,["_url","name"],o),s}function HC(n,e,s){const o={},a=c(n,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&f(e,["_query","pageToken"],u);const d=c(n,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),o}function qC(n,e,s){const o={},a=c(n,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&f(e,["_query","pageToken"],u);const d=c(n,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),o}function VC(n,e){const s={},o=c(n,["config"]);return o!=null&&HC(o,s),s}function BC(n,e){const s={},o=c(n,["config"]);return o!=null&&qC(o,s),s}function zC(n,e){const s={},o=c(n,["sdkHttpResponse"]);o!=null&&f(s,["sdkHttpResponse"],o);const a=c(n,["nextPageToken"]);a!=null&&f(s,["nextPageToken"],a);const u=c(n,["tunedModels"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>dy(h))),f(s,["tuningJobs"],d)}return s}function jC(n,e){const s={},o=c(n,["sdkHttpResponse"]);o!=null&&f(s,["sdkHttpResponse"],o);const a=c(n,["nextPageToken"]);a!=null&&f(s,["nextPageToken"],a);const u=c(n,["tuningJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>wc(h))),f(s,["tuningJobs"],d)}return s}function FC(n,e){const s={},o=c(n,["name"]);o!=null&&f(s,["model"],o);const a=c(n,["name"]);return a!=null&&f(s,["endpoint"],a),s}function $C(n,e){const s={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=c(n,["examples"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),f(s,["examples","examples"],a)}return s}function JC(n,e,s){const o={};let a=c(s,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const d=c(n,["gcsUri"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(a==="PREFERENCE_TUNING"){const d=c(n,["gcsUri"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}let u=c(s,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const d=c(n,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(u==="PREFERENCE_TUNING"){const d=c(n,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}if(c(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function dy(n,e){const s={},o=c(n,["sdkHttpResponse"]);o!=null&&f(s,["sdkHttpResponse"],o);const a=c(n,["name"]);a!=null&&f(s,["name"],a);const u=c(n,["state"]);u!=null&&f(s,["state"],C0(u));const d=c(n,["createTime"]);d!=null&&f(s,["createTime"],d);const h=c(n,["tuningTask","startTime"]);h!=null&&f(s,["startTime"],h);const y=c(n,["tuningTask","completeTime"]);y!=null&&f(s,["endTime"],y);const m=c(n,["updateTime"]);m!=null&&f(s,["updateTime"],m);const x=c(n,["description"]);x!=null&&f(s,["description"],x);const _=c(n,["baseModel"]);_!=null&&f(s,["baseModel"],_);const b=c(n,["_self"]);return b!=null&&f(s,["tunedModel"],FC(b)),s}function wc(n,e){const s={},o=c(n,["sdkHttpResponse"]);o!=null&&f(s,["sdkHttpResponse"],o);const a=c(n,["name"]);a!=null&&f(s,["name"],a);const u=c(n,["state"]);u!=null&&f(s,["state"],C0(u));const d=c(n,["createTime"]);d!=null&&f(s,["createTime"],d);const h=c(n,["startTime"]);h!=null&&f(s,["startTime"],h);const y=c(n,["endTime"]);y!=null&&f(s,["endTime"],y);const m=c(n,["updateTime"]);m!=null&&f(s,["updateTime"],m);const x=c(n,["error"]);x!=null&&f(s,["error"],x);const _=c(n,["description"]);_!=null&&f(s,["description"],_);const b=c(n,["baseModel"]);b!=null&&f(s,["baseModel"],b);const E=c(n,["tunedModel"]);E!=null&&f(s,["tunedModel"],E);const M=c(n,["preTunedModel"]);M!=null&&f(s,["preTunedModel"],M);const R=c(n,["supervisedTuningSpec"]);R!=null&&f(s,["supervisedTuningSpec"],R);const A=c(n,["preferenceOptimizationSpec"]);A!=null&&f(s,["preferenceOptimizationSpec"],A);const V=c(n,["tuningDataStats"]);V!=null&&f(s,["tuningDataStats"],V);const Y=c(n,["encryptionSpec"]);Y!=null&&f(s,["encryptionSpec"],Y);const B=c(n,["partnerModelTuningSpec"]);B!=null&&f(s,["partnerModelTuningSpec"],B);const P=c(n,["customBaseModel"]);P!=null&&f(s,["customBaseModel"],P);const Z=c(n,["experiment"]);Z!=null&&f(s,["experiment"],Z);const Q=c(n,["labels"]);Q!=null&&f(s,["labels"],Q);const w=c(n,["outputUri"]);w!=null&&f(s,["outputUri"],w);const G=c(n,["pipelineJob"]);G!=null&&f(s,["pipelineJob"],G);const k=c(n,["serviceAccount"]);k!=null&&f(s,["serviceAccount"],k);const X=c(n,["tunedModelDisplayName"]);X!=null&&f(s,["tunedModelDisplayName"],X);const ne=c(n,["veoTuningSpec"]);return ne!=null&&f(s,["veoTuningSpec"],ne),s}function YC(n,e){const s={},o=c(n,["sdkHttpResponse"]);o!=null&&f(s,["sdkHttpResponse"],o);const a=c(n,["name"]);a!=null&&f(s,["name"],a);const u=c(n,["metadata"]);u!=null&&f(s,["metadata"],u);const d=c(n,["done"]);d!=null&&f(s,["done"],d);const h=c(n,["error"]);return h!=null&&f(s,["error"],h),s}function Vg(n,e){const s={},o=c(n,["gcsUri"]);o!=null&&f(s,["validationDatasetUri"],o);const a=c(n,["vertexDatasetResource"]);return a!=null&&f(s,["validationDatasetUri"],a),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KC extends En{constructor(e){super(),this.apiClient=e,this.list=async(s={})=>new Ai(Tn.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(s),s),this.get=async s=>await this.getInternal(s),this.tune=async s=>{var o;if(this.apiClient.isVertexAI())if(s.baseModel.startsWith("projects/")){const a={tunedModelName:s.baseModel};!((o=s.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(a.checkpointId=s.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},s),{preTunedModel:a});return u.baseModel=void 0,await this.tuneInternal(u)}else{const a=Object.assign({},s);return await this.tuneInternal(a)}else{const a=Object.assign({},s),u=await this.tuneMldevInternal(a);let d="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?d=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(d=u.name.split("/operations/")[0]),{name:d,state:hc.JOB_STATE_QUEUED}}}}async getInternal(e){var s,o,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=OC(e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>wc(x))}else{const m=GC(e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>dy(x))}}async listInternal(e){var s,o,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=BC(e);return h=te("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const _=jC(x),b=new hg;return Object.assign(b,_),b})}else{const m=VC(e);return h=te("tunedModels",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const _=zC(x),b=new hg;return Object.assign(b,_),b})}}async cancel(e){var s,o,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=RC(e);return h=te("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const _=IC(x),b=new pg;return Object.assign(b,_),b})}else{const m=kC(e);return h=te("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const _=MC(x),b=new pg;return Object.assign(b,_),b})}}async tuneInternal(e){var s,o;let a,u="",d={};if(this.apiClient.isVertexAI()){const h=PC(e,e);return u=te("tuningJobs",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:y.headers},x})),a.then(y=>wc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var s,o;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=LC(e);return u=te("tunedModels",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:y.headers},x})),a.then(y=>YC(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XC{async download(e,s){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const QC=1024*1024*8,ZC=3,WC=1e3,eA=2,xa="x-goog-upload-status";async function tA(n,e,s){var o;const a=await fy(n,e,s),u=await(a==null?void 0:a.json());if(((o=a==null?void 0:a.headers)===null||o===void 0?void 0:o[xa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function nA(n,e,s){var o;const a=await fy(n,e,s),u=await(a==null?void 0:a.json());if(((o=a==null?void 0:a.headers)===null||o===void 0?void 0:o[xa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=b0(u),h=new Pc;return Object.assign(h,d),h}async function fy(n,e,s){var o,a;let u=0,d=0,h=new pc(new Response),y="upload";for(u=n.size;d<u;){const m=Math.min(QC,u-d),x=n.slice(d,d+m);d+m>=u&&(y+=", finalize");let _=0,b=WC;for(;_<ZC&&(h=await s.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(d),"Content-Length":String(m)}}}),!(!((o=h==null?void 0:h.headers)===null||o===void 0)&&o[xa]));)_++,await sA(b),b=b*eA;if(d+=m,((a=h==null?void 0:h.headers)===null||a===void 0?void 0:a[xa])!=="active")break;if(u<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function iA(n){return{size:n.size,type:n.type}}function sA(n){return new Promise(e=>setTimeout(e,n))}class oA{async upload(e,s,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tA(e,s,o)}async uploadToFileSearchStore(e,s,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nA(e,s,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await iA(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lA{create(e,s,o){return new aA(e,s,o)}}class aA{constructor(e,s,o){this.url=e,this.headers=s,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bg="x-goog-api-key";class rA{constructor(e){this.apiKey=e}async addAuthHeaders(e,s){if(e.get(Bg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Bg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uA="gl-node/";class cA{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const s=new nt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=s.interactions,this._interactions}constructor(e){var s;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(s=e.vertexai)!==null&&s!==void 0?s:!1,this.apiKey=e.apiKey;const o=sS(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const a=new rA(this.apiKey);this.apiClient=new iN({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:uA+"web",uploader:new oA,downloader:new XC}),this.models=new SN(this.apiClient),this.live=new gN(this.apiClient,a,new lA),this.batches=new DT(this.apiClient),this.chats=new pE(this.models,this.apiClient),this.caches=new dE(this.apiClient),this.files=new EE(this.apiClient),this.operations=new TN(this.apiClient),this.authTokens=new HN(this.apiClient),this.tunings=new KC(this.apiClient),this.fileSearchStores=new JN(this.apiClient)}}const dA=new cA({apiKey:"PLACEHOLDER_API_KEY"}),fA=async n=>{const e=`
    Analyze the following PMS data for Bahia Hurghada and provide a professional business summary.
    Data:
    - Total Apartments: ${n.apartments.length}
    - Total Bookings: ${n.bookings.length}
    - Total Customers: ${n.customers.length}
    - Current Active Bookings: ${n.bookings.filter(s=>s.status==="confirmed").length}
    
    Recent Bookings Details (Sample): ${JSON.stringify(n.bookings.slice(-5))}

    Please provide:
    1. A short summary of the current occupancy.
    2. Revenue insights.
    3. Suggestions for improvements based on these numbers.
    Keep the response concise and professional in English.
  `;try{return(await dA.models.generateContent({model:"gemini-3-flash-preview",contents:e,config:{thinkingConfig:{thinkingBudget:0}}})).text}catch(s){return console.error("Gemini Error:",s),"Could not generate smart summary at this moment."}},hA=["None","Direct","Booking.com","Airbnb","Agoda","Expedia","WhatsApp"],hy=["Cash","Bank Transfer","Credit Card","Vodafone Cash"],sc=["Sea View","Pool View","Garden View","Street View"],py=["EGP","USD"],bt=50,pA=["Egyptian","Saudi","Emirati","Kuwaiti","Russian","German","British","Italian","French","Polish","Ukrainian","American","Chinese","Other"],mA=({state:n,onAddService:e,onUpdateBooking:s,onOpenDetails:o,onTabChange:a})=>{const[u,d]=oe.useState(null),[h,y]=oe.useState(!1),[m,x]=oe.useState(null),[_,b]=oe.useState("Cash"),[E,M]=oe.useState(!0),R="2026-01-07",A="2026-01-08",V=oe.useMemo(()=>{let w=0,G=0;return n.bookings.forEach(k=>{k.status!=="cancelled"&&k.status!=="maintenance"&&(k.currency==="USD"?G+=k.totalAmount:w+=k.totalAmount)}),{egp:w,usd:G}},[n.bookings]),Y=[{label:"Collected (EGP)",value:`${V.egp.toLocaleString()} EGP`,icon:c0,bg:"bg-slate-900",target:"reports"},{label:"Collected (USD)",value:`${V.usd.toLocaleString()} USD`,icon:m0,bg:"bg-sky-600",target:"reports"},{label:"Occupancy",value:`${n.bookings.filter(w=>w.status==="stay").length}/${n.apartments.length}`,icon:x0,bg:"bg-white",target:"calendar"},{label:"Guest Pool",value:n.customers.length,icon:_0,bg:"bg-white",target:"customers"}],B=oe.useMemo(()=>n.bookings.filter(w=>w.status==="stay"),[n.bookings]),P=oe.useMemo(()=>{const w=[];return n.bookings.filter(G=>G.extraServices&&G.extraServices.length>0).forEach(G=>{var ne,ue;const k=((ne=n.customers.find(ie=>ie.id===G.customerId))==null?void 0:ne.name)||"Guest",X=((ue=n.apartments.find(ie=>ie.id===G.apartmentId))==null?void 0:ue.unitNumber)||"N/A";G.extraServices.forEach(ie=>{w.push({guest:k,room:X,service:ie.name,price:ie.price,currency:G.currency,date:ie.date,isPaid:ie.isPaid,method:ie.paymentMethod})})}),w.sort((G,k)=>new Date(k.date).getTime()-new Date(G.date).getTime()).slice(0,10)},[n.bookings,n.customers,n.apartments]),Z=oe.useMemo(()=>n.bookings.filter(w=>{if(w.status==="cancelled"||w.status==="checked_out"||w.status==="maintenance")return!1;const G=w.startDate===R||w.startDate===A,k=w.endDate===R||w.endDate===A,X=G&&w.status==="confirmed",ne=k&&w.status==="stay";return X||ne}).map(w=>{const G=(w.startDate===R||w.startDate===A)&&w.status==="confirmed"?w.startDate:w.endDate,X=new Date(G).toLocaleDateString("en-US",{weekday:"short"});return{...w,logType:(w.startDate===R||w.startDate===A)&&w.status==="confirmed"?"Arrival":"Departure",displayDate:`${X}, ${G}`}}).sort((w,G)=>w.logType==="Arrival"?-1:1),[n.bookings]),Q=async()=>{y(!0);const w=await fA(n);d(w),y(!1)};return g.jsxs("div",{className:"space-y-12 animate-in fade-in duration-700 pb-20",children:[g.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-end gap-6",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-4xl font-black text-slate-950 tracking-tighter uppercase leading-none",children:"Operations Hub"}),g.jsxs("p",{className:"text-slate-400 mt-3 font-bold text-[10px] flex items-center gap-2 uppercase tracking-[0.4em]",children:[g.jsx(v0,{className:"w-5 h-5 text-sky-600"})," Bahia Hurghada Intelligence"]})]}),g.jsxs("button",{onClick:Q,disabled:h,className:"flex items-center gap-3 bg-slate-900 text-white px-8 py-5 rounded-2xl font-black shadow-2xl hover:bg-black transition-all border-b-8 border-slate-950",children:[h?g.jsx(ba,{className:"w-5 h-5 animate-spin"}):g.jsx(cm,{className:"w-5 h-5 text-sky-400"}),"SMART INSIGHTS"]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:Y.map((w,G)=>g.jsxs("button",{onClick:()=>a==null?void 0:a(w.target),className:`${w.bg} p-8 rounded-[2.5rem] border-2 border-slate-100 shadow-sm group hover:translate-y-[-4px] hover:border-slate-900 transition-all text-left relative overflow-hidden`,children:[g.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center mb-6 shadow-sm ${w.bg==="bg-white"?"bg-slate-50 text-slate-900":"bg-white/10 text-white"}`,children:g.jsx(w.icon,{className:"w-5 h-5"})}),g.jsx("p",{className:`text-[9px] font-black uppercase tracking-widest ${w.bg==="bg-white"?"text-slate-400":"text-white/60"}`,children:w.label}),g.jsx("p",{className:`text-2xl font-black mt-1 tracking-tighter ${w.bg==="bg-white"?"text-slate-900":"text-white"}`,children:w.value}),g.jsx(p_,{className:`absolute top-6 right-6 w-4 h-4 opacity-0 group-hover:opacity-100 transition-all ${w.bg==="bg-white"?"text-slate-900":"text-white"}`})]},G))}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-10",children:[g.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border-2 border-slate-100 shadow-sm",children:[g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsxs("h3",{className:"text-xl font-black text-slate-900 uppercase flex items-center gap-3",children:[g.jsx(_a,{className:"w-6 h-6 text-sky-600"})," Service tracker"]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Quick Boost:"}),g.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 max-w-[300px] scrollbar-hide",children:B.map(w=>{var G;return g.jsxs("button",{onClick:()=>x(w),className:"flex items-center gap-1.5 px-3 py-2 bg-slate-50 text-slate-900 rounded-xl font-black text-[11px] border border-slate-100 hover:bg-slate-900 hover:text-white transition-all shadow-sm group/btn",children:[g.jsx(Ni,{className:"w-3 h-3 group-hover/btn:scale-125 transition-transform"}),g.jsx("span",{children:(G=n.apartments.find(k=>k.id===w.apartmentId))==null?void 0:G.unitNumber})]},w.id)})})]})]}),g.jsx("div",{className:"space-y-4",children:P.length>0?P.map((w,G)=>g.jsxs("div",{className:"flex items-center justify-between p-5 bg-slate-50/50 rounded-2xl border border-slate-100 hover:border-sky-100 transition-all",children:[g.jsxs("div",{className:"flex items-center gap-5",children:[g.jsxs("div",{className:"w-12 h-12 bg-white text-slate-900 border border-slate-100 flex items-center justify-center rounded-xl font-black text-xs shadow-sm",children:["U-",w.room]}),g.jsxs("div",{children:[g.jsxs("p",{className:"font-black text-slate-900 text-sm",children:[w.guest,"  ",w.service]}),g.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[w.date,"  ",w.method]})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:"font-black text-slate-900",children:[w.price.toLocaleString()," ",w.currency]}),g.jsx("span",{className:`text-[8px] font-black uppercase px-2 py-1 rounded-md ${w.isPaid?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600 animate-pulse"}`,children:w.isPaid?"Settled":"Unpaid Folio"})]})]},G)):g.jsx("div",{className:"py-10 text-center text-slate-300 font-black uppercase text-xs tracking-widest",children:"No active requests"})})]}),g.jsxs("div",{className:"bg-slate-900 p-10 rounded-[3rem] shadow-xl text-white relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-sky-500/10 rounded-full blur-3xl"}),g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsxs("h3",{className:"text-xl font-black tracking-tighter uppercase flex items-center gap-3",children:[g.jsx(dc,{className:"w-5 h-5 text-sky-400"})," Next 48H"]}),g.jsxs("span",{className:"bg-white/10 text-[9px] font-black px-4 py-2 rounded-xl border border-white/5",children:[Z.length," ACTIONS"]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Z.map(w=>{const G=n.customers.find(X=>X.id===w.customerId),k=n.apartments.find(X=>X.id===w.apartmentId);return g.jsxs("div",{className:"bg-white/5 p-6 rounded-[2rem] border border-white/10 flex justify-between items-center group hover:bg-white/10 transition-colors",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[8px] font-black uppercase tracking-widest ${w.logType==="Arrival"?"bg-emerald-600":"bg-rose-600"}`,children:w.logType}),g.jsx("span",{className:"text-sky-400 font-black text-[9px] uppercase tracking-widest",children:w.displayDate})]}),g.jsxs("p",{className:"font-black text-base truncate text-white",children:[G==null?void 0:G.name," (Unit ",k==null?void 0:k.unitNumber,")"]})]}),g.jsx("button",{onClick:()=>o(w.id),className:"p-3 bg-white text-slate-900 rounded-xl hover:bg-sky-400 hover:text-white transition-all shadow-lg",children:g.jsx(Ic,{className:"w-4 h-4"})})]},w.id)}),Z.length===0&&g.jsx("p",{className:"col-span-2 text-center py-10 text-slate-600 font-black uppercase text-xs",children:"Clear Schedule"})]})]})]}),g.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border-2 border-slate-100 shadow-sm h-fit",children:[g.jsx("h3",{className:"text-xl font-black text-slate-900 mb-10 uppercase tracking-tighter border-b border-slate-50 pb-6",children:"System Events"}),g.jsx("div",{className:"space-y-6",children:n.bookings.slice(-8).reverse().map((w,G)=>{var X;const k=n.customers.find(ne=>ne.id===w.customerId);return g.jsxs("button",{className:"w-full flex gap-4 border-b border-slate-50 pb-6 last:border-0 group cursor-pointer text-left",onClick:()=>o(w.id),children:[g.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center shrink-0 shadow-sm transition-all group-hover:scale-110 ${w.status==="cancelled"?"bg-rose-50 text-rose-600":w.status==="maintenance"?"bg-rose-600 text-white":"bg-slate-900 text-white"}`,children:g.jsx(E_,{className:"w-5 h-5"})}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("p",{className:"text-base font-black text-slate-900 truncate",children:(k==null?void 0:k.name)||"Technical Block"}),g.jsxs("p",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400 mt-1",children:[w.status,"  Unit ",(X=n.apartments.find(ne=>ne.id===w.apartmentId))==null?void 0:X.unitNumber]})]})]},G)})})]})]}),m&&g.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md z-[300] flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white rounded-[3rem] p-12 max-w-2xl w-full border border-slate-200 shadow-2xl animate-in zoom-in-95",children:[g.jsxs("div",{className:"flex justify-between items-center mb-10",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"p-3 bg-slate-900 text-white rounded-2xl",children:g.jsx(Ni,{className:"w-6 h-6"})}),g.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tighter",children:"Boost Stay Folio"})]}),g.jsx("button",{onClick:()=>x(null),className:"p-3 hover:bg-slate-100 rounded-full transition-colors",children:g.jsx(Ci,{className:"w-8 h-8 text-slate-900"})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-10 bg-slate-50 p-6 rounded-3xl",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Method"}),g.jsx("select",{value:_,onChange:w=>b(w.target.value),className:"w-full p-4 rounded-xl border border-slate-200 bg-white font-black text-sm outline-none",children:hy.map(w=>g.jsx("option",{value:w,children:w},w))})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Immediate Settlement"}),g.jsxs("button",{type:"button",onClick:()=>M(!E),className:`w-full p-4 rounded-xl border flex items-center justify-between font-black uppercase text-[10px] transition-all ${E?"bg-emerald-600 text-white border-emerald-700 shadow-lg":"bg-white text-slate-400 border-slate-200"}`,children:[E?"Settled Cash":"Owed on Checkout",E?g.jsx(h0,{className:"w-4 h-4"}):g.jsx(B_,{className:"w-4 h-4"})]})]})]}),g.jsx("div",{className:"grid grid-cols-1 gap-3 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:n.services.map(w=>g.jsxs("button",{onClick:()=>{e(m.id,w.id,_,E)},className:"w-full flex items-center justify-between p-6 bg-white rounded-2xl border-2 border-slate-50 hover:border-slate-900 transition-all group shadow-sm",children:[g.jsxs("div",{className:"text-left",children:[g.jsx("p",{className:"font-black text-lg text-slate-900",children:w.name}),g.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-1",children:"Amenity Item"})]}),g.jsxs("p",{className:"font-black text-xl text-slate-900",children:[w.price.toLocaleString()," ",g.jsx("span",{className:"text-xs",children:"EGP"})]})]},w.id))}),g.jsx("button",{onClick:()=>x(null),className:"w-full mt-8 py-5 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest hover:bg-black transition-all shadow-xl",children:"Complete Folio Update"})]})}),u&&g.jsxs("div",{className:"bg-sky-50 p-10 rounded-[3rem] border-2 border-sky-100 shadow-sm animate-in slide-in-from-bottom-10",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx(cm,{className:"w-8 h-8 text-sky-600"}),g.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase",children:"Strategic Insight Report"})]}),g.jsx("div",{className:"prose prose-slate max-w-none text-slate-800 font-medium whitespace-pre-wrap leading-relaxed bg-white/50 p-8 rounded-3xl border border-white/50 shadow-inner",children:u}),g.jsx("button",{onClick:()=>d(null),className:"mt-8 text-sky-600 font-black uppercase text-[10px] tracking-widest hover:underline",children:"Dismiss Intelligence Report"})]})]})},gA=({apartments:n,userRole:e,onAdd:s,onUpdate:o,onDelete:a})=>{const[u,d]=oe.useState(!1),[h,y]=oe.useState(!1),[m,x]=oe.useState(null),_=e==="admin",[b,E]=oe.useState({unitNumber:"",floor:0,rooms:1,view:sc[0],dailyPrice:0,monthlyPrice:0,maxDiscount:0,images:[]}),M=P=>{const Z=Math.round(P*30*.9);E(Q=>({...Q,dailyPrice:P,monthlyPrice:Z}))},R=P=>new Promise(Z=>{const Q=new Image;Q.src=P,Q.onload=()=>{const w=document.createElement("canvas"),G=1200,k=800;let X=Q.width,ne=Q.height;X>ne?X>G&&(ne*=G/X,X=G):ne>k&&(X*=k/ne,ne=k),w.width=X,w.height=ne;const ue=w.getContext("2d");ue==null||ue.drawImage(Q,0,0,X,ne),Z(w.toDataURL("image/jpeg",.7))}}),A=async P=>{const Z=P.target.files;if(Z){y(!0);const Q=[];for(const w of Array.from(Z)){const G=new FileReader,k=await new Promise(ne=>{G.onloadend=()=>ne(G.result),G.readAsDataURL(w)}),X=await R(k);Q.push(X)}E(w=>({...w,images:[...w.images,...Q]})),y(!1)}},V=P=>{x(P.id),E({...P}),d(!0)},Y=P=>{P.preventDefault(),!h&&(m?o(m,b):s(b),B())},B=()=>{d(!1),x(null),E({unitNumber:"",floor:0,rooms:1,view:sc[0],dailyPrice:0,monthlyPrice:0,maxDiscount:0,images:[]})};return g.jsxs("div",{className:"space-y-10 pb-32 animate-in slide-in-from-bottom-6 duration-700",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6 bg-white p-10 rounded-[3rem] border-2 border-slate-200 shadow-xl",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-4xl font-black text-slate-950 tracking-tighter uppercase",children:"Units List"}),g.jsx("p",{className:"text-slate-500 font-bold mt-2",children:"Manage the Bahia Hurghada room inventory"})]}),_&&g.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-3 bg-slate-900 text-white px-10 py-5 rounded-[1.5rem] font-black hover:bg-black transition-all shadow-2xl",children:[g.jsx(Ni,{className:"w-7 h-7"})," Add Room"]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:n.map(P=>g.jsxs("div",{className:"bg-white rounded-[3rem] overflow-hidden border-2 border-slate-100 shadow-xl hover:shadow-2xl transition-all group flex flex-col",children:[g.jsxs("div",{className:"relative h-64 bg-slate-50 overflow-hidden",children:[P.images[0]?g.jsx("img",{src:P.images[0],alt:"Room",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-1000"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-200",children:g.jsx(g0,{className:"w-20 h-20 opacity-10"})}),g.jsxs("div",{className:"absolute top-6 left-6 bg-slate-900 text-white px-6 py-3 rounded-2xl shadow-xl flex flex-col items-center",children:[g.jsx("span",{className:"text-[10px] opacity-40 font-black uppercase tracking-widest mb-1",children:"Room"}),g.jsx("span",{className:"text-3xl font-black tracking-tighter",children:P.unitNumber})]})]}),g.jsxs("div",{className:"p-8 flex-1 flex flex-col",children:[g.jsxs("div",{className:"mb-4",children:[g.jsxs("h4",{className:"font-black text-slate-900 text-2xl tracking-tight",children:["Floor ",P.floor,"  ",P.rooms," Beds"]}),g.jsxs("p",{className:"text-sky-600 font-black text-xs uppercase tracking-widest mt-2 flex items-center gap-2",children:[g.jsx(Ic,{className:"w-4 h-4"})," ",P.view]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 border-t border-slate-50 pt-6",children:[g.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl",children:[g.jsx("p",{className:"text-[9px] text-slate-500 font-black uppercase mb-1",children:"Nightly"}),g.jsxs("p",{className:"text-xl font-black text-slate-900",children:[P.dailyPrice.toLocaleString()," ",g.jsx("span",{className:"text-[10px] opacity-40",children:"EGP"})]})]}),g.jsxs("div",{className:"bg-sky-50 p-4 rounded-2xl",children:[g.jsx("p",{className:"text-[9px] text-sky-600 font-black uppercase mb-1",children:"Monthly (Disc.)"}),g.jsxs("p",{className:"text-xl font-black text-sky-950",children:[(P.monthlyPrice||0).toLocaleString()," ",g.jsx("span",{className:"text-[10px] opacity-40",children:"EGP"})]})]})]}),g.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100 flex justify-end items-center gap-3",children:[_&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>V(P),className:"p-3 bg-slate-50 text-slate-900 hover:bg-slate-900 hover:text-white rounded-xl transition-all border-2 border-slate-100",children:g.jsx(Sa,{className:"w-5 h-5"})}),g.jsx("button",{onClick:()=>a(P.id),className:"p-3 bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white rounded-xl transition-all border-2 border-rose-100",children:g.jsx(ei,{className:"w-5 h-5"})})]}),g.jsx("button",{onClick:()=>window.open(`https://wa.me/?text=Room ${P.unitNumber}: ${P.dailyPrice} EGP/Night`,"_blank"),className:"p-3 bg-emerald-50 text-emerald-700 hover:bg-emerald-600 hover:text-white rounded-xl transition-all border-2 border-emerald-100",children:g.jsx(yb,{className:"w-5 h-5"})})]})]})]},P.id))}),u&&_&&g.jsx("div",{className:"fixed inset-0 bg-slate-950/90 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white rounded-[3rem] w-full max-w-4xl shadow-2xl animate-in zoom-in-95 max-h-[95vh] flex flex-col border-4 border-slate-900 overflow-hidden",children:[g.jsxs("div",{className:"p-10 shrink-0 flex justify-between items-center bg-slate-50 border-b border-slate-100",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"p-3 bg-slate-900 rounded-xl text-white",children:g.jsx(Mc,{className:"w-6 h-6"})}),g.jsx("h3",{className:"text-3xl font-black text-slate-900 tracking-tighter uppercase",children:m?"Edit Room":"Add New Room"})]}),g.jsx("button",{onClick:B,className:"p-2 hover:bg-slate-200 rounded-full",children:g.jsx(Ci,{className:"w-8 h-8 text-slate-900"})})]}),g.jsxs("form",{onSubmit:Y,className:"flex-1 overflow-y-auto p-10 space-y-10",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-2",children:"Room Number"}),g.jsx("input",{required:!0,placeholder:"e.g. 101",value:b.unitNumber,onChange:P=>E({...b,unitNumber:P.target.value}),className:"w-full p-4 rounded-xl border-2 border-slate-100 bg-white font-bold text-slate-900"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-2",children:"Floor"}),g.jsx("input",{required:!0,type:"number",value:b.floor||"",onChange:P=>E({...b,floor:Number(P.target.value)}),className:"w-full p-4 rounded-xl border-2 border-slate-100 bg-white font-bold text-slate-900"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-2",children:"Beds"}),g.jsx("input",{required:!0,type:"number",value:b.rooms||"",onChange:P=>E({...b,rooms:Number(P.target.value)}),className:"w-full p-4 rounded-xl border-2 border-slate-100 bg-white font-bold text-slate-900"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-2",children:"View"}),g.jsx("select",{value:b.view,onChange:P=>E({...b,view:P.target.value}),className:"w-full p-4 rounded-xl border-2 border-slate-100 bg-white font-bold text-slate-900",children:sc.map(P=>g.jsx("option",{value:P,children:P},P))})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-2",children:"Price / Night"}),g.jsx("input",{required:!0,type:"number",value:b.dailyPrice||"",onChange:P=>M(Number(P.target.value)),className:"w-full p-4 rounded-xl border-2 border-slate-900 bg-white font-black text-xl text-slate-950"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-2",children:"Price / Month"}),g.jsx("span",{title:"Auto-calculated with 10% discount",children:g.jsx(lb,{className:"w-3 h-3 text-sky-500"})})]}),g.jsx("input",{required:!0,type:"number",value:b.monthlyPrice||"",onChange:P=>E({...b,monthlyPrice:Number(P.target.value)}),className:"w-full p-4 rounded-xl border-2 border-sky-600 bg-sky-50 font-black text-xl text-sky-950"})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-2",children:"Room Photos"}),g.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:A,className:"hidden",id:"apt-photos-input",disabled:h}),g.jsxs("label",{htmlFor:"apt-photos-input",className:`w-full flex flex-col items-center justify-center gap-4 p-10 rounded-[2rem] border-4 border-dashed border-slate-200 bg-slate-50 hover:bg-slate-100 cursor-pointer ${h?"opacity-50 pointer-events-none":""}`,children:[h?g.jsx(ba,{className:"w-10 h-10 animate-spin text-sky-600"}):g.jsx(Ni,{className:"w-10 h-10 text-slate-400"}),g.jsx("p",{className:"font-black text-slate-500 text-sm uppercase tracking-widest",children:"Click to upload images"})]})]}),b.images.length>0&&g.jsx("div",{className:"grid grid-cols-4 gap-4 p-4 bg-slate-50 rounded-2xl border-2 border-slate-100",children:b.images.map((P,Z)=>g.jsxs("div",{className:"relative aspect-video rounded-xl overflow-hidden group",children:[g.jsx("img",{src:P,className:"w-full h-full object-cover"}),g.jsx("button",{type:"button",onClick:()=>E(Q=>({...Q,images:Q.images.filter((w,G)=>G!==Z)})),className:"absolute inset-0 bg-rose-600/80 text-white flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all",children:g.jsx(ei,{className:"w-6 h-6"})})]},Z))}),g.jsx("button",{type:"submit",disabled:h,className:"w-full py-8 bg-slate-900 text-white font-black uppercase tracking-widest rounded-2xl shadow-xl hover:bg-black transition-all",children:m?"Save Room Changes":"Add Room to Inventory"})]})]})})]})},zg=({state:n,onAddBooking:e,onUpdateBooking:s,onCancelBooking:o,onDeleteBooking:a,userRole:u,userName:d,isInternalModalOnly:h,externalModalOpen:y,onExternalModalClose:m,initialSelection:x,initialEditId:_})=>{const[b,E]=oe.useState("all"),[M,R]=oe.useState(!1),[A,V]=oe.useState(!1),[Y,B]=oe.useState(null),[P,Z]=oe.useState(""),[Q,w]=oe.useState(null),G="2026-01-07",[k,X]=oe.useState({apartmentId:"",customerId:"new",newCustomer:{name:"",phone:"",email:"",nationality:"Egyptian"},startDate:G,endDate:"",checkInTime:"14:00",checkOutTime:"12:00",platform:"Direct",paymentMethod:"Cash",currency:"EGP",paidAmount:0,discount:0,commissionAmount:0,commissionPaid:!1,status:"confirmed",notes:"",receptionistName:d,selectedServiceIds:[],extraServices:[]});oe.useEffect(()=>{y?R(!0):h||R(!1)},[y,h]),oe.useEffect(()=>{x&&X(L=>({...L,apartmentId:x.aptId,startDate:x.start,endDate:x.end||x.start}))},[x]),oe.useEffect(()=>{if(_){const L=n.bookings.find(ae=>ae.id===_);L&&D(L)}},[_,n.bookings]);const ne=oe.useMemo(()=>n.apartments.find(L=>L.id===k.apartmentId),[k.apartmentId,n.apartments]),ue=oe.useMemo(()=>k.customerId==="new"?k.newCustomer:n.customers.find(L=>L.id===k.customerId),[k.customerId,k.newCustomer,n.customers]),ie=oe.useMemo(()=>{if(k.status==="maintenance")return{total:0,remaining:0,nights:0,servicesTotal:0,basePrice:0};if(!ne||!k.startDate||!k.endDate)return{total:0,remaining:0,nights:0,servicesTotal:0,basePrice:0};const L=new Date(k.startDate),ae=new Date(k.endDate),C=Math.max(1,Math.ceil((ae.getTime()-L.getTime())/(1e3*60*60*24)));let z=C>=30&&ne.monthlyPrice>0?C/30*ne.monthlyPrice:C*ne.dailyPrice;k.currency==="USD"&&(z=z/bt);const ee=n.services.filter(me=>k.selectedServiceIds.includes(me.id)).reduce((me,_e)=>{let ze=_e.price;return k.currency==="USD"&&(ze=ze/bt),me+ze},0),se=k.extraServices.reduce((me,_e)=>me+_e.price,0),pe=Number((z+ee+se-k.discount).toFixed(2));return{total:pe,remaining:Number((pe-k.paidAmount).toFixed(2)),nights:C,servicesTotal:ee+se,basePrice:z}},[k,ne,n.services]);oe.useEffect(()=>{k.paidAmount>ie.total&&ie.total>0?w(`Paid amount cannot exceed total (${ie.total} ${k.currency})`):w(null)},[k.paidAmount,ie.total,k.currency]);const Ge=L=>{if(L.preventDefault(),Q)return;const{customerId:ae,newCustomer:C,selectedServiceIds:z,extraServices:ee,...se}=k,pe=n.services.filter(_e=>z.includes(_e.id)).map(_e=>{let ze=_e.price;return k.currency==="USD"&&(ze=ze/bt),{id:Math.random().toString(36).substr(2,9),serviceId:_e.id,name:_e.name,price:Number(ze.toFixed(2)),date:G,paymentMethod:k.paymentMethod,isPaid:k.paidAmount>=ie.total}}),me=[...ee,...pe];Y?s(Y,{...se,customerId:ae==="new"?"":ae,services:z,extraServices:me,totalAmount:ie.total,paymentStatus:ie.remaining<=0?"Paid":k.paidAmount>0?"Partial":"Unpaid"}):e({...se,customerId:ae==="new"?"":ae,services:z,bookingDate:G,totalAmount:ie.total,extraServices:me,paymentStatus:ie.remaining<=0?"Paid":k.paidAmount>0?"Partial":"Unpaid"},ae==="new"?C:void 0),W()},W=()=>{R(!1),V(!1),B(null),m==null||m(),X({apartmentId:"",customerId:"new",newCustomer:{name:"",phone:"",email:"",nationality:"Egyptian"},startDate:G,endDate:"",checkInTime:"14:00",checkOutTime:"12:00",platform:"Direct",paymentMethod:"Cash",currency:"EGP",paidAmount:0,discount:0,commissionAmount:0,commissionPaid:!1,status:"confirmed",notes:"",receptionistName:d,selectedServiceIds:[],extraServices:[]})},D=L=>{B(L.id);const ae=n.customers.find(C=>C.id===L.customerId);X({...L,checkInTime:L.checkInTime||"14:00",checkOutTime:L.checkOutTime||"12:00",notes:L.notes||"",newCustomer:ae?{name:ae.name,phone:ae.phone,email:ae.email||"",nationality:ae.nationality}:{name:"",phone:"",email:"",nationality:"Egyptian"},selectedServiceIds:L.services||[],extraServices:L.extraServices||[]}),R(!0)},K=L=>{X(ae=>({...ae,extraServices:ae.extraServices.filter(C=>C.id!==L)}))},re=oe.useMemo(()=>n.bookings.filter(L=>{const ae=n.customers.find(se=>se.id===L.customerId),C=n.apartments.find(se=>se.id===L.apartmentId),z=P===""||(ae==null?void 0:ae.name.toLowerCase().includes(P.toLowerCase()))||(C==null?void 0:C.unitNumber.includes(P)),ee=b==="all"||L.status==="stay";return z&&ee}).sort((L,ae)=>new Date(ae.startDate).getTime()-new Date(L.startDate).getTime()),[n.bookings,P,b,n.customers,n.apartments]);return h&&!M?null:g.jsxs("div",{className:"space-y-10 pb-32",children:[!h&&g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-700",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6 bg-white p-8 rounded-[3rem] border-2 border-slate-100 shadow-sm",children:[g.jsxs("div",{className:"flex bg-slate-50 p-1.5 rounded-2xl border border-slate-200",children:[g.jsx("button",{onClick:()=>E("all"),className:`px-8 py-3 rounded-xl text-xs font-black uppercase transition-all ${b==="all"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:text-slate-900"}`,children:"All Reservations"}),g.jsxs("button",{onClick:()=>E("stay"),className:`px-8 py-3 rounded-xl text-xs font-black uppercase flex items-center gap-2 transition-all ${b==="stay"?"bg-emerald-600 text-white shadow-lg":"text-slate-400 hover:text-emerald-600"}`,children:[g.jsx(ha,{className:"w-4 h-4"})," In-House"]})]}),g.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[g.jsxs("div",{className:"relative flex-1 md:w-80",children:[g.jsx(Ab,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{placeholder:"Search Guest or Unit...",value:P,onChange:L=>Z(L.target.value),className:"w-full pl-12 pr-6 py-4 rounded-2xl border-2 border-slate-200 bg-white font-black text-sm outline-none focus:bg-white focus:border-slate-900 transition-all text-slate-950"})]}),g.jsxs("button",{onClick:()=>R(!0),className:"bg-slate-900 text-white px-8 py-4 rounded-2xl font-black shadow-xl flex items-center gap-3 hover:bg-black transition-all border-b-4 border-slate-950",children:[g.jsx(Ni,{className:"w-6 h-6"})," Create Folio"]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[re.map(L=>{const ae=n.customers.find(z=>z.id===L.customerId),C=n.apartments.find(z=>z.id===L.apartmentId);return g.jsxs("div",{className:`bg-white p-8 rounded-[3rem] border-2 border-slate-100 flex flex-col md:flex-row items-center justify-between hover:border-slate-900 transition-all group shadow-sm ${L.status==="cancelled"?"opacity-50 grayscale":""}`,children:[g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[g.jsx("span",{className:`px-4 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest ${L.status==="stay"?"bg-emerald-600 text-white":L.status==="cancelled"?"bg-rose-100 text-rose-600":"bg-slate-950 text-white"}`,children:L.status}),g.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:["Unit ",C==null?void 0:C.unitNumber]})]}),g.jsx("h4",{className:"text-2xl font-black text-slate-950 tracking-tight",children:(ae==null?void 0:ae.name)||"Technical Block"}),g.jsxs("p",{className:"text-slate-500 font-bold mt-1 text-sm",children:[L.startDate," @ ",L.checkInTime,"  ",L.endDate," @ ",L.checkOutTime]})]}),g.jsxs("div",{className:"flex items-center gap-10 mt-6 md:mt-0",children:[g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Owed"}),g.jsxs("p",{className:"text-2xl font-black text-rose-600",children:[(L.totalAmount-L.paidAmount).toLocaleString()," ",g.jsx("span",{className:"text-xs font-bold",children:L.currency})]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>D(L),className:"p-4 bg-slate-100 text-slate-900 rounded-2xl hover:bg-slate-900 hover:text-white transition-all",children:g.jsx(Sa,{className:"w-5 h-5"})}),g.jsx("button",{onClick:()=>{window.confirm("Delete this reservation?")&&a(L.id)},className:"p-4 bg-rose-50 text-rose-600 rounded-2xl hover:bg-rose-600 hover:text-white transition-all",children:g.jsx(ei,{className:"w-5 h-5"})})]})]})]},L.id)}),re.length===0&&g.jsx("div",{className:"text-center py-24 bg-white rounded-[3rem] border-2 border-dashed border-slate-100 font-black text-slate-300 uppercase tracking-widest",children:"No matching records"})]})]}),M&&g.jsx("div",{className:"fixed inset-0 bg-slate-950/95 backdrop-blur-md z-[250] flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white rounded-[3.5rem] p-0 max-w-7xl w-full shadow-2xl border-4 border-slate-950 overflow-hidden flex flex-col max-h-[95vh] animate-in zoom-in-95",children:[g.jsxs("div",{className:"p-8 border-b-2 border-slate-100 bg-slate-50 flex justify-between items-center shrink-0",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-14 h-14 bg-slate-950 rounded-2xl flex items-center justify-center text-white",children:g.jsx(_a,{className:"w-7 h-7"})}),g.jsx("h3",{className:"text-3xl font-black text-slate-950 tracking-tighter uppercase",children:A?"Guest Invoice View":"Stay Ledger Folio"})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[Y&&!A&&g.jsxs("button",{onClick:()=>V(!0),className:"flex items-center gap-3 bg-amber-500 text-white px-6 py-3 rounded-2xl font-black uppercase text-xs shadow-lg hover:bg-amber-600 transition-all",children:[g.jsx(Z_,{className:"w-5 h-5"})," Generate Invoice"]}),A&&g.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-3 bg-slate-900 text-white px-6 py-3 rounded-2xl font-black uppercase text-xs shadow-lg hover:bg-black transition-all",children:[g.jsx(y0,{className:"w-5 h-5"})," Print / Export PDF"]}),A&&g.jsx("button",{onClick:()=>V(!1),className:"flex items-center gap-3 bg-slate-100 text-slate-900 px-6 py-3 rounded-2xl font-black uppercase text-xs hover:bg-slate-200 transition-all",children:"Back to Folio"}),g.jsx("button",{onClick:W,className:"p-3 hover:bg-slate-200 rounded-full transition-colors",children:g.jsx(Ci,{className:"w-10 h-10 text-slate-950"})})]})]}),A?g.jsxs("div",{className:"flex-1 overflow-y-auto p-20 bg-white selection:bg-amber-200",id:"printable-invoice",children:[g.jsxs("div",{className:"max-w-4xl mx-auto space-y-16",children:[g.jsxs("div",{className:"flex justify-between items-start border-b-4 border-slate-950 pb-10",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-6xl font-black text-slate-950 tracking-tighter",children:["BAHIA",g.jsx("span",{className:"text-sky-600",children:"."})]}),g.jsx("p",{className:"text-xs font-black uppercase tracking-[0.5em] text-slate-400 mt-2",children:"Hurghada Premium Stays"}),g.jsxs("div",{className:"mt-8 space-y-1 text-slate-500 font-bold text-sm",children:[g.jsx("p",{children:"El Gouna Road, Hurghada, Egypt"}),g.jsx("p",{children:"+20 123 456 789"}),g.jsx("p",{children:"reservations@bahiahurghada.com"})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("h2",{className:"text-4xl font-black text-slate-950 uppercase tracking-tighter",children:"Invoice"}),g.jsxs("p",{className:"text-sm font-black text-slate-400 mt-2 uppercase",children:["# INV-",Y==null?void 0:Y.substr(-6).toUpperCase()]}),g.jsxs("div",{className:"mt-10 space-y-1",children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date Issued"}),g.jsx("p",{className:"text-lg font-black text-slate-950 uppercase",children:new Date().toLocaleDateString("en-GB")})]})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-20",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] border-b pb-2",children:"Guest Profile"}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-2xl font-black text-slate-950",children:ue==null?void 0:ue.name}),g.jsx("p",{className:"text-slate-500 font-bold",children:ue==null?void 0:ue.phone}),g.jsx("p",{className:"text-slate-500 font-bold uppercase text-xs",children:ue==null?void 0:ue.nationality})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] border-b pb-2",children:"Stay Details"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase",children:"Unit"}),g.jsxs("p",{className:"font-black text-slate-950",children:["Room ",ne==null?void 0:ne.unitNumber]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase",children:"Nights"}),g.jsxs("p",{className:"font-black text-slate-950",children:[ie.nights," Nights"]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase",children:"Check-In"}),g.jsxs("p",{className:"font-black text-slate-950 text-xs",children:[k.startDate," @ ",k.checkInTime]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase",children:"Check-Out"}),g.jsxs("p",{className:"font-black text-slate-950 text-xs",children:[k.endDate," @ ",k.checkOutTime]})]})]})]})]}),g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-slate-950 text-white text-[10px] font-black uppercase tracking-widest",children:[g.jsx("th",{className:"p-5",children:"Description"}),g.jsx("th",{className:"p-5 text-center",children:"Qty / Nights"}),g.jsx("th",{className:"p-5 text-right",children:"Unit Price"}),g.jsx("th",{className:"p-5 text-right",children:"Total"})]})}),g.jsxs("tbody",{className:"divide-y-2 divide-slate-100",children:[g.jsxs("tr",{children:[g.jsxs("td",{className:"p-6",children:[g.jsxs("p",{className:"font-black text-slate-950",children:["Room Charges (Unit ",ne==null?void 0:ne.unitNumber,")"]}),g.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Base Stay Rate"})]}),g.jsx("td",{className:"p-6 text-center font-black",children:ie.nights}),g.jsx("td",{className:"p-6 text-right font-black",children:(ie.basePrice/ie.nights).toLocaleString()}),g.jsx("td",{className:"p-6 text-right font-black",children:ie.basePrice.toLocaleString()})]}),k.extraServices.map(L=>g.jsxs("tr",{children:[g.jsxs("td",{className:"p-6",children:[g.jsx("p",{className:"font-black text-slate-950",children:L.name}),g.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:["Stay Amenity  ",L.date]})]}),g.jsx("td",{className:"p-6 text-center font-black",children:"1"}),g.jsx("td",{className:"p-6 text-right font-black",children:L.price.toLocaleString()}),g.jsx("td",{className:"p-6 text-right font-black",children:L.price.toLocaleString()})]},L.id))]})]}),g.jsx("div",{className:"flex justify-end pt-10",children:g.jsxs("div",{className:"w-80 space-y-4",children:[g.jsxs("div",{className:"flex justify-between text-slate-500 font-black uppercase text-[10px]",children:[g.jsx("span",{children:"Sub-Total"}),g.jsxs("span",{className:"text-slate-950 text-sm",children:[(ie.basePrice+ie.servicesTotal).toLocaleString()," ",k.currency]})]}),g.jsxs("div",{className:"flex justify-between text-rose-600 font-black uppercase text-[10px]",children:[g.jsx("span",{children:"Discount Given"}),g.jsxs("span",{className:"text-sm",children:["-",k.discount.toLocaleString()," ",k.currency]})]}),g.jsxs("div",{className:"flex justify-between border-t-4 border-slate-950 pt-4 font-black",children:[g.jsx("span",{className:"text-lg uppercase tracking-tighter",children:"Grand Total"}),g.jsxs("span",{className:"text-2xl",children:[ie.total.toLocaleString()," ",k.currency]})]}),g.jsxs("div",{className:"flex justify-between text-emerald-600 font-black uppercase text-[10px] pt-2",children:[g.jsx("span",{children:"Amount Paid"}),g.jsxs("span",{className:"text-sm",children:[k.paidAmount.toLocaleString()," ",k.currency]})]}),g.jsxs("div",{className:`flex justify-between p-4 rounded-xl font-black uppercase text-[10px] ${ie.remaining>0?"bg-rose-50 text-rose-600":"bg-emerald-50 text-emerald-600"}`,children:[g.jsx("span",{children:"Balance Due"}),g.jsxs("span",{className:"text-lg",children:[ie.remaining.toLocaleString()," ",k.currency]})]})]})}),g.jsxs("div",{className:"pt-20 text-center border-t border-slate-100",children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Thank you for choosing Bahia Hurghada"}),g.jsxs("div",{className:"flex justify-center gap-10",children:[g.jsx("div",{className:"h-0.5 w-20 bg-slate-200"}),g.jsx("div",{className:"h-0.5 w-20 bg-slate-200"})]})]})]}),g.jsx("style",{children:`
                    @media print {
                      body * { visibility: hidden; }
                      #printable-invoice, #printable-invoice * { visibility: visible; }
                      #printable-invoice { position: absolute; left: 0; top: 0; width: 100%; padding: 0; margin: 0; }
                    }
                  `})]}):g.jsxs("form",{onSubmit:Ge,className:"flex-1 overflow-y-auto p-12 space-y-12 bg-white",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest ml-1",children:"Operator Name"}),g.jsx("input",{required:!0,value:k.receptionistName,onChange:L=>X({...k,receptionistName:L.target.value}),className:"w-full p-4 rounded-xl border-2 border-slate-100 bg-white text-slate-950 font-black text-lg outline-none focus:border-slate-950"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest ml-1",children:"Platform Source"}),g.jsx("select",{value:k.platform,onChange:L=>X({...k,platform:L.target.value}),className:"w-full p-4 rounded-xl border-2 border-slate-100 bg-white text-slate-950 font-black text-lg outline-none",children:hA.map(L=>g.jsx("option",{value:L,children:L},L))})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest ml-1",children:"Current Status"}),g.jsxs("select",{value:k.status,onChange:L=>X({...k,status:L.target.value}),className:"w-full p-4 rounded-xl border-2 border-slate-100 bg-white text-slate-950 font-black text-lg outline-none",children:[g.jsx("option",{value:"confirmed",children:"Confirmed (Reserved)"}),g.jsx("option",{value:"stay",children:"In-House (Checked-In)"}),g.jsx("option",{value:"checked_out",children:"Checked Out"}),g.jsx("option",{value:"maintenance",children:"Maintenance Block"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest ml-1",children:"Accounting Currency"}),g.jsx("select",{value:k.currency,onChange:L=>X({...k,currency:L.target.value}),className:"w-full p-4 rounded-xl border-2 border-sky-600 bg-sky-50 text-sky-950 font-black text-lg outline-none",children:py.map(L=>g.jsx("option",{value:L,children:L},L))})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[g.jsxs("div",{className:"space-y-10",children:[g.jsxs("section",{className:"bg-slate-50 p-10 rounded-[3rem] border-2 border-slate-100 space-y-8",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h4",{className:"text-xl font-black uppercase text-slate-950 flex items-center gap-3",children:[g.jsx(Jb,{className:"w-6 h-6 text-sky-600"})," Guest Folio"]}),g.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Select existing or create"})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("select",{value:k.customerId,onChange:L=>X({...k,customerId:L.target.value}),className:"w-full p-5 rounded-2xl border-2 border-slate-900 bg-white font-black text-xl shadow-lg text-slate-950",children:[g.jsx("option",{value:"new",children:"+ ADD NEW GUEST TO DIRECTORY"}),n.customers.map(L=>g.jsx("option",{value:L.id,children:L.name},L.id))]}),k.customerId==="new"&&g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in slide-in-from-top-2",children:[g.jsx("input",{required:!0,placeholder:"Guest Full Name",value:k.newCustomer.name,onChange:L=>X({...k,newCustomer:{...k.newCustomer,name:L.target.value}}),className:"w-full p-4 rounded-xl bg-white border-2 border-slate-100 font-bold text-slate-950"}),g.jsx("input",{required:!0,placeholder:"Mobile Phone",value:k.newCustomer.phone,onChange:L=>X({...k,newCustomer:{...k.newCustomer,phone:L.target.value}}),className:"w-full p-4 rounded-xl bg-white border-2 border-slate-100 font-bold text-slate-950"}),g.jsx("input",{placeholder:"Email Address (Optional)",value:k.newCustomer.email,onChange:L=>X({...k,newCustomer:{...k.newCustomer,email:L.target.value}}),className:"col-span-1 md:col-span-2 w-full p-4 rounded-xl bg-white border-2 border-slate-100 font-bold text-slate-950"}),g.jsx("select",{value:k.newCustomer.nationality,onChange:L=>X({...k,newCustomer:{...k.newCustomer,nationality:L.target.value}}),className:"col-span-1 md:col-span-2 w-full p-4 rounded-xl bg-white border-2 border-slate-100 font-bold text-slate-950",children:pA.map(L=>g.jsx("option",{value:L,children:L},L))})]})]})]}),g.jsxs("section",{className:"bg-slate-50 p-10 rounded-[3rem] border-2 border-slate-100 space-y-8",children:[g.jsxs("h4",{className:"text-xl font-black uppercase text-slate-950 flex items-center gap-3",children:[g.jsx(Mc,{className:"w-6 h-6 text-sky-600"})," Room Selection & Schedule"]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("select",{required:!0,value:k.apartmentId,onChange:L=>X({...k,apartmentId:L.target.value}),className:"w-full p-5 rounded-2xl bg-white border-2 border-slate-900 font-black text-2xl shadow-lg text-slate-950 uppercase",children:[g.jsx("option",{value:"",children:"-- SELECT UNIT --"}),n.apartments.map(L=>g.jsxs("option",{value:L.id,children:["APARTMENT ",L.unitNumber," (Floor ",L.floor,")"]},L.id))]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"p-6 bg-white rounded-3xl space-y-4 border-2 border-slate-100",children:[g.jsxs("div",{className:"flex items-center justify-between border-b pb-2",children:[g.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Arrival Schedule"}),g.jsx(dc,{className:"w-4 h-4 text-emerald-500"})]}),g.jsx("input",{type:"date",required:!0,value:k.startDate,onChange:L=>X({...k,startDate:L.target.value}),className:"w-full font-black text-xl outline-none text-slate-950"}),g.jsx("input",{type:"time",required:!0,value:k.checkInTime,onChange:L=>X({...k,checkInTime:L.target.value}),className:"w-full font-black text-lg bg-slate-50 p-3 rounded-xl border border-slate-100 text-slate-950"})]}),g.jsxs("div",{className:"p-6 bg-white rounded-3xl space-y-4 border-2 border-slate-100",children:[g.jsxs("div",{className:"flex items-center justify-between border-b pb-2",children:[g.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Departure Schedule"}),g.jsx(dc,{className:"w-4 h-4 text-rose-500"})]}),g.jsx("input",{type:"date",required:!0,value:k.endDate,min:k.startDate,onChange:L=>X({...k,endDate:L.target.value}),className:"w-full font-black text-xl outline-none text-slate-950"}),g.jsx("input",{type:"time",required:!0,value:k.checkOutTime,onChange:L=>X({...k,checkOutTime:L.target.value}),className:"w-full font-black text-lg bg-slate-50 p-3 rounded-xl border border-slate-100 text-slate-950"})]})]})]})]})]}),g.jsxs("div",{className:"space-y-10",children:[g.jsxs("section",{className:"bg-slate-50 p-10 rounded-[3rem] border-2 border-slate-100 space-y-8",children:[g.jsxs("h4",{className:"text-xl font-black uppercase text-slate-950 flex items-center gap-3",children:[g.jsx(Xb,{className:"w-6 h-6 text-emerald-600"})," Financial Folio"]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"text-[10px] font-black uppercase text-slate-500 ml-1",children:["Paid Amount (",k.currency,")"]}),g.jsx("input",{type:"number",step:"0.01",value:k.paidAmount||"",onChange:L=>X({...k,paidAmount:Number(L.target.value)}),className:`w-full p-5 rounded-2xl bg-white border-2 font-black text-3xl outline-none shadow-sm text-slate-950 ${Q?"border-rose-500 text-rose-600":"border-slate-100 focus:border-emerald-600"}`})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black uppercase text-slate-500 ml-1",children:"Discount Given"}),g.jsx("input",{type:"number",value:k.discount||"",onChange:L=>X({...k,discount:Number(L.target.value)}),className:"w-full p-5 rounded-2xl bg-white border-2 border-slate-100 font-black text-3xl text-rose-600 outline-none shadow-sm"})]})]}),Q&&g.jsx("p",{className:"text-rose-600 text-[10px] font-black uppercase text-center bg-rose-50 py-2 rounded-lg border border-rose-100",children:Q}),g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black uppercase text-slate-500 ml-1",children:"Settlement Method"}),g.jsx("select",{value:k.paymentMethod,onChange:L=>X({...k,paymentMethod:L.target.value}),className:"w-full p-4 rounded-xl border-2 border-slate-100 bg-white font-black text-sm outline-none text-slate-950",children:hy.map(L=>g.jsx("option",{value:L,children:L},L))})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black uppercase text-slate-500 ml-1",children:"Commission Amount"}),g.jsx("input",{type:"number",value:k.commissionAmount||"",onChange:L=>X({...k,commissionAmount:Number(L.target.value)}),className:"w-full p-4 rounded-xl border-2 border-slate-100 bg-white font-black text-xl text-sky-600 outline-none shadow-sm"})]})]})]})]}),g.jsxs("section",{className:"bg-slate-50 p-10 rounded-[3rem] border-2 border-slate-100",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsxs("h4",{className:"text-xl font-black uppercase text-slate-950 flex items-center gap-3",children:[g.jsx(ha,{className:"w-6 h-6 text-sky-600"})," Amenities History"]}),g.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Added Services"})]}),g.jsx("div",{className:"space-y-3 max-h-[250px] overflow-y-auto pr-2 custom-scrollbar mb-8",children:k.extraServices.length>0?k.extraServices.map(L=>g.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-2xl border-2 border-slate-100",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-black text-[11px] text-slate-950 uppercase",children:L.name}),g.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:[L.date,"  ",L.paymentMethod]})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("span",{className:"font-black text-xs text-emerald-600",children:[L.price," ",k.currency]}),g.jsx("button",{type:"button",onClick:()=>K(L.id),className:"p-2 bg-rose-50 text-rose-600 rounded-lg hover:bg-rose-600 hover:text-white transition-all shadow-sm",children:g.jsx(ei,{className:"w-4 h-4"})})]})]},L.id)):g.jsx("div",{className:"text-center py-6 border-2 border-dashed border-slate-200 rounded-2xl text-slate-300 font-black text-[10px] uppercase tracking-widest",children:"No extra services yet"})}),g.jsxs("div",{className:"border-t-2 border-slate-100 pt-6",children:[g.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-4",children:"Add from Catalog"}),g.jsx("div",{className:"grid grid-cols-1 gap-2",children:n.services.map(L=>{let ae=L.price;return k.currency==="USD"&&(ae=ae/bt),g.jsxs("button",{type:"button",onClick:()=>X(C=>({...C,selectedServiceIds:C.selectedServiceIds.includes(L.id)?C.selectedServiceIds.filter(z=>z!==L.id):[...C.selectedServiceIds,L.id]})),className:`flex justify-between items-center p-4 rounded-xl border-2 transition-all group ${k.selectedServiceIds.includes(L.id)?"bg-slate-900 border-slate-950 text-white shadow-lg":"bg-white border-white text-slate-500 hover:border-slate-200"}`,children:[g.jsx("span",{className:"font-black uppercase text-[10px] tracking-widest",children:L.name}),g.jsxs("span",{className:`font-black text-sm ${k.selectedServiceIds.includes(L.id)?"text-sky-400":"text-slate-900"}`,children:[ae.toLocaleString()," ",k.currency]})]},L.id)})})]})]})]})]}),g.jsxs("div",{className:"sticky bottom-0 bg-slate-950 rounded-[4rem] p-12 text-white flex justify-between items-center shadow-2xl border-t-8 border-slate-900",children:[g.jsxs("div",{className:"flex gap-20",children:[g.jsxs("div",{className:"relative",children:[g.jsx("p",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest mb-2",children:"Grand Total Bill"}),g.jsxs("p",{className:"text-6xl font-black tracking-tighter text-white",children:[ie.total.toLocaleString()," ",g.jsx("span",{className:"text-lg font-bold opacity-30 tracking-normal",children:k.currency})]}),g.jsx("div",{className:"absolute -right-4 top-0 w-0.5 h-full bg-white/10"})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black uppercase text-rose-500 tracking-widest mb-2",children:"Outstanding Folio"}),g.jsxs("p",{className:`text-6xl font-black tracking-tighter transition-colors ${ie.remaining>0?"text-rose-500":"text-emerald-500"}`,children:[ie.remaining.toLocaleString()," ",g.jsx("span",{className:"text-lg font-bold opacity-30 tracking-normal",children:k.currency})]})]})]}),g.jsxs("div",{className:"flex gap-6",children:[g.jsx("button",{type:"button",onClick:W,className:"px-12 py-6 bg-white/5 text-white rounded-3xl font-black uppercase tracking-widest text-xs hover:bg-white/10 transition-all border border-white/10",children:"Cancel Folio"}),g.jsxs("button",{type:"submit",disabled:!!Q,className:`bg-white text-slate-950 px-16 py-6 rounded-3xl font-black uppercase text-sm tracking-[0.3em] shadow-2xl flex items-center gap-4 transition-all ${Q?"opacity-50 cursor-not-allowed":"hover:bg-sky-500 hover:text-white"}`,children:[Y?"Finalize Changes":"Commit Stay Record"," ",g.jsx(k_,{className:"w-7 h-7"})]})]})]})]})]})})]})},yA=({apartments:n,bookings:e,onBookingInitiate:s,onEditBooking:o})=>{var Y;const a="2026-01-07",[u,d]=oe.useState(new Date("2026-01-01")),[h,y]=oe.useState({aptId:"",start:null,end:null}),[m,x]=oe.useState(null),_=u.getFullYear(),b=u.getMonth(),E=new Date(_,b+1,0).getDate(),M=Array.from({length:E},(B,P)=>P+1),R=(B,P)=>{const Z=`${_}-${String(b+1).padStart(2,"0")}-${String(P).padStart(2,"0")}`;return e.find(Q=>Q.apartmentId===B&&Q.status!=="cancelled"&&Z>=Q.startDate&&Z<=Q.endDate)},A=(B,P)=>{if(P<a)return;const Z=e.find(Q=>Q.apartmentId===B&&Q.status!=="cancelled"&&P>=Q.startDate&&P<=Q.endDate);if(Z){x(Z.id);return}h.aptId!==B||!h.start||h.start&&h.end?y({aptId:B,start:P,end:null}):P<h.start?y({aptId:B,start:P,end:h.start}):P===h.start?y({aptId:"",start:null,end:null}):y({...h,end:P})},V=e.find(B=>B.id===m);return g.jsxs("div",{className:"bg-white rounded-[3.5rem] border-4 border-slate-900 shadow-2xl overflow-hidden animate-in fade-in duration-700 relative",children:[g.jsxs("div",{className:"p-8 border-b-2 border-slate-50 flex flex-col md:flex-row justify-between items-center gap-6 bg-white sticky left-0 z-40",children:[g.jsxs("div",{className:"flex items-center gap-5",children:[g.jsxs("div",{className:"w-16 h-16 bg-slate-950 rounded-[2rem] flex items-center justify-center text-white shadow-xl relative overflow-hidden",children:[g.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1/3 bg-sky-500/30"}),g.jsx(d0,{className:"w-8 h-8 relative z-10"})]}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-black text-slate-950 tracking-tighter uppercase leading-none",children:"Stay Matrix"}),g.jsx("p",{className:"text-sky-600 font-black text-[10px] uppercase tracking-[0.4em] mt-2",children:u.toLocaleString("default",{month:"long",year:"numeric"})})]})]}),g.jsxs("div",{className:"flex flex-wrap gap-4 bg-slate-50 px-8 py-4 rounded-[2rem] border-2 border-slate-100",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded-full animate-pulse"}),g.jsx("span",{className:"text-[9px] font-black uppercase text-slate-500 tracking-widest",children:"In House"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 bg-rose-600 rounded-full"}),g.jsx("span",{className:"text-[9px] font-black uppercase text-slate-500 tracking-widest",children:"Maintenance"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 bg-slate-700 rounded-full"}),g.jsx("span",{className:"text-[9px] font-black uppercase text-slate-500 tracking-widest",children:"Occupied"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 border-2 border-emerald-400 bg-white rounded-full"}),g.jsx("span",{className:"text-[9px] font-black uppercase text-slate-500 tracking-widest",children:"Available"})]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[h.start&&g.jsx("button",{onClick:()=>{s(h.aptId,h.start,h.end||h.start),y({aptId:"",start:null,end:null})},className:"bg-sky-600 text-white px-8 py-4 rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl hover:bg-sky-500 transition-all border-b-4 border-sky-800 animate-pulse",children:"Confirm Stay"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>d(new Date(_,b-1,1)),className:"p-3 bg-white border-2 border-slate-200 rounded-xl hover:bg-slate-50 transition-colors",children:g.jsx(M_,{className:"w-6 h-6"})}),g.jsx("button",{onClick:()=>d(new Date(_,b+1,1)),className:"p-3 bg-white border-2 border-slate-200 rounded-xl hover:bg-slate-50 transition-colors",children:g.jsx(f0,{className:"w-6 h-6"})})]})]})]}),g.jsx("div",{className:"overflow-x-auto relative custom-scrollbar bg-slate-50/30",children:g.jsxs("table",{className:"w-full border-collapse",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-slate-100/30",children:[g.jsx("th",{className:"sticky left-0 z-30 bg-white px-8 py-8 text-left text-[11px] font-black text-slate-400 border-b-2 border-r-2 border-slate-100 min-w-[200px] uppercase tracking-[0.4em]",children:"Asset/Room"}),M.map(B=>{const P=`${_}-${String(b+1).padStart(2,"0")}-${String(B).padStart(2,"0")}`;return g.jsx("th",{className:`px-2 py-6 text-[11px] font-black border-b-2 border-slate-100 min-w-[150px] text-center ${P===a?"bg-slate-950 text-white shadow-xl":"text-slate-400"}`,children:B},B)})]})}),g.jsx("tbody",{children:n.map(B=>g.jsxs("tr",{className:"group",children:[g.jsxs("td",{className:"sticky left-0 z-20 bg-white px-8 py-8 border-b-2 border-r-2 border-slate-50 font-black text-slate-950 text-2xl group-hover:bg-slate-50 transition-colors",children:["U-",B.unitNumber]}),M.map(P=>{const Z=`${_}-${String(b+1).padStart(2,"0")}-${String(P).padStart(2,"0")}`,Q=R(B.id,P),w=Z<a,G=h.aptId===B.id&&(Z===h.start||Z===h.end||h.start&&h.end&&Z>h.start&&Z<h.end);let k="bg-white border-emerald-100/30 hover:bg-emerald-50/50",X="AVAILABLE",ne="";return Q?(ne=Q.platform,Q.status==="maintenance"?(k="bg-rose-600 border-rose-700 shadow-inner",X="MAINTENANCE"):Q.status==="stay"?(k="animate-stay-glow border-emerald-400 shadow-inner",X="IN-HOUSE"):Q.status==="cancelled"?(k="bg-white border-emerald-100/30",X="AVAILABLE",ne=""):(k="bg-slate-700 border-slate-800",X="BOOKED")):G?(k="bg-sky-500 border-sky-400 ring-2 ring-white scale-105 z-10",X="SELECTED"):w&&(k="bg-slate-100 opacity-20 cursor-not-allowed border-transparent",X="PAST"),g.jsx("td",{onClick:()=>A(B.id,Z),className:"p-1.5 border-b-2 border-slate-50 transition-all cursor-pointer",children:g.jsxs("div",{className:`h-16 rounded-2xl flex flex-col items-center justify-center gap-1 ${k} border-2 transition-all duration-300 relative overflow-hidden px-2`,children:[g.jsx("span",{className:`text-[8px] font-black leading-tight uppercase truncate w-full text-center tracking-widest ${Q||G?"text-white":"text-slate-300"}`,children:X}),ne&&g.jsx("span",{className:"text-[7px] font-black text-white/50 uppercase tracking-tighter truncate w-full text-center",children:ne})]})},P)})]},B.id))})]})}),V&&g.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm z-[200] flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white rounded-[3rem] p-10 max-w-lg w-full shadow-2xl border-4 border-slate-950 animate-in zoom-in-95",children:[g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsx("h3",{className:"text-2xl font-black text-slate-950 uppercase tracking-tighter",children:"Stay Reference"}),g.jsx("button",{onClick:()=>x(null),className:"p-3 hover:bg-slate-100 rounded-full transition-colors",children:g.jsx(Ci,{className:"w-8 h-8"})})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center gap-5",children:[g.jsxs("div",{className:"w-16 h-16 bg-slate-950 rounded-2xl flex items-center justify-center text-white font-black text-xl",children:["U-",(Y=n.find(B=>B.id===V.apartmentId))==null?void 0:Y.unitNumber]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-2xl font-black text-slate-950 uppercase",children:V.status}),g.jsxs("p",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:[V.startDate," TO ",V.endDate]})]})]}),g.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border-2 border-slate-100 grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Paid Amount"}),g.jsxs("p",{className:"text-xl font-black text-slate-950",children:[V.paidAmount.toLocaleString()," ",g.jsx("span",{className:"text-xs opacity-30",children:V.currency})]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Platform Origin"}),g.jsx("p",{className:"text-xl font-black text-sky-600",children:V.platform})]})]}),g.jsxs("button",{onClick:()=>{o(V.id),x(null)},className:"w-full bg-slate-950 text-white py-6 rounded-2xl font-black uppercase tracking-widest flex items-center justify-center gap-3 hover:bg-black transition-all",children:[g.jsx(Ic,{className:"w-5 h-5"})," Detailed Folio Entry"]})]})]})})]})},vA=({state:n})=>{const[e,s]=oe.useState({start:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[o,a]=oe.useState("all"),u=oe.useMemo(()=>{let _=0,b=0,E=0,M=0,R=0,A=0,V=0,Y=0;const B={};n.apartments.forEach(w=>{B[w.id]={unit:w.unitNumber,revenue:0,collected:0,pending:0,discount:0,commission:0,expenses:0,services:0}});const P=[],Z=n.bookings.filter(w=>w.startDate>=e.start&&w.startDate<=e.end&&w.status!=="cancelled"),Q=n.expenses.filter(w=>w.date>=e.start&&w.date<=e.end);return Z.forEach(w=>{const G=n.apartments.find(W=>W.id===w.apartmentId),k=n.customers.find(W=>W.id===w.customerId),X=w.currency==="EGP",ne=X?w.totalAmount:w.totalAmount*bt,ue=X?w.paidAmount:w.paidAmount*bt,ie=X?w.discount:w.discount*bt,Ge=X?w.commissionAmount:w.commissionAmount*bt;X?(_+=w.paidAmount,b+=w.totalAmount-w.paidAmount,R+=w.discount,A+=w.commissionAmount):(E+=w.paidAmount,M+=w.totalAmount-w.paidAmount,V+=w.commissionAmount),G&&(B[G.id].revenue+=ne,B[G.id].collected+=ue,B[G.id].pending+=ne-ue,B[G.id].discount+=ie,B[G.id].commission+=Ge),w.paidAmount>0&&P.push({id:`book-${w.id}`,date:w.startDate,type:"INFLOW",category:"RESERVATION",entity:(k==null?void 0:k.name)||"Direct Guest",details:`Stay in Unit ${(G==null?void 0:G.unitNumber)||"N/A"} (${w.startDate} to ${w.endDate})`,amount:w.paidAmount,currency:w.currency,method:w.paymentMethod}),w.extraServices&&w.extraServices.forEach(W=>{if(W.isPaid){const D=X?W.price:W.price*bt;Y+=D,G&&(B[G.id].services+=D),P.push({id:`serv-${W.id}`,date:W.date,type:"INFLOW",category:"AMENITY_SALE",entity:(k==null?void 0:k.name)||"Direct Guest",details:`${W.name} (Unit ${G==null?void 0:G.unitNumber})`,amount:W.price,currency:w.currency,method:W.paymentMethod})}})}),Q.forEach(w=>{const G=w.currency==="EGP"?w.amount:w.amount*bt,k=n.apartments.find(X=>X.id===w.apartmentId);w.apartmentId&&B[w.apartmentId]&&(B[w.apartmentId].expenses+=G),P.push({id:`exp-${w.id}`,date:w.date,type:"OUTFLOW",category:w.category.toUpperCase(),entity:"EXTERNAL_SUPPLIER",details:`${w.description} ${k?`for Unit ${k.unitNumber}`:"(General)"}`,amount:w.amount,currency:w.currency,method:"Cash/Transfer"})}),{collectedEGP:_,pendingEGP:b,collectedUSD:E,pendingUSD:M,totalDiscountEGP:R,totalCommissionEGP:A,totalCommissionUSD:V,roomSummary:B,servicesRevenueEGP:Y,ledger:P.sort((w,G)=>G.date.localeCompare(w.date))}},[n,e]),d=u.collectedEGP+u.collectedUSD*bt,h=u.pendingEGP+u.pendingUSD*bt,y=u.totalCommissionEGP+u.totalCommissionUSD*bt+n.expenses.reduce((_,b)=>_+(b.currency==="EGP"?b.amount:b.amount*bt),0),m=()=>{let _=[["FINANCIAL AUDIT REPORT - BAHIA HURGHADA"],["Period",`${e.start} to ${e.end}`],["Generated",new Date().toLocaleString()],[],["SUMMARY STATS"],["Total Realized Inflow (EGP Eq.)",d.toFixed(2)],["Services Revenue (EGP Eq.)",u.servicesRevenueEGP.toFixed(2)],["Total Pending Collection (EGP Eq.)",h.toFixed(2)],["Total Operations Outflow (EGP Eq.)",y.toFixed(2)],["Total Discounts Sacrifice",u.totalDiscountEGP.toFixed(2)],[],["DETAILED FINANCIAL LEDGER"],["Date","Type","Category","Entity","Details","Amount","Currency","Method"]];u.ledger.forEach(R=>{_.push([R.date,R.type,R.category,R.entity,R.details,R.amount.toString(),R.currency,R.method])});const b="data:text/csv;charset=utf-8,"+_.map(R=>R.join(",")).join(`
`),E=encodeURI(b),M=document.createElement("a");M.setAttribute("href",E),M.setAttribute("download",`Bahia_Finance_Report_${e.start}_${e.end}.csv`),document.body.appendChild(M),M.click(),document.body.removeChild(M)},x=u.ledger.filter(_=>o==="all"?!0:_.type===o.toUpperCase());return g.jsxs("div",{className:"space-y-12 pb-32 animate-in fade-in duration-700",children:[g.jsxs("div",{className:"no-print bg-white p-10 rounded-[4rem] shadow-sm border-2 border-slate-100 flex flex-col lg:flex-row justify-between items-center gap-10",children:[g.jsxs("div",{className:"flex items-center gap-6",children:[g.jsx("div",{className:"w-16 h-16 bg-slate-900 rounded-[2rem] flex items-center justify-center text-white shadow-xl",children:g.jsx(Nb,{className:"w-8 h-8"})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-4xl font-black text-slate-950 tracking-tighter uppercase leading-none",children:"Accounting Hub"}),g.jsx("p",{className:"text-slate-500 font-bold text-xs uppercase tracking-[0.3em] mt-3",children:"Full Transaction History & Audit"})]})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[g.jsxs("div",{className:"bg-slate-50 p-3 rounded-2xl flex items-center gap-4 border-2 border-slate-100",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(d0,{className:"w-4 h-4 text-slate-400"}),g.jsx("input",{type:"date",value:e.start,onChange:_=>s({...e,start:_.target.value}),className:"bg-transparent font-black text-xs text-slate-900 outline-none"})]}),g.jsx("span",{className:"text-slate-300 font-black",children:""}),g.jsx("div",{className:"flex items-center gap-2",children:g.jsx("input",{type:"date",value:e.end,onChange:_=>s({...e,end:_.target.value}),className:"bg-transparent font-black text-xs text-slate-900 outline-none"})})]}),g.jsxs("button",{onClick:m,className:"flex items-center gap-3 bg-emerald-600 text-white px-8 py-4 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-100 border-b-4 border-emerald-800",children:[g.jsx(X_,{className:"w-5 h-5"})," Export CSV"]}),g.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-3 bg-slate-900 text-white px-8 py-4 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-black transition-all shadow-xl border-b-4 border-slate-950",children:[g.jsx(y0,{className:"w-5 h-5"})," PDF Audit"]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[g.jsxs("div",{className:"bg-emerald-600 p-10 rounded-[3.5rem] text-white shadow-2xl relative overflow-hidden group",children:[g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-10 -mt-10 blur-3xl group-hover:scale-150 transition-transform duration-1000"}),g.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-60 flex items-center gap-2",children:[g.jsx(x0,{className:"w-3 h-3"})," Realized Inflow"]}),g.jsxs("p",{className:"text-4xl font-black mt-4 tracking-tighter",children:[d.toLocaleString()," ",g.jsx("span",{className:"text-sm font-bold opacity-40",children:"EGP Eq."})]}),g.jsxs("div",{className:"mt-8 flex items-center justify-between text-[10px] font-black opacity-80 uppercase bg-black/10 p-3 rounded-2xl",children:[g.jsxs("span",{children:["Rooms: ",(d-u.servicesRevenueEGP).toLocaleString()]}),g.jsxs("span",{children:["Services: ",u.servicesRevenueEGP.toLocaleString()]})]})]}),g.jsxs("div",{className:"bg-rose-600 p-10 rounded-[3.5rem] text-white shadow-2xl relative overflow-hidden group",children:[g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-10 -mt-10 blur-3xl group-hover:scale-150 transition-transform duration-1000"}),g.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-60 flex items-center gap-2",children:[g.jsx(ib,{className:"w-3 h-3"})," Pending Collection"]}),g.jsxs("p",{className:"text-4xl font-black mt-4 tracking-tighter",children:[h.toLocaleString()," ",g.jsx("span",{className:"text-sm font-bold opacity-40",children:"EGP Eq."})]}),g.jsxs("div",{className:"mt-8 flex items-center justify-between text-[10px] font-black opacity-80 uppercase bg-black/10 p-3 rounded-2xl",children:[g.jsxs("span",{children:["EGP: ",u.pendingEGP.toLocaleString()]}),g.jsxs("span",{children:["USD: ",u.pendingUSD.toLocaleString()]})]})]}),g.jsxs("div",{className:"bg-slate-950 p-10 rounded-[3.5rem] text-white shadow-2xl relative overflow-hidden group border-b-8 border-slate-900",children:[g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-sky-500/10 rounded-full -mr-10 -mt-10 blur-3xl"}),g.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-40 flex items-center gap-2",children:[g.jsx(qb,{className:"w-3 h-3"})," OpEx Outflow"]}),g.jsxs("p",{className:"text-4xl font-black mt-4 tracking-tighter",children:[y.toLocaleString()," ",g.jsx("span",{className:"text-sm font-bold opacity-40",children:"EGP Eq."})]}),g.jsx("p",{className:"mt-6 text-[9px] font-black opacity-30 uppercase tracking-[0.2em]",children:"Maintenance & Comms"})]}),g.jsxs("div",{className:"bg-sky-50 p-10 rounded-[3.5rem] border-2 border-sky-100 shadow-sm flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest text-sky-600 flex items-center gap-2",children:[g.jsx(_b,{className:"w-3 h-3"})," Yield Sacrificed"]}),g.jsxs("p",{className:"text-4xl font-black mt-4 text-sky-950 tracking-tighter",children:[u.totalDiscountEGP.toLocaleString()," ",g.jsx("span",{className:"text-sm font-bold opacity-30 text-sky-950",children:"EGP"})]})]}),g.jsx("div",{className:"mt-8 p-4 bg-sky-100/50 rounded-2xl",children:g.jsx("p",{className:"text-[9px] font-black text-sky-800 uppercase tracking-widest leading-relaxed",children:"Discounts given for volume or direct loyalty bookings."})})]})]}),g.jsxs("div",{className:"bg-white rounded-[4rem] border-2 border-slate-100 shadow-2xl overflow-hidden",children:[g.jsxs("div",{className:"p-10 border-b-2 border-slate-50 flex flex-col md:flex-row items-center justify-between gap-6 bg-slate-50/50",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center border border-slate-100 shadow-sm",children:g.jsx(Dc,{className:"w-6 h-6 text-slate-900"})}),g.jsx("h3",{className:"text-2xl font-black uppercase text-slate-950 tracking-tighter",children:"Unified Financial Ledger"})]}),g.jsxs("div",{className:"flex bg-white p-2 rounded-2xl border border-slate-200 shadow-inner",children:[g.jsx("button",{onClick:()=>a("all"),className:`px-6 py-2 rounded-xl text-[10px] font-black uppercase transition-all ${o==="all"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:text-slate-900"}`,children:"Full Log"}),g.jsx("button",{onClick:()=>a("inflow"),className:`px-6 py-2 rounded-xl text-[10px] font-black uppercase transition-all ${o==="inflow"?"bg-emerald-600 text-white shadow-lg":"text-slate-400 hover:text-emerald-600"}`,children:"Inflow Only"}),g.jsx("button",{onClick:()=>a("outflow"),className:`px-6 py-2 rounded-xl text-[10px] font-black uppercase transition-all ${o==="outflow"?"bg-rose-600 text-white shadow-lg":"text-slate-400 hover:text-rose-600"}`,children:"Outflow Only"})]})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left font-bold",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-slate-100/30 text-slate-400 text-[10px] uppercase tracking-[0.2em] border-b",children:[g.jsx("th",{className:"px-10 py-8",children:"Timestamp"}),g.jsx("th",{className:"px-10 py-8",children:"Class"}),g.jsx("th",{className:"px-10 py-8",children:"Entity & Details"}),g.jsx("th",{className:"px-10 py-8 text-right",children:"Method"}),g.jsx("th",{className:"px-10 py-8 text-right",children:"Value"})]})}),g.jsxs("tbody",{className:"divide-y divide-slate-50",children:[x.map(_=>g.jsxs("tr",{className:"hover:bg-slate-50 transition-all group",children:[g.jsxs("td",{className:"px-10 py-8",children:[g.jsx("p",{className:"text-slate-950 font-black text-sm",children:_.date}),g.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Operational Date"})]}),g.jsx("td",{className:"px-10 py-8",children:g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[8px] font-black uppercase w-fit ${_.type==="INFLOW"?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"}`,children:_.type}),g.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:_.category})]})}),g.jsxs("td",{className:"px-10 py-8",children:[g.jsx("p",{className:"text-slate-900 font-black text-base",children:_.entity}),g.jsxs("p",{className:"text-[10px] font-bold text-slate-500 uppercase flex items-center gap-1",children:[g.jsx(f0,{className:"w-3 h-3"})," ",_.details]})]}),g.jsx("td",{className:"px-10 py-8 text-right",children:g.jsx("span",{className:"px-4 py-1.5 bg-slate-50 border border-slate-100 rounded-xl text-[9px] font-black text-slate-500 uppercase tracking-widest",children:_.method})}),g.jsx("td",{className:"px-10 py-8 text-right",children:g.jsxs("p",{className:`text-2xl font-black tracking-tighter ${_.type==="INFLOW"?"text-emerald-600":"text-rose-600"}`,children:[_.type==="INFLOW"?"+":"-",_.amount.toLocaleString(),g.jsx("span",{className:"text-xs font-bold opacity-30 ml-1",children:_.currency})]})})]},_.id)),x.length===0&&g.jsx("tr",{children:g.jsx("td",{colSpan:5,className:"py-24 text-center",children:g.jsxs("div",{className:"flex flex-col items-center gap-4 text-slate-200",children:[g.jsx(c0,{className:"w-20 h-20 opacity-20"}),g.jsx("p",{className:"font-black text-sm uppercase tracking-[0.3em] text-slate-300",children:"Zero Transaction Movement Logged"})]})})})]})]})})]}),g.jsxs("div",{className:"bg-white rounded-[4rem] border-2 border-slate-100 shadow-2xl overflow-hidden mt-10",children:[g.jsxs("div",{className:"p-10 border-b border-slate-50 flex items-center justify-between",children:[g.jsxs("h3",{className:"text-2xl font-black uppercase text-slate-950 flex items-center gap-4",children:[g.jsx(Mc,{className:"w-7 h-7 text-sky-600"})," Room Performance Folio"]}),g.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Revenue Summary per Asset"})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left font-bold text-sm",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-slate-50 text-slate-400 text-[10px] uppercase tracking-[0.2em]",children:[g.jsx("th",{className:"px-10 py-8",children:"Apartment"}),g.jsx("th",{className:"px-10 py-8 text-right",children:"Gross Total"}),g.jsx("th",{className:"px-10 py-8 text-right text-sky-600",children:"Serv. Revenue"}),g.jsx("th",{className:"px-10 py-8 text-right text-emerald-600",children:"Settled Inflow"}),g.jsx("th",{className:"px-10 py-8 text-right text-rose-500",children:"Active Debt"}),g.jsx("th",{className:"px-10 py-8 text-right text-sky-500",children:"Disc. Given"}),g.jsx("th",{className:"px-10 py-8 text-right text-amber-600",children:"Comms Paid"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-50",children:Object.values(u.roomSummary).map(_=>g.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[g.jsxs("td",{className:"px-10 py-8 font-black text-slate-950 uppercase text-lg",children:["Unit ",_.unit]}),g.jsx("td",{className:"px-10 py-8 text-right font-black text-slate-900",children:_.revenue.toLocaleString()}),g.jsx("td",{className:"px-10 py-8 text-right text-sky-600 font-black",children:_.services.toLocaleString()}),g.jsx("td",{className:"px-10 py-8 text-right text-emerald-600 font-black",children:_.collected.toLocaleString()}),g.jsx("td",{className:"px-10 py-8 text-right text-rose-500 font-black",children:_.pending.toLocaleString()}),g.jsx("td",{className:"px-10 py-8 text-right text-sky-600 font-black",children:_.discount.toLocaleString()}),g.jsx("td",{className:"px-10 py-8 text-right text-amber-600 font-black",children:_.commission.toLocaleString()})]},_.unit))})]})})]})]})},xA=({users:n,onAddUser:e,onUpdateUser:s,onDeleteUser:o})=>{const[a,u]=oe.useState(!1),[d,h]=oe.useState(null),y={canViewDashboard:!0,canViewTimeline:!0,canViewUnits:!0,canManageUnits:!1,canViewBookings:!0,canManageBookings:!0,canDeleteBookings:!1,canViewCustomers:!0,canManageCustomers:!0,canDeleteCustomers:!1,canViewServices:!0,canManageServices:!1,canViewReports:!1,canViewStaff:!1,canManageStaff:!1,canViewLogs:!1,canManageCommissions:!1},[m,x]=oe.useState({name:"",username:"",password:"",role:"reception",permissions:{...y}}),_=A=>{x({...m,permissions:{...m.permissions,[A]:!m.permissions[A]}})},b=A=>{const V={...m.permissions};Object.keys(V).forEach(Y=>{V[Y]=A}),x({...m,permissions:V})},E=A=>{A.preventDefault(),d?s(d,m):e({...m,isActive:!0}),M()},M=()=>{u(!1),h(null),x({name:"",username:"",password:"",role:"reception",permissions:{...y}})},R=[{title:"Main Access",icon:cb,perms:[{id:"canViewDashboard",label:"View Dashboard"},{id:"canViewTimeline",label:"View Timeline"},{id:"canViewLogs",label:"View System Logs"}]},{title:"Bookings & Guests",icon:_a,perms:[{id:"canViewBookings",label:"View Bookings"},{id:"canManageBookings",label:"Manage Bookings"},{id:"canDeleteBookings",label:"Cancel/Delete"},{id:"canViewCustomers",label:"View Guests"},{id:"canManageCustomers",label:"Edit Guests"},{id:"canDeleteCustomers",label:"Delete Guests"},{id:"canManageCommissions",label:"Manage Commissions"}]},{title:"System Settings",icon:g0,perms:[{id:"canViewUnits",label:"View Rooms"},{id:"canManageUnits",label:"Manage Rooms"},{id:"canViewServices",label:"View Services"},{id:"canManageServices",label:"Manage Services"},{id:"canViewReports",label:"View Finance"},{id:"canViewStaff",label:"View Team"},{id:"canManageStaff",label:"Manage Team"}]}];return g.jsxs("div",{className:"space-y-10 animate-in fade-in duration-700 pb-20",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6 bg-white p-10 rounded-[3rem] border-2 border-slate-100 shadow-xl",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-4xl font-black text-slate-950 tracking-tighter",children:"Team Management"}),g.jsx("p",{className:"text-slate-500 font-bold mt-2",children:"Control system access for Bahia Hurghada staff"})]}),g.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-3 bg-sky-600 text-white px-10 py-5 rounded-[1.5rem] font-black shadow-xl hover:bg-sky-700 transition-all",children:[g.jsx(Fb,{className:"w-7 h-7"})," Add Team Member"]})]}),g.jsx("div",{className:"bg-white rounded-[3rem] border-2 border-slate-100 overflow-hidden shadow-xl",children:g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100",children:[g.jsx("th",{className:"px-10 py-8 text-xs font-black text-slate-500 uppercase tracking-widest",children:"Name"}),g.jsx("th",{className:"px-10 py-8 text-xs font-black text-slate-500 uppercase tracking-widest",children:"Username"}),g.jsx("th",{className:"px-10 py-8 text-xs font-black text-slate-500 uppercase tracking-widest",children:"Role"}),g.jsx("th",{className:"px-10 py-8 text-right text-xs font-black text-slate-500 uppercase tracking-widest",children:"Actions"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-50",children:n.map(A=>g.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[g.jsx("td",{className:"px-10 py-6 font-black text-xl text-slate-900",children:A.name}),g.jsxs("td",{className:"px-10 py-6 font-bold text-slate-500",children:["@",A.username]}),g.jsx("td",{className:"px-10 py-6",children:g.jsx("span",{className:`px-4 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-widest ${A.role==="admin"?"bg-indigo-100 text-indigo-700":"bg-sky-100 text-sky-700"}`,children:A.role})}),g.jsx("td",{className:"px-10 py-6 text-right",children:g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx("button",{onClick:()=>{h(A.id),x({...A,password:""}),u(!0)},className:"p-3 text-sky-600 hover:bg-sky-50 rounded-xl transition-all border-2 border-sky-50",children:g.jsx(Sa,{className:"w-5 h-5"})}),A.username!=="admin"&&g.jsx("button",{onClick:()=>o(A.id),className:"p-3 text-rose-600 hover:bg-rose-50 rounded-xl transition-all border-2 border-rose-50",children:g.jsx(ei,{className:"w-5 h-5"})})]})})]},A.id))})]})}),a&&g.jsx("div",{className:"fixed inset-0 bg-slate-950/95 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white rounded-[3rem] p-10 max-w-4xl w-full shadow-2xl animate-in zoom-in-95 duration-300 border-4 border-slate-900 max-h-[95vh] overflow-y-auto",children:[g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"p-3 bg-sky-600 text-white rounded-2xl shadow-lg",children:g.jsx(hb,{className:"w-8 h-8"})}),g.jsx("h3",{className:"text-3xl font-black text-slate-950 tracking-tighter",children:"User Permissions"})]}),g.jsx("button",{onClick:M,className:"p-2 hover:bg-slate-100 rounded-full",children:g.jsx(Ci,{className:"w-10 h-10 text-slate-950"})})]}),g.jsxs("form",{onSubmit:E,className:"space-y-10",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-slate-50 p-8 rounded-[2rem] border-2 border-slate-100",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-2",children:"Display Name"}),g.jsx("input",{required:!0,className:"w-full p-4 rounded-xl border-2 border-white bg-white font-bold",placeholder:"Full Name",value:m.name,onChange:A=>x({...m,name:A.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-2",children:"Login Username"}),g.jsx("input",{required:!0,className:"w-full p-4 rounded-xl border-2 border-white bg-white font-bold",placeholder:"Username",value:m.username,onChange:A=>x({...m,username:A.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-2",children:"Password"}),g.jsx("input",{required:!d,type:"password",placeholder:"",className:"w-full p-4 rounded-xl border-2 border-white bg-white font-bold",value:m.password,onChange:A=>x({...m,password:A.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-2",children:"Account Role"}),g.jsxs("select",{className:"w-full p-4 rounded-xl border-2 border-white bg-white font-bold",value:m.role,onChange:A=>x({...m,role:A.target.value}),children:[g.jsx("option",{value:"reception",children:"Receptionist"}),g.jsx("option",{value:"admin",children:"Admin"})]})]})]}),g.jsxs("div",{className:"space-y-8 bg-white border-2 border-slate-100 rounded-[2rem] p-8",children:[g.jsxs("div",{className:"flex justify-between items-center border-b pb-4",children:[g.jsx("h4",{className:"text-xl font-black text-slate-900",children:"Permissions Matrix"}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"button",onClick:()=>b(!0),className:"text-[10px] font-black uppercase text-sky-600 underline",children:"Allow All"}),g.jsx("button",{type:"button",onClick:()=>b(!1),className:"text-[10px] font-black uppercase text-rose-600 underline",children:"Deny All"})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:R.map((A,V)=>g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(A.icon,{className:"w-4 h-4 text-slate-400"}),g.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-400",children:A.title})]}),g.jsx("div",{className:"space-y-3",children:A.perms.map(Y=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-xl hover:bg-slate-100 transition-all cursor-pointer",onClick:()=>_(Y.id),children:[g.jsx("span",{className:"text-sm font-bold text-slate-700",children:Y.label}),g.jsx("button",{type:"button",children:m.permissions[Y.id]?g.jsx(Gb,{className:"w-8 h-8 text-sky-600"}):g.jsx(Lb,{className:"w-8 h-8 text-slate-300"})})]},Y.id))})]},V))})]}),g.jsx("button",{type:"submit",className:"w-full py-6 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-black transition-all",children:"Save User Profile"})]})]})})]})},_A=({services:n,onAdd:e,onUpdate:s,onDelete:o})=>{const[a,u]=oe.useState(!1),[d,h]=oe.useState(null),[y,m]=oe.useState({name:"",price:0,isFree:!1}),x=b=>{b.preventDefault(),d?s(d,y):e(y),_()},_=()=>{u(!1),h(null),m({name:"",price:0,isFree:!1})};return g.jsxs("div",{className:"space-y-10 animate-in fade-in duration-500",children:[g.jsxs("div",{className:"flex justify-between items-center bg-white p-10 rounded-[3rem] border-4 border-slate-200 shadow-xl",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-4xl font-black text-slate-950 tracking-tighter",children:"Premium Amenities"}),g.jsx("p",{className:"text-lg text-slate-600 font-bold mt-2",children:"Global catalog for extra stay services."})]}),g.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-3 bg-slate-950 text-white px-10 py-5 rounded-[2rem] font-black text-lg hover:bg-black transition-all shadow-2xl",children:[g.jsx(Ni,{className:"w-7 h-7"})," Create Service"]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(b=>g.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border-4 border-slate-200 shadow-lg hover:border-sky-600 transition-all group",children:[g.jsxs("div",{className:"flex justify-between items-start mb-6",children:[g.jsx("div",{className:"p-4 bg-sky-50 rounded-2xl text-sky-600",children:g.jsx(ha,{className:"w-8 h-8"})}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>{h(b.id),m({...b}),u(!0)},className:"p-3 bg-slate-50 hover:bg-slate-900 hover:text-white rounded-xl transition-all border-2 border-slate-100",children:g.jsx(Sa,{className:"w-5 h-5"})}),g.jsx("button",{onClick:()=>o(b.id),className:"p-3 bg-rose-50 hover:bg-rose-700 hover:text-white rounded-xl transition-all border-2 border-rose-100",children:g.jsx(ei,{className:"w-5 h-5"})})]})]}),g.jsx("h3",{className:"text-2xl font-black text-slate-950 mb-2",children:b.name}),g.jsxs("div",{className:"flex items-center justify-between mt-4",children:[g.jsxs("p",{className:"text-3xl font-black text-slate-900",children:[b.price.toLocaleString()," ",g.jsx("span",{className:"text-sm opacity-50",children:"EGP"})]}),b.isFree&&g.jsx("span",{className:"px-4 py-1.5 bg-emerald-600 text-white text-[10px] font-black rounded-xl uppercase",children:"Promo: Free"})]})]},b.id))}),a&&g.jsx("div",{className:"fixed inset-0 bg-slate-950/90 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white rounded-[4rem] p-12 max-w-xl w-full shadow-2xl animate-in zoom-in-95 border-4 border-slate-900",children:[g.jsxs("div",{className:"flex justify-between items-center mb-10",children:[g.jsx("h3",{className:"text-3xl font-black text-slate-950 tracking-tighter",children:d?"Modify Service":"New Service Asset"}),g.jsx("button",{onClick:_,children:g.jsx(Ci,{className:"w-10 h-10 text-slate-900"})})]}),g.jsxs("form",{onSubmit:x,className:"space-y-8",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest",children:"Service Name"}),g.jsx("input",{required:!0,value:y.name,onChange:b=>m({...y,name:b.target.value}),className:"w-full p-6 rounded-[1.5rem] border-4 border-slate-100 bg-slate-50 font-black text-slate-900 outline-none focus:border-sky-600 transition-all"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest",children:"Base Rate (EGP)"}),g.jsx("input",{required:!0,type:"number",value:y.price,onChange:b=>m({...y,price:Number(b.target.value)}),className:"w-full p-6 rounded-[1.5rem] border-4 border-slate-100 bg-slate-50 font-black text-slate-900 outline-none focus:border-sky-600 transition-all"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest",children:"Status"}),g.jsxs("button",{type:"button",onClick:()=>m({...y,isFree:!y.isFree}),className:`w-full p-6 rounded-[1.5rem] border-4 flex items-center justify-between font-black uppercase text-xs transition-all ${y.isFree?"bg-emerald-600 border-emerald-700 text-white shadow-lg":"bg-slate-50 border-slate-100 text-slate-600"}`,children:[y.isFree?"Free Service":"Paid Asset",y.isFree?g.jsx(p0,{className:"w-6 h-6"}):g.jsx(m0,{className:"w-6 h-6"})]})]})]}),g.jsx("button",{type:"submit",className:"w-full bg-slate-950 text-white py-8 rounded-[2rem] font-black uppercase text-sm tracking-[0.4em] shadow-2xl hover:bg-black transition-all",children:"Commit Catalog Update"})]})]})})]})},bA=({expenses:n,apartments:e,onAddExpense:s,onDeleteExpense:o})=>{const[a,u]=oe.useState(!1),[d,h]=oe.useState({date:new Date().toISOString().split("T")[0],category:"maintenance",description:"",amount:0,currency:"EGP",apartmentId:""}),y=m=>{m.preventDefault(),s(d),h({date:new Date().toISOString().split("T")[0],category:"maintenance",description:"",amount:0,currency:"EGP",apartmentId:""}),u(!1)};return g.jsxs("div",{className:"space-y-10 animate-in fade-in duration-700 pb-20",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6 bg-white p-10 rounded-[3rem] border-2 border-slate-100 shadow-xl",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-4xl font-black text-slate-950 tracking-tighter uppercase",children:"Operations Ledger"}),g.jsx("p",{className:"text-slate-500 font-bold mt-2",children:"Log unit repairs, supplies, and operational expenses"})]}),g.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-3 bg-rose-600 text-white px-10 py-5 rounded-[1.5rem] font-black shadow-xl hover:bg-rose-700 transition-all",children:[g.jsx(Ni,{className:"w-7 h-7"})," Log Outflow"]})]}),g.jsx("div",{className:"grid grid-cols-1 gap-6",children:n.length>0?n.map(m=>{const x=e.find(_=>_.id===m.apartmentId);return g.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border-2 border-slate-100 flex items-center justify-between group hover:border-rose-200 transition-all",children:[g.jsxs("div",{className:"flex items-center gap-6",children:[g.jsx("div",{className:"w-14 h-14 bg-rose-50 text-rose-600 rounded-2xl flex items-center justify-center",children:g.jsx(um,{className:"w-7 h-7"})}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:"text-[10px] font-black text-rose-500 uppercase tracking-widest",children:m.category}),g.jsx("span",{className:"text-slate-300",children:""}),g.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:m.date}),g.jsx("span",{className:"text-slate-300",children:""}),g.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${x?"text-sky-600":"text-slate-400"}`,children:x?`UNIT ${x.unitNumber}`:"GENERAL"})]}),g.jsx("h4",{className:"text-xl font-black text-slate-950",children:m.description})]})]}),g.jsxs("div",{className:"flex items-center gap-8",children:[g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Amount"}),g.jsxs("p",{className:"text-2xl font-black text-rose-600",children:["-",m.amount.toLocaleString()," ",g.jsx("span",{className:"text-xs font-bold",children:m.currency})]})]}),g.jsx("button",{onClick:()=>o(m.id),className:"p-4 bg-slate-50 text-slate-400 hover:bg-rose-600 hover:text-white rounded-2xl transition-all",children:g.jsx(ei,{className:"w-5 h-5"})})]})]},m.id)}):g.jsx("div",{className:"py-20 text-center bg-white rounded-[3rem] border-4 border-dashed border-slate-100 font-black text-slate-300 uppercase tracking-widest",children:"Zero Outflows Logged"})}),a&&g.jsx("div",{className:"fixed inset-0 bg-slate-950/90 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white rounded-[3rem] p-10 max-w-2xl w-full shadow-2xl animate-in zoom-in-95 duration-300 border-4 border-slate-900",children:[g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"p-3 bg-rose-600 text-white rounded-2xl shadow-lg",children:g.jsx(um,{className:"w-8 h-8"})}),g.jsx("h3",{className:"text-3xl font-black text-slate-950 tracking-tighter uppercase",children:"Log Expense"})]}),g.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:g.jsx(Ci,{className:"w-10 h-10 text-slate-950"})})]}),g.jsxs("form",{onSubmit:y,className:"space-y-8",children:[g.jsxs("div",{className:"space-y-6 bg-slate-50 p-8 rounded-[2rem] border-2 border-slate-100",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-2",children:"Category"}),g.jsxs("select",{className:"w-full p-4 rounded-xl border-2 border-white bg-white font-bold",value:d.category,onChange:m=>h({...d,category:m.target.value}),children:[g.jsx("option",{value:"maintenance",children:"Maintenance"}),g.jsx("option",{value:"supplies",children:"Supplies"}),g.jsx("option",{value:"utility",children:"Utility"}),g.jsx("option",{value:"other",children:"Other"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-2",children:"Link to Unit"}),g.jsxs("select",{className:"w-full p-4 rounded-xl border-2 border-white bg-white font-bold",value:d.apartmentId,onChange:m=>h({...d,apartmentId:m.target.value}),children:[g.jsx("option",{value:"",children:"General (No Unit)"}),e.map(m=>g.jsxs("option",{value:m.id,children:["Unit ",m.unitNumber]},m.id))]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-2",children:"Description"}),g.jsx("input",{required:!0,className:"w-full p-4 rounded-xl border-2 border-white bg-white font-bold",placeholder:"What was purchased?",value:d.description,onChange:m=>h({...d,description:m.target.value})})]}),g.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[g.jsxs("div",{className:"space-y-2 col-span-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-2",children:"Date"}),g.jsx("input",{type:"date",required:!0,className:"w-full p-4 rounded-xl border-2 border-white bg-white font-bold",value:d.date,onChange:m=>h({...d,date:m.target.value})})]}),g.jsxs("div",{className:"space-y-2 col-span-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-2",children:"Amount"}),g.jsx("input",{type:"number",required:!0,className:"w-full p-4 rounded-xl border-2 border-white bg-white font-black text-xl text-rose-600 outline-none",value:d.amount||"",onChange:m=>h({...d,amount:Number(m.target.value)})})]}),g.jsxs("div",{className:"space-y-2 col-span-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-2",children:"Currency"}),g.jsx("select",{className:"w-full p-4 rounded-xl border-2 border-white bg-white font-bold",value:d.currency,onChange:m=>h({...d,currency:m.target.value}),children:py.map(m=>g.jsx("option",{value:m,children:m},m))})]})]})]}),g.jsx("button",{type:"submit",className:"w-full py-6 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-black transition-all",children:"Add to Ledger"})]})]})})]})},SA=({state:n,onUpdateBooking:e})=>{const s=oe.useMemo(()=>n.bookings.filter(a=>a.status!=="cancelled"&&a.status!=="maintenance"&&a.commissionAmount>0).sort((a,u)=>new Date(u.startDate).getTime()-new Date(a.startDate).getTime()),[n.bookings]),o=oe.useMemo(()=>{let a=0,u=0,d=0,h=0;return s.forEach(y=>{y.currency==="EGP"?(a+=y.commissionAmount,y.commissionPaid&&(u+=y.commissionAmount)):(d+=y.commissionAmount,y.commissionPaid&&(h+=y.commissionAmount))}),{totalEGP:a,paidEGP:u,totalUSD:d,paidUSD:h}},[s]);return g.jsxs("div",{className:"space-y-12 animate-in fade-in duration-700 pb-20",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6 bg-white p-10 rounded-[3rem] border-2 border-slate-100 shadow-xl",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-4xl font-black text-slate-950 tracking-tighter uppercase",children:"Sales Commission"}),g.jsx("p",{className:"text-slate-500 font-bold mt-2",children:"Monitor payouts and platform fees for all reservations"})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"px-6 py-4 bg-slate-950 text-white rounded-2xl text-center",children:[g.jsx("p",{className:"text-[9px] font-black uppercase opacity-50 tracking-widest",children:"Total Commission (EGP)"}),g.jsx("p",{className:"text-xl font-black",children:o.totalEGP.toLocaleString()})]}),g.jsxs("div",{className:"px-6 py-4 bg-sky-600 text-white rounded-2xl text-center",children:[g.jsx("p",{className:"text-[9px] font-black uppercase opacity-50 tracking-widest",children:"Unpaid (EGP)"}),g.jsx("p",{className:"text-xl font-black",children:(o.totalEGP-o.paidEGP).toLocaleString()})]})]})]}),g.jsx("div",{className:"bg-white rounded-[3rem] border-2 border-slate-100 overflow-hidden shadow-xl",children:g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100",children:[g.jsx("th",{className:"px-10 py-8 text-xs font-black text-slate-500 uppercase tracking-widest",children:"Reservation"}),g.jsx("th",{className:"px-10 py-8 text-xs font-black text-slate-500 uppercase tracking-widest",children:"Source"}),g.jsx("th",{className:"px-10 py-8 text-xs font-black text-slate-500 uppercase tracking-widest text-right",children:"Commission"}),g.jsx("th",{className:"px-10 py-8 text-xs font-black text-slate-500 uppercase tracking-widest",children:"Status"}),g.jsx("th",{className:"px-10 py-8 text-right text-xs font-black text-slate-500 uppercase tracking-widest",children:"Actions"})]})}),g.jsxs("tbody",{className:"divide-y divide-slate-50",children:[s.map(a=>{var h,y;const u=((h=n.customers.find(m=>m.id===a.customerId))==null?void 0:h.name)||"Guest",d=((y=n.apartments.find(m=>m.id===a.apartmentId))==null?void 0:y.unitNumber)||"N/A";return g.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[g.jsxs("td",{className:"px-10 py-6",children:[g.jsx("p",{className:"font-black text-lg text-slate-900",children:u}),g.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:["Unit ",d,"  ",a.startDate]})]}),g.jsx("td",{className:"px-10 py-6",children:g.jsx("span",{className:"px-3 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-widest",children:a.platform})}),g.jsx("td",{className:"px-10 py-6 text-right",children:g.jsxs("p",{className:"font-black text-lg text-rose-600",children:[a.commissionAmount.toLocaleString()," ",g.jsx("span",{className:"text-[10px] opacity-40",children:a.currency})]})}),g.jsx("td",{className:"px-10 py-6",children:a.commissionPaid?g.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 font-black text-xs uppercase tracking-widest",children:[g.jsx(p0,{className:"w-4 h-4"})," Paid"]}):g.jsxs("div",{className:"flex items-center gap-2 text-rose-500 font-black text-xs uppercase tracking-widest animate-pulse",children:[g.jsx(O_,{className:"w-4 h-4"})," Unpaid"]})}),g.jsx("td",{className:"px-10 py-6 text-right",children:g.jsx("button",{onClick:()=>e(a.id,{commissionPaid:!a.commissionPaid}),className:`px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${a.commissionPaid?"bg-slate-100 text-slate-500":"bg-emerald-600 text-white shadow-lg hover:bg-emerald-700"}`,children:a.commissionPaid?"Mark Unpaid":"Mark as Paid"})})]},a.id)}),s.length===0&&g.jsx("tr",{children:g.jsx("td",{colSpan:5,className:"py-20 text-center font-black text-slate-300 uppercase tracking-[0.2em]",children:"No commission records found"})})]})]})})]})},jg="bahia_pms_data_v5",my={save:n=>{try{localStorage.setItem(jg,JSON.stringify(n))}catch(e){throw console.error("Storage Error:",e),new Error("Local storage is full or disabled.")}},load:()=>{const n=localStorage.getItem(jg);if(!n)return null;try{return JSON.parse(n)}catch(e){return console.error("Parse Error:",e),null}},exportData:n=>{const e=JSON.stringify(n,null,2),s="data:application/json;charset=utf-8,"+encodeURIComponent(e),o=`bahia_backup_${new Date().toISOString().split("T")[0]}.json`,a=document.createElement("a");a.setAttribute("href",s),a.setAttribute("download",o),a.click()},importData:n=>new Promise((e,s)=>{const o=new FileReader;o.onload=a=>{var u;try{const d=JSON.parse((u=a.target)==null?void 0:u.result);e(d)}catch{s("Invalid backup file.")}},o.onerror=()=>s("File reading failed."),o.readAsText(n)})},TA=({state:n,onImport:e,onClearLogs:s})=>{const o=a=>{var d;const u=(d=a.target.files)==null?void 0:d[0];u&&window.confirm("Are you sure you want to import this data? Current data will be overwritten.")&&e(u)};return g.jsxs("div",{className:"space-y-10 pb-32 animate-in fade-in duration-700",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6 bg-white p-10 rounded-[3rem] border-2 border-slate-100 shadow-xl",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-4xl font-black text-slate-950 tracking-tighter uppercase",children:"System Terminal"}),g.jsx("p",{className:"text-slate-500 font-bold mt-2",children:"Audit logs, security events, and data backup"})]}),g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("button",{onClick:()=>my.exportData(n),className:"flex items-center gap-3 bg-slate-950 text-white px-8 py-4 rounded-2xl font-black hover:bg-black transition-all shadow-lg",children:[g.jsx(F_,{className:"w-5 h-5"})," Export Backup"]}),g.jsxs("label",{className:"flex items-center gap-3 bg-sky-600 text-white px-8 py-4 rounded-2xl font-black hover:bg-sky-700 transition-all shadow-lg cursor-pointer",children:[g.jsx(zb,{className:"w-5 h-5"})," Import Data",g.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:o})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[g.jsxs("div",{className:"lg:col-span-2 bg-white rounded-[3rem] border-2 border-slate-100 shadow-xl overflow-hidden",children:[g.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center",children:[g.jsxs("h3",{className:"text-xl font-black text-slate-900 uppercase flex items-center gap-3",children:[g.jsx(Dc,{className:"w-6 h-6 text-sky-600"})," Audit Trail"]}),g.jsx("button",{onClick:s,className:"text-rose-600 text-[10px] font-black uppercase hover:underline",children:"Clear History"})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-slate-50 text-slate-400 text-[10px] font-black uppercase tracking-widest border-b",children:[g.jsx("th",{className:"px-10 py-6",children:"Timestamp"}),g.jsx("th",{className:"px-10 py-6",children:"Operator"}),g.jsx("th",{className:"px-10 py-6",children:"Action"}),g.jsx("th",{className:"px-10 py-6",children:"Details"})]})}),g.jsxs("tbody",{className:"divide-y divide-slate-50",children:[n.logs.map(a=>g.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[g.jsx("td",{className:"px-10 py-5 text-[10px] font-bold text-slate-400",children:new Date(a.timestamp).toLocaleString()}),g.jsx("td",{className:"px-10 py-5 font-black text-slate-900 text-xs",children:a.user}),g.jsx("td",{className:"px-10 py-5",children:g.jsx("span",{className:"px-3 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase",children:a.action})}),g.jsx("td",{className:"px-10 py-5 text-xs text-slate-500 font-medium",children:a.details})]},a.id)),n.logs.length===0&&g.jsx("tr",{children:g.jsx("td",{colSpan:4,className:"py-20 text-center font-black text-slate-300 uppercase tracking-widest",children:"No logs recorded"})})]})]})})]}),g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"bg-rose-50 p-10 rounded-[3rem] border-2 border-rose-100 shadow-sm",children:[g.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[g.jsx(Rb,{className:"w-8 h-8 text-rose-600"}),g.jsx("h3",{className:"text-xl font-black text-rose-950 uppercase",children:"Danger Zone"})]}),g.jsx("p",{className:"text-sm text-rose-800 font-medium mb-8 leading-relaxed",children:"Modifying system data directly can cause inconsistencies. Always perform a backup before importing."}),g.jsxs("button",{onClick:()=>{window.confirm("RESET SYSTEM? This will delete EVERYTHING.")&&(localStorage.clear(),window.location.reload())},className:"w-full py-5 bg-rose-600 text-white rounded-2xl font-black uppercase tracking-widest hover:bg-rose-700 transition-all flex items-center justify-center gap-3 shadow-xl",children:[g.jsx(ei,{className:"w-5 h-5"})," Factory Reset"]})]}),g.jsxs("div",{className:"bg-slate-900 p-10 rounded-[3rem] text-white shadow-xl",children:[g.jsx("h3",{className:"text-lg font-black uppercase mb-6 tracking-tighter",children:"System Health"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between border-b border-white/10 pb-4",children:[g.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Database Version"}),g.jsx("span",{className:"text-xs font-black",children:"v5.0.1 Stable"})]}),g.jsxs("div",{className:"flex justify-between border-b border-white/10 pb-4",children:[g.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Storage Used"}),g.jsxs("span",{className:"text-xs font-black",children:[(JSON.stringify(n).length/1024).toFixed(2)," KB"]})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Last Backup"}),g.jsx("span",{className:"text-xs font-black",children:"Today"})]})]})]})]})]})]})},EA="modulepreload",wA=function(n){return"/"+n},Fg={},Cs=function(e,s,o){let a=Promise.resolve();if(s&&s.length>0){let d=function(m){return Promise.all(m.map(x=>Promise.resolve(x).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),y=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));a=d(s.map(m=>{if(m=wA(m),m in Fg)return;Fg[m]=!0;const x=m.endsWith(".css"),_=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${_}`))return;const b=document.createElement("link");if(b.rel=x?"stylesheet":EA,x||(b.as="script"),b.crossOrigin="",b.href=m,y&&b.setAttribute("nonce",y),document.head.appendChild(b),x)return new Promise((E,M)=>{b.addEventListener("load",E),b.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return a.then(d=>{for(const h of d||[])h.status==="rejected"&&u(h.reason);return e().catch(u)})},NA=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...s)=>Cs(async()=>{const{default:o}=await Promise.resolve().then(()=>Go);return{default:o}},void 0).then(({default:o})=>o(...s)):e=fetch,(...s)=>e(...s)};class jc extends Error{constructor(e,s="FunctionsError",o){super(e),this.name=s,this.context=o}}class CA extends jc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class AA extends jc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class kA extends jc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var RA=function(n,e,s,o){function a(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function h(x){try{m(o.next(x))}catch(_){d(_)}}function y(x){try{m(o.throw(x))}catch(_){d(_)}}function m(x){x.done?u(x.value):a(x.value).then(h,y)}m((o=o.apply(n,e||[])).next())})};class MA{constructor(e,{headers:s={},customFetch:o}={}){this.url=e,this.headers=s,this.fetch=NA(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var o;return RA(this,void 0,void 0,function*(){try{const{headers:a,method:u,body:d}=s;let h={},y;d&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=d):typeof d=="string"?(h["Content-Type"]="text/plain",y=d):typeof FormData<"u"&&d instanceof FormData?y=d:(h["Content-Type"]="application/json",y=JSON.stringify(d)));const m=yield this.fetch(`${this.url}/${e}`,{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:y}).catch(E=>{throw new CA(E)}),x=m.headers.get("x-relay-error");if(x&&x==="true")throw new AA(m);if(!m.ok)throw new kA(m);let _=((o=m.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),b;return _==="application/json"?b=yield m.json():_==="application/octet-stream"?b=yield m.blob():_==="multipart/form-data"?b=yield m.formData():b=yield m.text(),{data:b,error:null}}catch(a){return{data:null,error:a}}})}}var IA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},As=IA();const DA=As.fetch,Fc=As.fetch.bind(As),gy=As.Headers,UA=As.Request,LA=As.Response,Go=Object.freeze(Object.defineProperty({__proto__:null,Headers:gy,Request:UA,Response:LA,default:Fc,fetch:DA},Symbol.toStringTag,{value:"Module"}));class PA extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}class GA{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Fc:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,y;let m=null,x=null,_=null,b=u.status,E=u.statusText;if(u.ok){if(this.method!=="HEAD"){const V=await u.text();V===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?x=V:x=JSON.parse(V))}const R=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),A=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");R&&A&&A.length>1&&(_=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(m={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,_=null,b=406,E="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const R=await u.text();try{m=JSON.parse(R),Array.isArray(m)&&u.status===404&&(x=[],m=null,b=200,E="OK")}catch{u.status===404&&R===""?(b=204,E="No Content"):m={message:R}}if(m&&this.isMaybeSingle&&(!((y=m==null?void 0:m.details)===null||y===void 0)&&y.includes("0 rows"))&&(m=null,b=200,E="OK"),m&&this.shouldThrowOnError)throw new PA(m)}return{error:m,data:x,count:_,status:b,statusText:E}});return this.shouldThrowOnError||(a=a.catch(u=>{var d,h,y;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(y=u==null?void 0:u.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,s)}}class OA extends GA{select(e){let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:u=a}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${e}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,s,{foreignTable:o,referencedTable:a=o}={}){const u=typeof a>"u"?"offset":`${a}.offset`,d=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(u,`${e}`),this.url.searchParams.set(d,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:u=!1,format:d="text"}={}){var h;const y=[e?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,u?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${m}"; options=${y};`,d==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class _s extends OA{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const o=s.map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${o})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:o,type:a}={}){let u="";a==="plain"?u="pl":a==="phrase"?u="ph":a==="websearch"&&(u="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(e,`${u}fts${d}.${s}`),this}match(e){return Object.entries(e).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(e,s,o){return this.url.searchParams.append(e,`not.${s}.${o}`),this}or(e,{foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,s,o){return this.url.searchParams.append(e,`${s}.${o}`),this}}class HA{constructor(e,{headers:s={},schema:o,fetch:a}){this.url=e,this.headers=s,this.schema=o,this.fetch=a}select(e,{head:s=!1,count:o}={}){const a=s?"HEAD":"GET";let u=!1;const d=(e??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),o&&(this.headers.Prefer=`count=${o}`),new _s({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:o=!0}={}){const a="POST",u=[];if(this.headers.Prefer&&u.push(this.headers.Prefer),s&&u.push(`count=${s}`),o||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(e)){const d=e.reduce((h,y)=>h.concat(Object.keys(y)),[]);if(d.length>0){const h=[...new Set(d)].map(y=>`"${y}"`);this.url.searchParams.set("columns",h.join(","))}}return new _s({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:u=!0}={}){const d="POST",h=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&h.push(this.headers.Prefer),a&&h.push(`count=${a}`),u||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(e)){const y=e.reduce((m,x)=>m.concat(Object.keys(x)),[]);if(y.length>0){const m=[...new Set(y)].map(x=>`"${x}"`);this.url.searchParams.set("columns",m.join(","))}}return new _s({method:d,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),this.headers.Prefer=a.join(","),new _s({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",o=[];return e&&o.push(`count=${e}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new _s({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const qA="1.9.2",VA={"X-Client-Info":`postgrest-js/${qA}`};class $c{constructor(e,{headers:s={},schema:o,fetch:a}={}){this.url=e,this.headers=Object.assign(Object.assign({},VA),s),this.schemaName=o,this.fetch=a}from(e){const s=new URL(`${this.url}/${e}`);return new HA(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new $c(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:o=!1,count:a}={}){let u;const d=new URL(`${this.url}/rpc/${e}`);let h;o?(u="HEAD",Object.entries(s).forEach(([m,x])=>{d.searchParams.append(m,`${x}`)})):(u="POST",h=s);const y=Object.assign({},this.headers);return a&&(y.Prefer=`count=${a}`),new _s({method:u,url:d,headers:y,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}}const BA="2.9.3",zA={"X-Client-Info":`realtime-js/${BA}`},jA="1.0.0",yy=1e4,FA=1e3;var Ns;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Ns||(Ns={}));var It;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(It||(It={}));var Xt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Xt||(Xt={}));var Nc;(function(n){n.websocket="websocket"})(Nc||(Nc={}));var wi;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(wi||(wi={}));class vy{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class $A{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),o=new TextDecoder;return this._decodeBroadcast(e,s,o)}_decodeBroadcast(e,s,o){const a=s.getUint8(1),u=s.getUint8(2);let d=this.HEADER_LENGTH+2;const h=o.decode(e.slice(d,d+a));d=d+a;const y=o.decode(e.slice(d,d+u));d=d+u;const m=JSON.parse(o.decode(e.slice(d,e.byteLength)));return{ref:null,topic:h,event:y,payload:m}}}class oc{constructor(e,s,o={},a=yy){this.channel=e,this.event=s,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var o;return this._hasReceived(e)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var $g;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})($g||($g={}));class Uo{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:u,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Uo.syncState(this.state,a,u,d),this.pendingDiffs.forEach(y=>{this.state=Uo.syncDiff(this.state,y,u,d)}),this.pendingDiffs=[],h()}),this.channel._on(o.diff,{},a=>{const{onJoin:u,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Uo.syncDiff(this.state,a,u,d),h())}),this.onJoin((a,u,d)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:u,newPresences:d})}),this.onLeave((a,u,d)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,o,a){const u=this.cloneDeep(e),d=this.transformState(s),h={},y={};return this.map(u,(m,x)=>{d[m]||(y[m]=x)}),this.map(d,(m,x)=>{const _=u[m];if(_){const b=x.map(A=>A.presence_ref),E=_.map(A=>A.presence_ref),M=x.filter(A=>E.indexOf(A.presence_ref)<0),R=_.filter(A=>b.indexOf(A.presence_ref)<0);M.length>0&&(h[m]=M),R.length>0&&(y[m]=R)}else h[m]=x}),this.syncDiff(u,{joins:h,leaves:y},o,a)}static syncDiff(e,s,o,a){const{joins:u,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(u,(h,y)=>{var m;const x=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(y),x.length>0){const _=e[h].map(E=>E.presence_ref),b=x.filter(E=>_.indexOf(E.presence_ref)<0);e[h].unshift(...b)}o(h,x,y)}),this.map(d,(h,y)=>{let m=e[h];if(!m)return;const x=y.map(_=>_.presence_ref);m=m.filter(_=>x.indexOf(_.presence_ref)<0),e[h]=m,a(h,m,y),m.length===0&&delete e[h]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(o=>s(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,o)=>{const a=e[o];return"metas"in a?s[o]=a.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[o]=a,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var He;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(He||(He={}));const Jg=(n,e,s={})=>{var o;const a=(o=s.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(e).reduce((u,d)=>(u[d]=JA(d,n,e,a),u),{})},JA=(n,e,s,o)=>{const a=e.find(h=>h.name===n),u=a==null?void 0:a.type,d=s[n];return u&&!o.includes(u)?xy(u,d):Cc(d)},xy=(n,e)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return QA(e,s)}switch(n){case He.bool:return YA(e);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return KA(e);case He.json:case He.jsonb:return XA(e);case He.timestamp:return ZA(e);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return Cc(e);default:return Cc(e)}},Cc=n=>n,YA=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},KA=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},XA=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},QA=(n,e)=>{if(typeof n!="string")return n;const s=n.length-1,o=n[s];if(n[0]==="{"&&o==="}"){let u;const d=n.slice(1,s);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(h=>xy(e,h))}return n},ZA=n=>typeof n=="string"?n.replace(" ","T"):n;var Yg;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Yg||(Yg={}));var Kg;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes"})(Kg||(Kg={}));var Xg;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Xg||(Xg={}));class Jc{constructor(e,s={config:{}},o){this.topic=e,this.params=s,this.socket=o,this.bindings={},this.state=It.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},s.config),this.timeout=this.socket.timeout,this.joinPush=new oc(this,Xt.join,this.params,this.timeout),this.rejoinTimer=new vy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=It.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=It.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xt.reply,{},(a,u)=>{this._trigger(this._replyEventName(u),a)}),this.presence=new Uo(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,s=this.timeout){var o,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:u,presence:d}}=this.params;this._onError(m=>e&&e("CHANNEL_ERROR",m)),this._onClose(()=>e&&e("CLOSED"));const h={},y={broadcast:u,presence:d,postgres_changes:(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(m=>m.filter))!==null&&a!==void 0?a:[]};this.socket.accessToken&&(h.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:y},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",({postgres_changes:m})=>{var x;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),m===void 0){e&&e("SUBSCRIBED");return}else{const _=this.bindings.postgres_changes,b=(x=_==null?void 0:_.length)!==null&&x!==void 0?x:0,E=[];for(let M=0;M<b;M++){const R=_[M],{filter:{event:A,schema:V,table:Y,filter:B}}=R,P=m&&m[M];if(P&&P.event===A&&P.schema===V&&P.table===Y&&P.filter===B)E.push(Object.assign(Object.assign({},R),{id:P.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e("SUBSCRIBED");return}}).receive("error",m=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,o){return this._on(e,s,o)}async send(e,s={}){var o,a;if(!this._canPush()&&e.type==="broadcast"){const{event:u,payload:d}=e,h={method:"POST",headers:{apikey:(o=this.socket.apiKey)!==null&&o!==void 0?o:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,h,(a=s.timeout)!==null&&a!==void 0?a:this.timeout)).ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,h,y;const m=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((y=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||y===void 0)&&y.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=It.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(o=>{const a=new oc(this,Xt.leave,{},e);a.receive("ok",()=>{s(),o("ok")}).receive("timeout",()=>{s(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,s,o){const a=new AbortController,u=setTimeout(()=>a.abort(),o),d=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(u),d}_push(e,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new oc(this,e,s,o);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,s,o){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,o){var a,u;const d=e.toLocaleLowerCase(),{close:h,error:y,leave:m,join:x}=Xt;if(o&&[h,y,m,x].indexOf(d)>=0&&o!==this._joinRef())return;let b=this._onMessage(d,s,o);if(s&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(E=>{var M,R,A;return((M=E.filter)===null||M===void 0?void 0:M.event)==="*"||((A=(R=E.filter)===null||R===void 0?void 0:R.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===d}).map(E=>E.callback(b,o)):(u=this.bindings[d])===null||u===void 0||u.filter(E=>{var M,R,A,V,Y,B;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in E){const P=E.id,Z=(M=E.filter)===null||M===void 0?void 0:M.event;return P&&((R=s.ids)===null||R===void 0?void 0:R.includes(P))&&(Z==="*"||(Z==null?void 0:Z.toLocaleLowerCase())===((A=s.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const P=(Y=(V=E==null?void 0:E.filter)===null||V===void 0?void 0:V.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase();return P==="*"||P===((B=s==null?void 0:s.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===d}).map(E=>{if(typeof b=="object"&&"ids"in b){const M=b.data,{schema:R,table:A,commit_timestamp:V,type:Y,errors:B}=M;b=Object.assign(Object.assign({},{schema:R,table:A,commit_timestamp:V,eventType:Y,new:{},old:{},errors:B}),this._getPayloadRecords(M))}E.callback(b,o)})}_isClosed(){return this.state===It.closed}_isJoined(){return this.state===It.joined}_isJoining(){return this.state===It.joining}_isLeaving(){return this.state===It.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,o){const a=e.toLocaleLowerCase(),u={type:a,filter:s,callback:o};return this.bindings[a]?this.bindings[a].push(u):this.bindings[a]=[u],this}_off(e,s){const o=e.toLocaleLowerCase();return this.bindings[o]=this.bindings[o].filter(a=>{var u;return!(((u=a.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&Jc.isEqual(a.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const o in e)if(e[o]!==s[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Xt.close,{},e)}_onError(e){this._on(Xt.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=It.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Jg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Jg(e.columns,e.old_record)),s}}const WA=()=>{},ek=typeof WebSocket<"u";class tk{constructor(e,s){var o;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=zA,this.params={},this.timeout=yy,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=WA,this.conn=null,this.sendBuffer=[],this.serializer=new $A,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=u=>{let d;return u?d=u:typeof fetch>"u"?d=(...h)=>Cs(async()=>{const{default:y}=await Promise.resolve().then(()=>Go);return{default:y}},void 0).then(({default:y})=>y(...h)):d=fetch,(...h)=>d(...h)},this.endPoint=`${e}/${Nc.websocket}`,s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const a=(o=s==null?void 0:s.params)===null||o===void 0?void 0:o.apikey;a&&(this.accessToken=a,this.apiKey=a),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(u,d)=>d(JSON.stringify(u)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new vy(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(ek){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new nk(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Cs(async()=>{const{default:e}=await import("./browser-DgXTen6M.js").then(s=>s.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,o){this.logger(e,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Ns.connecting:return wi.Connecting;case Ns.open:return wi.Open;case Ns.closing:return wi.Closing;default:return wi.Closed}}isConnected(){return this.connectionState()===wi.Open}channel(e,s={config:{}}){const o=new Jc(`realtime:${e}`,s,this);return this.channels.push(o),o}push(e){const{topic:s,event:o,payload:a,ref:u}=e,d=()=>{this.encode(e,h=>{var y;(y=this.conn)===null||y===void 0||y.send(h)})};this.log("push",`${s} ${o} (${u})`,a),this.isConnected()?d():this.sendBuffer.push(d)}setAuth(e){this.accessToken=e,this.channels.forEach(s=>{e&&s.updateJoinPayload({access_token:e}),s.joinedOnce&&s._isJoined()&&s._push(Xt.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jA}))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:o,event:a,payload:u,ref:d}=s;(d&&d===this.pendingHeartbeatRef||a===(u==null?void 0:u.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${o} ${a} ${d&&"("+d+")"||""}`,u),this.channels.filter(h=>h._isMember(o)).forEach(h=>h._trigger(a,u,d)),this.stateChangeCallbacks.message.forEach(h=>h(s))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Xt.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const o=e.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${e}${o}${a}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(FA,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class nk{constructor(e,s,o){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ns.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=o.close}}class Yc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ut(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class ik extends Yc{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Qg extends Yc{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var sk=function(n,e,s,o){function a(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function h(x){try{m(o.next(x))}catch(_){d(_)}}function y(x){try{m(o.throw(x))}catch(_){d(_)}}function m(x){x.done?u(x.value):a(x.value).then(h,y)}m((o=o.apply(n,e||[])).next())})};const _y=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...s)=>Cs(async()=>{const{default:o}=await Promise.resolve().then(()=>Go);return{default:o}},void 0).then(({default:o})=>o(...s)):e=fetch,(...s)=>e(...s)},ok=()=>sk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Cs(()=>Promise.resolve().then(()=>Go),void 0)).Response:Response});var Is=function(n,e,s,o){function a(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function h(x){try{m(o.next(x))}catch(_){d(_)}}function y(x){try{m(o.throw(x))}catch(_){d(_)}}function m(x){x.done?u(x.value):a(x.value).then(h,y)}m((o=o.apply(n,e||[])).next())})};const lc=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),lk=(n,e)=>Is(void 0,void 0,void 0,function*(){const s=yield ok();n instanceof s?n.json().then(o=>{e(new ik(lc(o),n.status||500))}).catch(o=>{e(new Qg(lc(o),o))}):e(new Qg(lc(n),n))}),ak=(n,e,s,o)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),s))};function Ra(n,e,s,o,a,u){return Is(this,void 0,void 0,function*(){return new Promise((d,h)=>{n(s,ak(e,o,a,u)).then(y=>{if(!y.ok)throw y;return o!=null&&o.noResolveJson?y:y.json()}).then(y=>d(y)).catch(y=>lk(y,h))})})}function Ac(n,e,s,o){return Is(this,void 0,void 0,function*(){return Ra(n,"GET",e,s,o)})}function Qn(n,e,s,o,a){return Is(this,void 0,void 0,function*(){return Ra(n,"POST",e,o,a,s)})}function rk(n,e,s,o,a){return Is(this,void 0,void 0,function*(){return Ra(n,"PUT",e,o,a,s)})}function by(n,e,s,o,a){return Is(this,void 0,void 0,function*(){return Ra(n,"DELETE",e,o,a,s)})}var zt=function(n,e,s,o){function a(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function h(x){try{m(o.next(x))}catch(_){d(_)}}function y(x){try{m(o.throw(x))}catch(_){d(_)}}function m(x){x.done?u(x.value):a(x.value).then(h,y)}m((o=o.apply(n,e||[])).next())})};const uk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ck{constructor(e,s={},o,a){this.url=e,this.headers=s,this.bucketId=o,this.fetch=_y(a)}uploadOrUpdate(e,s,o,a){return zt(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},Zg),a),h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(d.upsert)});typeof Blob<"u"&&o instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",o)):typeof FormData<"u"&&o instanceof FormData?(u=o,u.append("cacheControl",d.cacheControl)):(u=o,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const y=this._removeEmptyFolders(s),m=this._getFinalPath(y),x=yield this.fetch(`${this.url}/object/${m}`,Object.assign({method:e,body:u,headers:h},d!=null&&d.duplex?{duplex:d.duplex}:{})),_=yield x.json();return x.ok?{data:{path:y,id:_.Id,fullPath:_.Key},error:null}:{data:null,error:_}}catch(u){if(ut(u))return{data:null,error:u};throw u}})}upload(e,s,o){return zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,o)})}uploadToSignedUrl(e,s,o,a){return zt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(e),d=this._getFinalPath(u),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",s);try{let y;const m=Object.assign({upsert:Zg.upsert},a),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&o instanceof Blob?(y=new FormData,y.append("cacheControl",m.cacheControl),y.append("",o)):typeof FormData<"u"&&o instanceof FormData?(y=o,y.append("cacheControl",m.cacheControl)):(y=o,x["cache-control"]=`max-age=${m.cacheControl}`,x["content-type"]=m.contentType);const _=yield this.fetch(h.toString(),{method:"PUT",body:y,headers:x}),b=yield _.json();return _.ok?{data:{path:u,fullPath:b.Key},error:null}:{data:null,error:b}}catch(y){if(ut(y))return{data:null,error:y};throw y}})}createSignedUploadUrl(e){return zt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const o=yield Qn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:this.headers}),a=new URL(this.url+o.url),u=a.searchParams.get("token");if(!u)throw new Yc("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:u},error:null}}catch(s){if(ut(s))return{data:null,error:s};throw s}})}update(e,s,o){return zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,o)})}move(e,s){return zt(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s},{headers:this.headers}),error:null}}catch(o){if(ut(o))return{data:null,error:o};throw o}})}copy(e,s){return zt(this,void 0,void 0,function*(){try{return{data:{path:(yield Qn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s},{headers:this.headers})).Key},error:null}}catch(o){if(ut(o))return{data:null,error:o};throw o}})}createSignedUrl(e,s,o){return zt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),u=yield Qn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:s},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const d=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(a){if(ut(a))return{data:null,error:a};throw a}})}createSignedUrls(e,s,o){return zt(this,void 0,void 0,function*(){try{const a=yield Qn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),u=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:a.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(a){if(ut(a))return{data:null,error:a};throw a}})}download(e,s){return zt(this,void 0,void 0,function*(){const a=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),d=u?`?${u}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield Ac(this.fetch,`${this.url}/${a}/${h}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(ut(h))return{data:null,error:h};throw h}})}getPublicUrl(e,s){const o=this._getFinalPath(e),a=[],u=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";u!==""&&a.push(u);const h=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",y=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});y!==""&&a.push(y);let m=a.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${o}${m}`)}}}remove(e){return zt(this,void 0,void 0,function*(){try{return{data:yield by(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(ut(s))return{data:null,error:s};throw s}})}list(e,s,o){return zt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},uk),s),{prefix:e||""});return{data:yield Qn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},o),error:null}}catch(a){if(ut(a))return{data:null,error:a};throw a}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const dk="2.5.5",fk={"X-Client-Info":`storage-js/${dk}`};var ps=function(n,e,s,o){function a(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function h(x){try{m(o.next(x))}catch(_){d(_)}}function y(x){try{m(o.throw(x))}catch(_){d(_)}}function m(x){x.done?u(x.value):a(x.value).then(h,y)}m((o=o.apply(n,e||[])).next())})};class hk{constructor(e,s={},o){this.url=e,this.headers=Object.assign(Object.assign({},fk),s),this.fetch=_y(o)}listBuckets(){return ps(this,void 0,void 0,function*(){try{return{data:yield Ac(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ut(e))return{data:null,error:e};throw e}})}getBucket(e){return ps(this,void 0,void 0,function*(){try{return{data:yield Ac(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(ut(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return ps(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(ut(o))return{data:null,error:o};throw o}})}updateBucket(e,s){return ps(this,void 0,void 0,function*(){try{return{data:yield rk(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(ut(o))return{data:null,error:o};throw o}})}emptyBucket(e){return ps(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(ut(s))return{data:null,error:s};throw s}})}deleteBucket(e){return ps(this,void 0,void 0,function*(){try{return{data:yield by(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(ut(s))return{data:null,error:s};throw s}})}}class pk extends hk{constructor(e,s={},o){super(e,s,o)}from(e){return new ck(this.url,this.headers,e,this.fetch)}}const mk="2.39.7";let Do="";typeof Deno<"u"?Do="deno":typeof document<"u"?Do="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Do="react-native":Do="node";const gk={"X-Client-Info":`supabase-js-${Do}/${mk}`},yk={headers:gk},vk={schema:"public"},xk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_k={};var bk=function(n,e,s,o){function a(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function h(x){try{m(o.next(x))}catch(_){d(_)}}function y(x){try{m(o.throw(x))}catch(_){d(_)}}function m(x){x.done?u(x.value):a(x.value).then(h,y)}m((o=o.apply(n,e||[])).next())})};const Sk=n=>{let e;return n?e=n:typeof fetch>"u"?e=Fc:e=fetch,(...s)=>e(...s)},Tk=()=>typeof Headers>"u"?gy:Headers,Ek=(n,e,s)=>{const o=Sk(s),a=Tk();return(u,d)=>bk(void 0,void 0,void 0,function*(){var h;const y=(h=yield e())!==null&&h!==void 0?h:n;let m=new a(d==null?void 0:d.headers);return m.has("apikey")||m.set("apikey",n),m.has("Authorization")||m.set("Authorization",`Bearer ${y}`),o(u,Object.assign(Object.assign({},d),{headers:m}))})};function wk(n){return n.replace(/\/$/,"")}function Nk(n,e){const{db:s,auth:o,realtime:a,global:u}=n,{db:d,auth:h,realtime:y,global:m}=e;return{db:Object.assign(Object.assign({},d),s),auth:Object.assign(Object.assign({},h),o),realtime:Object.assign(Object.assign({},y),a),global:Object.assign(Object.assign({},m),u)}}function Ck(n){return Math.round(Date.now()/1e3)+n}function Ak(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Kt=()=>typeof document<"u",bi={tested:!1,writable:!1},Lo=()=>{if(!Kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bi.tested)return bi.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),bi.tested=!0,bi.writable=!0}catch{bi.tested=!0,bi.writable=!1}return bi.writable};function ac(n){const e={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((a,u)=>{e[u]=a})}catch{}return s.searchParams.forEach((o,a)=>{e[a]=o}),e}const Sy=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...s)=>Cs(async()=>{const{default:o}=await Promise.resolve().then(()=>Go);return{default:o}},void 0).then(({default:o})=>o(...s)):e=fetch,(...s)=>e(...s)},kk=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Si=async(n,e,s)=>{await n.setItem(e,JSON.stringify(s))},aa=async(n,e)=>{const s=await n.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},rc=async(n,e)=>{await n.removeItem(e)};function Rk(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",o,a,u,d,h,y,m,x=0;for(n=n.replace("-","+").replace("_","/");x<n.length;)d=e.indexOf(n.charAt(x++)),h=e.indexOf(n.charAt(x++)),y=e.indexOf(n.charAt(x++)),m=e.indexOf(n.charAt(x++)),o=d<<2|h>>4,a=(h&15)<<4|y>>2,u=(y&3)<<6|m,s=s+String.fromCharCode(o),y!=64&&a!=0&&(s=s+String.fromCharCode(a)),m!=64&&u!=0&&(s=s+String.fromCharCode(u));return s}class Ma{constructor(){this.promise=new Ma.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Ma.promiseConstructor=Promise;function Wg(n){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=n.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const o=s[1];return JSON.parse(Rk(o))}async function Mk(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function Ik(n,e){return new Promise((o,a)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await n(u);if(!e(u,null,d)){o(d);return}}catch(d){if(!e(u,d)){a(d);return}}})()})}function Dk(n){return("0"+n.toString(16)).substr(-2)}function ms(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let a="";for(let u=0;u<56;u++)a+=s.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(e),Array.from(e,Dk).join("")}async function Uk(n){const s=new TextEncoder().encode(n),o=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(o);return Array.from(a).map(u=>String.fromCharCode(u)).join("")}function Lk(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gs(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await Uk(n);return Lk(s)}class Kc extends Error{constructor(e,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s}}function we(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Pk extends Kc{constructor(e,s){super(e,s),this.name="AuthApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function Gk(n){return we(n)&&n.name==="AuthApiError"}class Ty extends Kc{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class ki extends Kc{constructor(e,s,o){super(e),this.name=s,this.status=o}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ys extends ki{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class uc extends ki{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class ra extends ki{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class ua extends ki{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class e0 extends ki{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kc extends ki{constructor(e,s){super(e,"AuthRetryableFetchError",s)}}function cc(n){return we(n)&&n.name==="AuthRetryableFetchError"}class Ok extends ki{constructor(e,s,o){super(e,"AuthWeakPasswordError",s),this.reasons=o}}var Hk=function(n,e){var s={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(s[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(n);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(n,o[a])&&(s[o[a]]=n[o[a]]);return s};const bs=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),qk=[502,503,504];async function t0(n){if(!kk(n))throw new kc(bs(n),0);if(qk.includes(n.status))throw new kc(bs(n),n.status);let e;try{e=await n.json()}catch(s){throw new Ty(bs(s),s)}throw typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)?new Ok(bs(e),n.status,e.weak_password.reasons):new Pk(bs(e),n.status||500)}const Vk=(n,e,s,o)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),s))};async function Ce(n,e,s,o){var a;const u=Object.assign({},o==null?void 0:o.headers);o!=null&&o.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const d=(a=o==null?void 0:o.query)!==null&&a!==void 0?a:{};o!=null&&o.redirectTo&&(d.redirect_to=o.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",y=await Bk(n,e,s+h,{headers:u,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(y):{data:Object.assign({},y),error:null}}async function Bk(n,e,s,o,a,u){const d=Vk(e,o,a,u);let h;try{h=await n(s,d)}catch(y){throw console.error(y),new kc(bs(y),0)}if(h.ok||await t0(h),o!=null&&o.noResolveJson)return h;try{return await h.json()}catch(y){await t0(y)}}function Ei(n){var e;let s=null;$k(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=Ck(n.expires_in)));const o=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:s,user:o},error:null}}function n0(n){const e=Ei(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Zn(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function zk(n){return{data:n,error:null}}function jk(n){const{action_link:e,email_otp:s,hashed_token:o,redirect_to:a,verification_type:u}=n,d=Hk(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:s,hashed_token:o,redirect_to:a,verification_type:u},y=Object.assign({},d);return{data:{properties:h,user:y},error:null}}function Fk(n){return n}function $k(n){return n.access_token&&n.refresh_token&&n.expires_in}var Jk=function(n,e){var s={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(s[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(n);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(n,o[a])&&(s[o[a]]=n[o[a]]);return s};class Yk{constructor({url:e="",headers:s={},fetch:o}){this.url=e,this.headers=s,this.fetch=Sy(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await Ce(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(we(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,s={}){try{return await Ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Zn})}catch(o){if(we(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:s}=e,o=Jk(e,["options"]),a=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(a.new_email=o==null?void 0:o.newEmail,delete a.newEmail),await Ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:jk,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(we(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await Ce(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Zn})}catch(s){if(we(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,o,a,u,d,h,y;try{const m={nextPage:null,lastPage:0,total:0},x=await Ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(u=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&u!==void 0?u:""},xform:Fk});if(x.error)throw x.error;const _=await x.json(),b=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,E=(y=(h=x.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&y!==void 0?y:[];return E.length>0&&(E.forEach(M=>{const R=parseInt(M.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(M.split(";")[1].split("=")[1]);m[`${A}Page`]=R}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(we(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){try{return await Ce(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Zn})}catch(s){if(we(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await Ce(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Zn})}catch(o){if(we(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,s=!1){try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Zn})}catch(o){if(we(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){try{const{data:s,error:o}=await Ce(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:o}}catch(s){if(we(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}}}const Ey="0.0.0",Kk="http://localhost:9999",Xk="supabase.auth.token",Qk={"X-Client-Info":`gotrue-js/${Ey}`},i0=10,Zk={getItem:n=>Lo()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{Lo()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{Lo()&&globalThis.localStorage.removeItem(n)}};function s0(n={}){return{getItem:e=>n[e]||null,setItem:(e,s)=>{n[e]=s},removeItem:e=>{delete n[e]}}}function Wk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const vs={debug:!!(globalThis&&Lo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class eR extends wy{}async function tR(n,e,s){vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),vs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,a.name);try{return await s()}finally{vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,a.name)}}else{if(e===0)throw vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new eR(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(vs.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}})}Wk();const nR={url:Kk,storageKey:Xk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Qk,flowType:"implicit",debug:!1},Mo=30*1e3,o0=3;async function l0(n,e,s){return await s()}class Po{constructor(e){var s,o;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Po.nextInstanceID,Po.nextInstanceID+=1,this.instanceID>0&&Kt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},nR),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Yk({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Sy(a.fetch),this.lock=a.lock||l0,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,a.lock?this.lock=a.lock:Kt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=tR:this.lock=l0,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Lo()?this.storage=Zk:(this.memoryStorage={},this.storage=s0(this.memoryStorage)):(this.memoryStorage={},this.storage=s0(this.memoryStorage)),Kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ey}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=Kt()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:s,error:o}=await this._getSessionFromURL(e);if(o)return this._debug("#_initialize()","error detecting session from URL",o),(o==null?void 0:o.message)==="Identity is already linked"||(o==null?void 0:o.message)==="Identity is already linked to another user"?{error:o}:(await this._removeSession(),{error:o});const{session:a,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",u),await this._saveSession(a),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return we(e)?{error:e}:{error:new Ty("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(e){var s,o,a;try{await this._removeSession();let u;if("email"in e){const{email:x,password:_,options:b}=e;let E=null,M=null;if(this.flowType==="pkce"){const R=ms();await Si(this.storage,`${this.storageKey}-code-verifier`,R),E=await gs(R),M=R===E?"plain":"s256"}u=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:x,password:_,data:(s=b==null?void 0:b.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:E,code_challenge_method:M},xform:Ei})}else if("phone"in e){const{phone:x,password:_,options:b}=e;u=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:_,data:(o=b==null?void 0:b.data)!==null&&o!==void 0?o:{},channel:(a=b==null?void 0:b.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Ei})}else throw new ra("You must provide either an email or phone number and a password");const{data:d,error:h}=u;if(h||!d)return{data:{user:null,session:null},error:h};const y=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:m,session:y},error:null}}catch(u){if(we(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(e){try{await this._removeSession();let s;if("email"in e){const{email:u,password:d,options:h}=e;s=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:n0})}else if("phone"in e){const{phone:u,password:d,options:h}=e;s=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:n0})}else throw new ra("You must provide either an email or phone number and a password");const{data:o,error:a}=s;return a?{data:{user:null,session:null},error:a}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new uc}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(s){if(we(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,o,a,u;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(u=e.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await aa(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(s??"").split("/"),{data:u,error:d}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:Ei});return await rc(this.storage,`${this.storageKey}-code-verifier`),d?{data:{user:null,session:null,redirectType:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new uc}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:a??null}),error:d})}async signInWithIdToken(e){await this._removeSession();try{const{options:s,provider:o,token:a,access_token:u,nonce:d}=e,h=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ei}),{data:y,error:m}=h;return m?{data:{user:null,session:null},error:m}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new uc}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:y,error:m})}catch(s){if(we(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,o,a,u,d;try{if(await this._removeSession(),"email"in e){const{email:h,options:y}=e;let m=null,x=null;if(this.flowType==="pkce"){const b=ms();await Si(this.storage,`${this.storageKey}-code-verifier`,b),m=await gs(b),x=b===m?"plain":"s256"}const{error:_}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(s=y==null?void 0:y.data)!==null&&s!==void 0?s:{},create_user:(o=y==null?void 0:y.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:m,code_challenge_method:x},redirectTo:y==null?void 0:y.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:h,options:y}=e,{data:m,error:x}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=y==null?void 0:y.data)!==null&&a!==void 0?a:{},create_user:(u=y==null?void 0:y.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},channel:(d=y==null?void 0:y.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:x}}throw new ra("You must provide either an email or phone number.")}catch(h){if(we(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var s,o;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let a,u;"options"in e&&(a=(s=e.options)===null||s===void 0?void 0:s.redirectTo,u=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:d,error:h}=await Ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:u}}),redirectTo:a,xform:Ei});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const y=d.session,m=d.user;return y!=null&&y.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),{data:{user:m,session:y},error:null}}catch(a){if(we(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var s,o,a;try{await this._removeSession();let u=null,d=null;if(this.flowType==="pkce"){const h=ms();await Si(this.storage,`${this.storageKey}-code-verifier`,h),u=await gs(h),d=h===u?"plain":"s256"}return await Ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:zk})}catch(u){if(we(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:o}=e;if(o)throw o;if(!s)throw new ys;const{error:a}=await Ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(we(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();const s=`${this.url}/resend`;if("email"in e){const{email:o,type:a,options:u}=e,{error:d}=await Ce(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in e){const{phone:o,type:a,options:u}=e,{data:d,error:h}=await Ce(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new ra("You must provide either an email or phone number and a type")}catch(s){if(we(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await aa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o)return{data:{session:e},error:null};const{session:a,error:u}=await this._callRefreshToken(e.refresh_token);return u?{data:{session:null},error:u}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Zn}):await this._useSession(async s=>{var o,a;const{data:u,error:d}=s;if(d)throw d;return await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Zn})})}catch(s){if(we(s))return{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async o=>{const{data:a,error:u}=o;if(u)throw u;if(!a.session)throw new ys;const d=a.session;let h=null,y=null;if(this.flowType==="pkce"&&e.email!=null){const _=ms();await Si(this.storage,`${this.storageKey}-code-verifier`,_),h=await gs(_),y=_===h?"plain":"s256"}const{data:m,error:x}=await Ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:y}),jwt:d.access_token,xform:Zn});if(x)throw x;return d.user=m.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(o){if(we(o))return{data:{user:null},error:o};throw o}}_decodeJWT(e){return Wg(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ys;const s=Date.now()/1e3;let o=s,a=!0,u=null;const d=Wg(e.access_token);if(d.exp&&(o=d.exp,a=o<=s),a){const{session:h,error:y}=await this._callRefreshToken(e.refresh_token);if(y)return{data:{user:null,session:null},error:y};if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:y}=await this._getUser(e.access_token);if(y)throw y;u={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(s){if(we(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var o;if(!e){const{data:d,error:h}=s;if(h)throw h;e=(o=d.session)!==null&&o!==void 0?o:void 0}if(!(e!=null&&e.refresh_token))throw new ys;const{session:a,error:u}=await this._callRefreshToken(e.refresh_token);return u?{data:{user:null,session:null},error:u}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(we(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e){try{if(!Kt())throw new ua("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new ua("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new e0("Not a valid PKCE flow url.");const s=ac(window.location.href);if(e){if(!s.code)throw new e0("No code detected.");const{data:Y,error:B}=await this._exchangeCodeForSession(s.code);if(B)throw B;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:Y.session,redirectType:null},error:null}}if(s.error||s.error_description||s.error_code)throw new ua(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});const{provider_token:o,provider_refresh_token:a,access_token:u,refresh_token:d,expires_in:h,expires_at:y,token_type:m}=s;if(!u||!h||!d||!m)throw new ua("No session defined in URL");const x=Math.round(Date.now()/1e3),_=parseInt(h);let b=x+_;y&&(b=parseInt(y));const E=b-x;E*1e3<=Mo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${_}s`);const M=b-_;x-M>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",M,b,x):x-M<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",M,b,x);const{data:R,error:A}=await this._getUser(u);if(A)throw A;const V={provider_token:o,provider_refresh_token:a,access_token:u,expires_in:_,expires_at:b,refresh_token:d,token_type:m,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:V,redirectType:s.type},error:null}}catch(s){if(we(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantFlow(){const e=ac(window.location.href);return!!(Kt()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=ac(window.location.href),s=await aa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:a,error:u}=s;if(u)return{error:u};const d=(o=a.session)===null||o===void 0?void 0:o.access_token;if(d){const{error:h}=await this.admin.signOut(d,e);if(h&&!(Gk(h)&&(h.status===404||h.status===401)))return{error:h}}return e!=="others"&&(await this._removeSession(),await rc(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const s=Ak(),o={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async s=>{var o,a;try{const{data:{session:u},error:d}=s;if(d)throw d;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",e,"session",u)}catch(u){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",u),console.error(u)}})}async resetPasswordForEmail(e,s={}){let o=null,a=null;if(this.flowType==="pkce"){const u=ms();await Si(this.storage,`${this.storageKey}-code-verifier`,`${u}/PASSWORD_RECOVERY`),o=await gs(u),a=u===o?"plain":"s256"}try{return await Ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(we(u))return{data:null,error:u};throw u}}async getUserIdentities(){var e;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:o,error:a}=await this._useSession(async u=>{var d,h,y,m,x;const{data:_,error:b}=u;if(b)throw b;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(y=e.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await Ce(this.fetch,"GET",E,{headers:this.headers,jwt:(x=(m=_.session)===null||m===void 0?void 0:m.access_token)!==null&&x!==void 0?x:void 0})});if(a)throw a;return Kt()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),{data:{provider:e.provider,url:o==null?void 0:o.url},error:null}}catch(o){if(we(o))return{data:{provider:e.provider,url:null},error:o};throw o}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var o,a;const{data:u,error:d}=s;if(d)throw d;return await Ce(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(s){if(we(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await Ik(async a=>(await Mk(a*200),this._debug(s,"refreshing attempt",a),await Ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ei})),(a,u,d)=>d&&d.error&&cc(d.error)&&Date.now()+(a+1)*200-o<Mo)}catch(o){if(this._debug(s,"error",o),we(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",o),Kt()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await aa(this.storage,this.storageKey);if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),u=((e=o.expires_at)!==null&&e!==void 0?e:1/0)<a+i0;if(this._debug(s,`session has${u?"":" not"} expired with margin of ${i0}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),cc(d)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,o;if(!e)throw new ys;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ma;const{data:u,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!u.session)throw new ys;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={session:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(a,"error",u),we(u)){const d={session:null,error:u};return cc(u)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,s,o=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:s});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,s)}catch(y){u.push(y)}});if(await Promise.all(d),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await Si(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await rc(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Kt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Mo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-e)/Mo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Mo}ms, refresh threshold is ${o0} ticks`),a<=o0&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof wy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,o){const a=[`provider=${encodeURIComponent(s)}`];if(o!=null&&o.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const u=ms();await Si(this.storage,`${this.storageKey}-code-verifier`,u);const d=await gs(u),h=u===d?"plain":"s256";this._debug("PKCE","code verifier",`${u.substring(0,5)}...`,"code challenge",d,"method",h);const y=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});a.push(y.toString())}if(o!=null&&o.queryParams){const u=new URLSearchParams(o.queryParams);a.push(u.toString())}return o!=null&&o.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var o;const{data:a,error:u}=s;return u?{data:null,error:u}:await Ce(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(we(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var o,a;const{data:u,error:d}=s;if(d)return{data:null,error:d};const{data:h,error:y}=await Ce(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return y?{data:null,error:y}:(!((a=h==null?void 0:h.totp)===null||a===void 0)&&a.qr_code&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(s){if(we(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:a,error:u}=s;if(u)return{data:null,error:u};const{data:d,error:h}=await Ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:h})})}catch(s){if(we(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:a,error:u}=s;return u?{data:null,error:u}:await Ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(we(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:o}=await this._challenge({factorId:e.factorId});return o?{data:null,error:o}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const o=(e==null?void 0:e.factors)||[],a=o.filter(u=>u.factor_type==="totp"&&u.status==="verified");return{data:{all:o,totp:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,o;const{data:{session:a},error:u}=e;if(u)return{data:null,error:u};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const d=this._decodeJWT(a.access_token);let h=null;d.aal&&(h=d.aal);let y=h;((o=(s=a.user.factors)===null||s===void 0?void 0:s.filter(_=>_.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(y="aal2");const x=d.amr||[];return{data:{currentLevel:h,nextLevel:y,currentAuthenticationMethods:x},error:null}}))}}Po.nextInstanceID=0;class iR extends Po{constructor(e){super(e)}}var sR=function(n,e,s,o){function a(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function h(x){try{m(o.next(x))}catch(_){d(_)}}function y(x){try{m(o.throw(x))}catch(_){d(_)}}function m(x){x.done?u(x.value):a(x.value).then(h,y)}m((o=o.apply(n,e||[])).next())})};class oR{constructor(e,s,o){var a,u,d,h,y,m,x,_;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const b=wk(e);this.realtimeUrl=`${b}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${b}/auth/v1`,this.storageUrl=`${b}/storage/v1`,this.functionsUrl=`${b}/functions/v1`;const E=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,M={db:vk,realtime:_k,auth:Object.assign(Object.assign({},xk),{storageKey:E}),global:yk},R=Nk(o??{},M);this.storageKey=(u=(a=R.auth)===null||a===void 0?void 0:a.storageKey)!==null&&u!==void 0?u:"",this.headers=(h=(d=R.global)===null||d===void 0?void 0:d.headers)!==null&&h!==void 0?h:{},this.auth=this._initSupabaseAuthClient((y=R.auth)!==null&&y!==void 0?y:{},this.headers,(m=R.global)===null||m===void 0?void 0:m.fetch),this.fetch=Ek(s,this._getAccessToken.bind(this),(x=R.global)===null||x===void 0?void 0:x.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},R.realtime)),this.rest=new $c(`${b}/rest/v1`,{headers:this.headers,schema:(_=R.db)===null||_===void 0?void 0:_.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new MA(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new pk(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},o={}){return this.rest.rpc(e,s,o)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return sR(this,void 0,void 0,function*(){const{data:o}=yield this.auth.getSession();return(s=(e=o.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:o,storage:a,storageKey:u,flowType:d,debug:h},y,m){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iR({url:this.authUrl,headers:Object.assign(Object.assign({},x),y),storageKey:u,autoRefreshToken:e,persistSession:s,detectSessionInUrl:o,storage:a,flowType:d,debug:h,fetch:m})}_initRealtimeClient(e){return new tk(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,o)=>{this._handleTokenChanged(s,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(e,s,o){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==o?(this.realtime.setAuth(o??null),this.changedAccessToken=o):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lR=(n,e,s)=>new oR(n,e,s),aR="https://uutqiphiawhqzzzvpfez.supabase.co",rR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV1dHFpcGhpYXdocXp6enZwZmV6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgxMDk1MjUsImV4cCI6MjA4MzY4NTUyNX0.IiSZGyYYktKTB8SntVP7W2peq9P59ZWggxPVw-Gy_rQ",a0=lR(aR,rR),ca={fetchState:async n=>{try{const{data:e,error:s}=await a0.from("pms_data").select("state").eq("id",1).single();if(s){if(s.code==="PGRST116")return null;throw s}const o=e.state,a=!n||(o.lastUpdated||"")>n;return{state:o,hasUpdates:a}}catch(e){return console.error("Supabase Fetch Error:",e),null}},saveState:async n=>{try{const e={...n,lastUpdated:new Date().toISOString()},{error:s}=await a0.from("pms_data").upsert({id:1,state:e});if(s)throw s;return!0}catch(e){return console.error("Supabase Sync Error:",e),!1}}},uR=[{id:"s1",name:"Standard Cleaning",price:200,isFree:!1},{id:"s2",name:"Poolside Service",price:150,isFree:!1},{id:"s3",name:"Airport Transfer",price:500,isFree:!1},{id:"s4",name:"Continental Breakfast",price:100,isFree:!1}],cR={canViewDashboard:!0,canViewTimeline:!0,canViewUnits:!0,canManageUnits:!0,canViewBookings:!0,canManageBookings:!0,canDeleteBookings:!0,canViewCustomers:!0,canManageCustomers:!0,canDeleteCustomers:!0,canViewServices:!0,canManageServices:!0,canViewReports:!0,canViewStaff:!0,canManageStaff:!0,canViewLogs:!0,canManageCommissions:!0},dR={id:"root-admin",name:"Super Admin",username:"admin",password:"admin2025",role:"admin",permissions:cR,isActive:!0},fR=()=>{const[n,e]=oe.useState(!0),[s,o]=oe.useState(!1),[a,u]=oe.useState(null),[d,h]=oe.useState(null),[y,m]=oe.useState("dashboard"),[x,_]=oe.useState(""),[b,E]=oe.useState(""),[M,R]=oe.useState(!1),[A,V]=oe.useState(!1),[Y,B]=oe.useState(null),[P,Z]=oe.useState(null),Q="2026-01-07",w=oe.useRef(null),[G,k]=oe.useState({apartments:[],customers:[],bookings:[],services:uR,expenses:[],logs:[],notifications:[],users:[dR],currentUser:null}),X=oe.useCallback(async(W=!1)=>{if(!s){o(!0);try{if(W)await ca.saveState(G),u(new Date);else{const D=await ca.fetchState(G.lastUpdated);D&&D.hasUpdates&&(k(D.state),u(new Date))}}catch(D){console.error("Critical Sync Failure:",D)}finally{o(!1)}}},[G,s]);oe.useEffect(()=>{(async()=>{const D=await ca.fetchState();D&&k(D.state),u(new Date),e(!1)})()},[]),oe.useEffect(()=>{if(!(n||!d))return w.current=setInterval(()=>{X(!1)},3e4),()=>{w.current&&clearInterval(w.current)}},[n,d,X]);const ne=oe.useCallback((W,D)=>{const K={id:Math.random().toString(36).substr(2,9),timestamp:new Date().toISOString(),user:(d==null?void 0:d.name)||"System",action:W,details:D};k(re=>({...re,logs:[K,...re.logs].slice(0,100)}))},[d]),ue=oe.useCallback(W=>{k(W),ca.saveState(W).then(()=>{u(new Date)})},[]),ie=(W,D)=>{const K={...G,bookings:G.bookings.map(re=>re.id===W?{...re,...D}:re)};ue(K),ne("Update Booking",`ID: ${W}`)},Ge=(W,D)=>{var C;let K=W.customerId,re=[...G.customers];if(D){const z={...D,id:Math.random().toString(36).substr(2,9)};K=z.id,re.push(z)}const L={...W,id:Math.random().toString(36).substr(2,9),customerId:K},ae={...G,customers:re,bookings:[...G.bookings,L]};ue(ae),ne("New Booking Saved",`Unit ${(C=G.apartments.find(z=>z.id===W.apartmentId))==null?void 0:C.unitNumber}`)};return n?g.jsxs("div",{className:"min-h-screen bg-[#020617] flex flex-col items-center justify-center p-6",children:[g.jsxs("div",{className:"text-4xl font-black text-white tracking-tighter uppercase mb-8",children:["BAHIA",g.jsx("span",{className:"text-sky-500",children:"."})]}),g.jsxs("div",{className:"flex flex-col items-center gap-4",children:[g.jsx(ba,{className:"w-12 h-12 text-sky-500 animate-spin"}),g.jsx("p",{className:"text-sky-400 font-black text-[10px] uppercase tracking-[0.4em]",children:"Handshaking with Cloud Database..."})]})]}):d?g.jsxs(Wb,{activeTab:y,onTabChange:m,user:d,onLogout:()=>h(null),notifications:G.notifications,onMarkRead:()=>{},isSyncing:s,lastSyncTime:a,onManualSync:()=>X(!0),children:[g.jsx(zg,{state:G,userRole:d.role,userName:d.name,isInternalModalOnly:!0,externalModalOpen:A,onExternalModalClose:()=>{V(!1),B(null),Z(null)},initialSelection:Y,initialEditId:P,onAddBooking:Ge,onUpdateBooking:ie,onCancelBooking:W=>ie(W,{status:"cancelled"}),onDeleteBooking:W=>ue({...G,bookings:G.bookings.filter(D=>D.id!==W)})}),y==="dashboard"&&g.jsx(mA,{state:G,onAddService:(W,D,K,re)=>{const L=G.services.find(z=>z.id===D);if(!L)return;const ae={id:Math.random().toString(36).substr(2,9),serviceId:D,name:L.name,price:L.price,date:Q,paymentMethod:K,isPaid:re},C={...G,bookings:G.bookings.map(z=>z.id===W?{...z,extraServices:[...z.extraServices||[],ae],totalAmount:Number((z.totalAmount+L.price).toFixed(2))}:z)};ue(C)},onUpdateBooking:ie,onOpenDetails:W=>{Z(W),V(!0)},onTabChange:m}),y==="calendar"&&g.jsx(yA,{apartments:G.apartments,bookings:G.bookings,onBookingInitiate:(W,D,K)=>{B({aptId:W,start:D,end:K}),V(!0)},onEditBooking:W=>{Z(W),V(!0)}}),y==="apartments"&&g.jsx(gA,{apartments:G.apartments,userRole:d.role,onAdd:W=>ue({...G,apartments:[...G.apartments,{...W,id:Math.random().toString(36).substr(2,9)}]}),onUpdate:(W,D)=>ue({...G,apartments:G.apartments.map(K=>K.id===W?{...K,...D}:K)}),onDelete:W=>ue({...G,apartments:G.apartments.filter(D=>D.id!==W)})}),y==="bookings"&&g.jsx(zg,{state:G,userRole:d.role,userName:d.name,onAddBooking:Ge,onUpdateBooking:ie,onCancelBooking:W=>ie(W,{status:"cancelled"}),onDeleteBooking:W=>ue({...G,bookings:G.bookings.filter(D=>D.id!==W)})}),y==="maintenance"&&g.jsx(bA,{expenses:G.expenses,apartments:G.apartments,onAddExpense:W=>ue({...G,expenses:[...G.expenses,{...W,id:Math.random().toString(36).substr(2,9)}]}),onDeleteExpense:W=>ue({...G,expenses:G.expenses.filter(D=>D.id!==W)})}),y==="commissions"&&g.jsx(SA,{state:G,onUpdateBooking:ie}),y==="reports"&&g.jsx(vA,{state:G}),y==="services"&&g.jsx(_A,{services:G.services,onAdd:W=>ue({...G,services:[...G.services,{...W,id:Math.random().toString(36).substr(2,9)}]}),onUpdate:(W,D)=>ue({...G,services:G.services.map(K=>K.id===W?{...K,...D}:K)}),onDelete:W=>ue({...G,services:G.services.filter(D=>D.id!==W)})}),y==="team"&&g.jsx(xA,{users:G.users,onAddUser:W=>ue({...G,users:[...G.users,{...W,id:Math.random().toString(36).substr(2,9)}]}),onUpdateUser:(W,D)=>ue({...G,users:G.users.map(K=>K.id===W?{...K,...D}:K)}),onDeleteUser:W=>ue({...G,users:G.users.filter(D=>D.id!==W)})}),y==="logs"&&g.jsx(TA,{state:G,onImport:async W=>ue(await my.importData(W)),onClearLogs:()=>ue({...G,logs:[]})})]}):g.jsxs("div",{className:"min-h-screen bg-[#020617] flex items-center justify-center p-6 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[50%] h-[50%] bg-sky-600/5 rounded-full blur-[120px] animate-pulse"}),g.jsxs("div",{className:"w-full max-w-[420px] bg-white/5 backdrop-blur-3xl rounded-[3rem] p-12 shadow-2xl border border-white/10 relative z-10",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsxs("div",{className:"text-4xl font-black text-white tracking-tighter uppercase mb-2",children:["BAHIA",g.jsx("span",{className:"text-sky-500",children:"."})]}),g.jsx("div",{className:"h-1 w-12 bg-sky-500 mx-auto rounded-full mb-6"}),g.jsx("p",{className:"text-sky-400 font-black uppercase text-[10px] tracking-[0.4em]",children:"SYSTEM TERMINAL"})]}),M&&g.jsx("div",{className:"mb-8 p-4 bg-rose-500/10 border border-rose-500/20 rounded-2xl text-rose-400 text-[10px] font-black text-center animate-shake",children:"Invalid Key"}),g.jsxs("form",{onSubmit:W=>{W.preventDefault();const D=G.users.find(K=>K.username===x&&K.password===b);D?(h(D),ne("Login",D.name)):R(!0)},className:"space-y-6",children:[g.jsx("input",{type:"text",required:!0,placeholder:"Username",className:"w-full px-8 py-5 rounded-2xl border border-white/10 bg-white/5 !text-white font-black text-sm outline-none",value:x,onChange:W=>_(W.target.value)}),g.jsx("input",{type:"password",required:!0,placeholder:"Security Key",className:"w-full px-8 py-5 rounded-2xl border border-white/10 bg-white/5 !text-white font-black text-sm outline-none",value:b,onChange:W=>E(W.target.value)}),g.jsx("button",{className:"w-full bg-white text-slate-950 py-6 rounded-2xl font-black uppercase tracking-[0.2em] hover:bg-sky-500 hover:text-white transition-all shadow-xl text-xs",children:"Authorize Entry"})]})]})]})},Ny=document.getElementById("root");if(!Ny)throw new Error("Could not find root element to mount to");const hR=a_.createRoot(Ny);hR.render(g.jsx(Wx.StrictMode,{children:g.jsx(fR,{})}));export{r0 as g};
